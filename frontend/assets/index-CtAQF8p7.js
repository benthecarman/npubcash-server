var g6=Object.defineProperty;var y6=(e,t,n)=>t in e?g6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var m6=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var _e=(e,t,n)=>(y6(e,typeof t!="symbol"?t+"":t,n),n);var mW=m6((BW,e1)=>{function t2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ya=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function la(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function v6(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var n2={exports:{}},ff={},r2={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yl=Symbol.for("react.element"),w6=Symbol.for("react.portal"),x6=Symbol.for("react.fragment"),b6=Symbol.for("react.strict_mode"),E6=Symbol.for("react.profiler"),S6=Symbol.for("react.provider"),_6=Symbol.for("react.context"),A6=Symbol.for("react.forward_ref"),k6=Symbol.for("react.suspense"),R6=Symbol.for("react.memo"),C6=Symbol.for("react.lazy"),xy=Symbol.iterator;function T6(e){return e===null||typeof e!="object"?null:(e=xy&&e[xy]||e["@@iterator"],typeof e=="function"?e:null)}var i2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o2=Object.assign,s2={};function ua(e,t,n){this.props=e,this.context=t,this.refs=s2,this.updater=n||i2}ua.prototype.isReactComponent={};ua.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ua.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function a2(){}a2.prototype=ua.prototype;function t1(e,t,n){this.props=e,this.context=t,this.refs=s2,this.updater=n||i2}var n1=t1.prototype=new a2;n1.constructor=t1;o2(n1,ua.prototype);n1.isPureReactComponent=!0;var by=Array.isArray,l2=Object.prototype.hasOwnProperty,r1={current:null},u2={key:!0,ref:!0,__self:!0,__source:!0};function c2(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)l2.call(t,r)&&!u2.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Yl,type:e,key:o,ref:s,props:i,_owner:r1.current}}function B6(e,t){return{$$typeof:Yl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function i1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yl}function $6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ey=/\/+/g;function Id(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$6(""+e.key):t.toString(36)}function Qu(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Yl:case w6:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Id(s,0):r,by(i)?(n="",e!=null&&(n=e.replace(Ey,"$&/")+"/"),Qu(i,t,n,"",function(u){return u})):i!=null&&(i1(i)&&(i=B6(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ey,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",by(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Id(o,a);s+=Qu(o,t,n,l,i)}else if(l=T6(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Id(o,a++),s+=Qu(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function du(e,t,n){if(e==null)return e;var r=[],i=0;return Qu(e,r,"","",function(o){return t.call(n,o,i++)}),r}function M6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nn={current:null},Ju={transition:null},P6={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Ju,ReactCurrentOwner:r1};Te.Children={map:du,forEach:function(e,t,n){du(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return du(e,function(){t++}),t},toArray:function(e){return du(e,function(t){return t})||[]},only:function(e){if(!i1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=ua;Te.Fragment=x6;Te.Profiler=E6;Te.PureComponent=t1;Te.StrictMode=b6;Te.Suspense=k6;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P6;Te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=o2({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=r1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)l2.call(t,l)&&!u2.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Yl,type:e.type,key:i,ref:o,props:r,_owner:s}};Te.createContext=function(e){return e={$$typeof:_6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:S6,_context:e},e.Consumer=e};Te.createElement=c2;Te.createFactory=function(e){var t=c2.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:A6,render:e}};Te.isValidElement=i1;Te.lazy=function(e){return{$$typeof:C6,_payload:{_status:-1,_result:e},_init:M6}};Te.memo=function(e,t){return{$$typeof:R6,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=Ju.transition;Ju.transition={};try{e()}finally{Ju.transition=t}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(e,t){return nn.current.useCallback(e,t)};Te.useContext=function(e){return nn.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return nn.current.useDeferredValue(e)};Te.useEffect=function(e,t){return nn.current.useEffect(e,t)};Te.useId=function(){return nn.current.useId()};Te.useImperativeHandle=function(e,t,n){return nn.current.useImperativeHandle(e,t,n)};Te.useInsertionEffect=function(e,t){return nn.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return nn.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return nn.current.useMemo(e,t)};Te.useReducer=function(e,t,n){return nn.current.useReducer(e,t,n)};Te.useRef=function(e){return nn.current.useRef(e)};Te.useState=function(e){return nn.current.useState(e)};Te.useSyncExternalStore=function(e,t,n){return nn.current.useSyncExternalStore(e,t,n)};Te.useTransition=function(){return nn.current.useTransition()};Te.version="18.2.0";r2.exports=Te;var q=r2.exports;const Qt=la(q),I6=t2({__proto__:null,default:Qt},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L6=q,N6=Symbol.for("react.element"),O6=Symbol.for("react.fragment"),j6=Object.prototype.hasOwnProperty,U6=L6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D6={key:!0,ref:!0,__self:!0,__source:!0};function f2(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)j6.call(t,r)&&!D6.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:N6,type:e,key:o,ref:s,props:i,_owner:U6.current}}ff.Fragment=O6;ff.jsx=f2;ff.jsxs=f2;n2.exports=ff;var U=n2.exports,n0={},d2={exports:{}},bn={},h2={exports:{}},p2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,S){var h=P.length;P.push(S);e:for(;0<h;){var B=h-1>>>1,z=P[B];if(0<i(z,S))P[B]=S,P[h]=z,h=B;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var S=P[0],h=P.pop();if(h!==S){P[0]=h;e:for(var B=0,z=P.length,Q=z>>>1;B<Q;){var J=2*(B+1)-1,te=P[J],re=J+1,ie=P[re];if(0>i(te,h))re<z&&0>i(ie,te)?(P[B]=ie,P[re]=h,B=re):(P[B]=te,P[J]=h,B=J);else if(re<z&&0>i(ie,h))P[B]=ie,P[re]=h,B=re;else break e}}return S}function i(P,S){var h=P.sortIndex-S.sortIndex;return h!==0?h:P.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,p=3,E=!1,_=!1,y=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(P){for(var S=n(u);S!==null;){if(S.callback===null)r(u);else if(S.startTime<=P)r(u),S.sortIndex=S.expirationTime,t(l,S);else break;S=n(u)}}function L(P){if(y=!1,T(P),!_)if(n(l)!==null)_=!0,x(j);else{var S=n(u);S!==null&&$(L,S.startTime-P)}}function j(P,S){_=!1,y&&(y=!1,w(D),D=-1),E=!0;var h=p;try{for(T(S),f=n(l);f!==null&&(!(f.expirationTime>S)||P&&!k());){var B=f.callback;if(typeof B=="function"){f.callback=null,p=f.priorityLevel;var z=B(f.expirationTime<=S);S=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),T(S)}else r(l);f=n(l)}if(f!==null)var Q=!0;else{var J=n(u);J!==null&&$(L,J.startTime-S),Q=!1}return Q}finally{f=null,p=h,E=!1}}var M=!1,N=null,D=-1,K=5,H=-1;function k(){return!(e.unstable_now()-H<K)}function d(){if(N!==null){var P=e.unstable_now();H=P;var S=!0;try{S=N(!0,P)}finally{S?g():(M=!1,N=null)}}else M=!1}var g;if(typeof R=="function")g=function(){R(d)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,m=C.port2;C.port1.onmessage=d,g=function(){m.postMessage(null)}}else g=function(){A(d,0)};function x(P){N=P,M||(M=!0,g())}function $(P,S){D=A(function(){P(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){_||E||(_=!0,x(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var S=3;break;default:S=p}var h=p;p=S;try{return P()}finally{p=h}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,S){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var h=p;p=P;try{return S()}finally{p=h}},e.unstable_scheduleCallback=function(P,S,h){var B=e.unstable_now();switch(typeof h=="object"&&h!==null?(h=h.delay,h=typeof h=="number"&&0<h?B+h:B):h=B,P){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=h+z,P={id:c++,callback:S,priorityLevel:P,startTime:h,expirationTime:z,sortIndex:-1},h>B?(P.sortIndex=h,t(u,P),n(l)===null&&P===n(u)&&(y?(w(D),D=-1):y=!0,$(L,h-B))):(P.sortIndex=z,t(l,P),_||E||(_=!0,x(j))),P},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(P){var S=p;return function(){var h=p;p=S;try{return P.apply(this,arguments)}finally{p=h}}}})(p2);h2.exports=p2;var F6=h2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2=q,xn=F6;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y2=new Set,bl={};function ls(e,t){Ds(e,t),Ds(e+"Capture",t)}function Ds(e,t){for(bl[e]=t,e=0;e<t.length;e++)y2.add(t[e])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r0=Object.prototype.hasOwnProperty,z6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sy={},_y={};function H6(e){return r0.call(_y,e)?!0:r0.call(Sy,e)?!1:z6.test(e)?_y[e]=!0:(Sy[e]=!0,!1)}function K6(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function V6(e,t,n,r){if(t===null||typeof t>"u"||K6(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rn(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vt[e]=new rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vt[t]=new rn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vt[e]=new rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vt[e]=new rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vt[e]=new rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vt[e]=new rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vt[e]=new rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vt[e]=new rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vt[e]=new rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var o1=/[\-:]([a-z])/g;function s1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(o1,s1);Vt[t]=new rn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(o1,s1);Vt[t]=new rn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(o1,s1);Vt[t]=new rn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vt[e]=new rn(e,1,!1,e.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vt[e]=new rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function a1(e,t,n,r){var i=Vt.hasOwnProperty(t)?Vt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(V6(t,n,i,r)&&(n=null),r||i===null?H6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ai=g2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hu=Symbol.for("react.element"),gs=Symbol.for("react.portal"),ys=Symbol.for("react.fragment"),l1=Symbol.for("react.strict_mode"),i0=Symbol.for("react.profiler"),m2=Symbol.for("react.provider"),v2=Symbol.for("react.context"),u1=Symbol.for("react.forward_ref"),o0=Symbol.for("react.suspense"),s0=Symbol.for("react.suspense_list"),c1=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),w2=Symbol.for("react.offscreen"),Ay=Symbol.iterator;function Ca(e){return e===null||typeof e!="object"?null:(e=Ay&&e[Ay]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,Ld;function Qa(e){if(Ld===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ld=t&&t[1]||""}return`
`+Ld+e}var Nd=!1;function Od(e,t){if(!e||Nd)return"";Nd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Nd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qa(e):""}function q6(e){switch(e.tag){case 5:return Qa(e.type);case 16:return Qa("Lazy");case 13:return Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 2:case 15:return e=Od(e.type,!1),e;case 11:return e=Od(e.type.render,!1),e;case 1:return e=Od(e.type,!0),e;default:return""}}function a0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ys:return"Fragment";case gs:return"Portal";case i0:return"Profiler";case l1:return"StrictMode";case o0:return"Suspense";case s0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case v2:return(e.displayName||"Context")+".Consumer";case m2:return(e._context.displayName||"Context")+".Provider";case u1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case c1:return t=e.displayName||null,t!==null?t:a0(e.type)||"Memo";case Li:t=e._payload,e=e._init;try{return a0(e(t))}catch{}}return null}function W6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return a0(t);case 8:return t===l1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function to(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function x2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function G6(e){var t=x2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pu(e){e._valueTracker||(e._valueTracker=G6(e))}function b2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=x2(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function l0(e,t){var n=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ky(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=to(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function E2(e,t){t=t.checked,t!=null&&a1(e,"checked",t,!1)}function u0(e,t){E2(e,t);var n=to(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?c0(e,t.type,n):t.hasOwnProperty("defaultValue")&&c0(e,t.type,to(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ry(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function c0(e,t,n){(t!=="number"||hc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ja=Array.isArray;function Is(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+to(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function f0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ne(92));if(Ja(n)){if(1<n.length)throw Error(ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:to(n)}}function S2(e,t){var n=to(t.value),r=to(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ty(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function d0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gu,A2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gu=gu||document.createElement("div"),gu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function El(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z6=["Webkit","ms","Moz","O"];Object.keys(ol).forEach(function(e){Z6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ol[t]=ol[e]})});function k2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ol.hasOwnProperty(e)&&ol[e]?(""+t).trim():t+"px"}function R2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=k2(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Y6=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h0(e,t){if(t){if(Y6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function p0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g0=null;function f1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var y0=null,Ls=null,Ns=null;function By(e){if(e=Xl(e)){if(typeof y0!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=yf(t),y0(e.stateNode,e.type,t))}}function C2(e){Ls?Ns?Ns.push(e):Ns=[e]:Ls=e}function T2(){if(Ls){var e=Ls,t=Ns;if(Ns=Ls=null,By(e),t)for(e=0;e<t.length;e++)By(t[e])}}function B2(e,t){return e(t)}function $2(){}var jd=!1;function M2(e,t,n){if(jd)return e(t,n);jd=!0;try{return B2(e,t,n)}finally{jd=!1,(Ls!==null||Ns!==null)&&($2(),T2())}}function Sl(e,t){var n=e.stateNode;if(n===null)return null;var r=yf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ne(231,t,typeof n));return n}var m0=!1;if(ei)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){m0=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{m0=!1}function Q6(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var sl=!1,pc=null,gc=!1,v0=null,J6={onError:function(e){sl=!0,pc=e}};function X6(e,t,n,r,i,o,s,a,l){sl=!1,pc=null,Q6.apply(J6,arguments)}function e5(e,t,n,r,i,o,s,a,l){if(X6.apply(this,arguments),sl){if(sl){var u=pc;sl=!1,pc=null}else throw Error(ne(198));gc||(gc=!0,v0=u)}}function us(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function P2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $y(e){if(us(e)!==e)throw Error(ne(188))}function t5(e){var t=e.alternate;if(!t){if(t=us(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $y(i),e;if(o===r)return $y(i),t;o=o.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?e:t}function I2(e){return e=t5(e),e!==null?L2(e):null}function L2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=L2(e);if(t!==null)return t;e=e.sibling}return null}var N2=xn.unstable_scheduleCallback,My=xn.unstable_cancelCallback,n5=xn.unstable_shouldYield,r5=xn.unstable_requestPaint,pt=xn.unstable_now,i5=xn.unstable_getCurrentPriorityLevel,d1=xn.unstable_ImmediatePriority,O2=xn.unstable_UserBlockingPriority,yc=xn.unstable_NormalPriority,o5=xn.unstable_LowPriority,j2=xn.unstable_IdlePriority,df=null,Br=null;function s5(e){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(df,e,void 0,(e.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:u5,a5=Math.log,l5=Math.LN2;function u5(e){return e>>>=0,e===0?32:31-(a5(e)/l5|0)|0}var yu=64,mu=4194304;function Xa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Xa(a):(o&=s,o!==0&&(r=Xa(o)))}else s=n&~i,s!==0?r=Xa(s):o!==0&&(r=Xa(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-or(t),i=1<<n,r|=e[n],t&=~i;return r}function c5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f5(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-or(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=c5(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function w0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function U2(){var e=yu;return yu<<=1,!(yu&4194240)&&(yu=64),e}function Ud(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ql(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-or(t),e[t]=n}function d5(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-or(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function h1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-or(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ke=0;function D2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var F2,p1,z2,H2,K2,x0=!1,vu=[],Ki=null,Vi=null,qi=null,_l=new Map,Al=new Map,Oi=[],h5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Py(e,t){switch(e){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":_l.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(t.pointerId)}}function Ba(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Xl(t),t!==null&&p1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function p5(e,t,n,r,i){switch(t){case"focusin":return Ki=Ba(Ki,e,t,n,r,i),!0;case"dragenter":return Vi=Ba(Vi,e,t,n,r,i),!0;case"mouseover":return qi=Ba(qi,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return _l.set(o,Ba(_l.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Al.set(o,Ba(Al.get(o)||null,e,t,n,r,i)),!0}return!1}function V2(e){var t=Uo(e.target);if(t!==null){var n=us(t);if(n!==null){if(t=n.tag,t===13){if(t=P2(n),t!==null){e.blockedOn=t,K2(e.priority,function(){z2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=b0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);g0=r,n.target.dispatchEvent(r),g0=null}else return t=Xl(n),t!==null&&p1(t),e.blockedOn=n,!1;t.shift()}return!0}function Iy(e,t,n){Xu(e)&&n.delete(t)}function g5(){x0=!1,Ki!==null&&Xu(Ki)&&(Ki=null),Vi!==null&&Xu(Vi)&&(Vi=null),qi!==null&&Xu(qi)&&(qi=null),_l.forEach(Iy),Al.forEach(Iy)}function $a(e,t){e.blockedOn===t&&(e.blockedOn=null,x0||(x0=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,g5)))}function kl(e){function t(i){return $a(i,e)}if(0<vu.length){$a(vu[0],e);for(var n=1;n<vu.length;n++){var r=vu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ki!==null&&$a(Ki,e),Vi!==null&&$a(Vi,e),qi!==null&&$a(qi,e),_l.forEach(t),Al.forEach(t),n=0;n<Oi.length;n++)r=Oi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Oi.length&&(n=Oi[0],n.blockedOn===null);)V2(n),n.blockedOn===null&&Oi.shift()}var Os=ai.ReactCurrentBatchConfig,vc=!0;function y5(e,t,n,r){var i=Ke,o=Os.transition;Os.transition=null;try{Ke=1,g1(e,t,n,r)}finally{Ke=i,Os.transition=o}}function m5(e,t,n,r){var i=Ke,o=Os.transition;Os.transition=null;try{Ke=4,g1(e,t,n,r)}finally{Ke=i,Os.transition=o}}function g1(e,t,n,r){if(vc){var i=b0(e,t,n,r);if(i===null)Zd(e,t,r,wc,n),Py(e,r);else if(p5(i,e,t,n,r))r.stopPropagation();else if(Py(e,r),t&4&&-1<h5.indexOf(e)){for(;i!==null;){var o=Xl(i);if(o!==null&&F2(o),o=b0(e,t,n,r),o===null&&Zd(e,t,r,wc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Zd(e,t,r,null,n)}}var wc=null;function b0(e,t,n,r){if(wc=null,e=f1(r),e=Uo(e),e!==null)if(t=us(e),t===null)e=null;else if(n=t.tag,n===13){if(e=P2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wc=e,null}function q2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i5()){case d1:return 1;case O2:return 4;case yc:case o5:return 16;case j2:return 536870912;default:return 16}default:return 16}}var Ui=null,y1=null,ec=null;function W2(){if(ec)return ec;var e,t=y1,n=t.length,r,i="value"in Ui?Ui.value:Ui.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return ec=i.slice(e,1<r?1-r:void 0)}function tc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wu(){return!0}function Ly(){return!1}function En(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?wu:Ly,this.isPropagationStopped=Ly,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wu)},persist:function(){},isPersistent:wu}),t}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},m1=En(ca),Jl=st({},ca,{view:0,detail:0}),v5=En(Jl),Dd,Fd,Ma,hf=st({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:v1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ma&&(Ma&&e.type==="mousemove"?(Dd=e.screenX-Ma.screenX,Fd=e.screenY-Ma.screenY):Fd=Dd=0,Ma=e),Dd)},movementY:function(e){return"movementY"in e?e.movementY:Fd}}),Ny=En(hf),w5=st({},hf,{dataTransfer:0}),x5=En(w5),b5=st({},Jl,{relatedTarget:0}),zd=En(b5),E5=st({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),S5=En(E5),_5=st({},ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),A5=En(_5),k5=st({},ca,{data:0}),Oy=En(k5),R5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=T5[e])?!!t[e]:!1}function v1(){return B5}var $5=st({},Jl,{key:function(e){if(e.key){var t=R5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?C5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:v1,charCode:function(e){return e.type==="keypress"?tc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),M5=En($5),P5=st({},hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jy=En(P5),I5=st({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:v1}),L5=En(I5),N5=st({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),O5=En(N5),j5=st({},hf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),U5=En(j5),D5=[9,13,27,32],w1=ei&&"CompositionEvent"in window,al=null;ei&&"documentMode"in document&&(al=document.documentMode);var F5=ei&&"TextEvent"in window&&!al,G2=ei&&(!w1||al&&8<al&&11>=al),Uy=" ",Dy=!1;function Z2(e,t){switch(e){case"keyup":return D5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ms=!1;function z5(e,t){switch(e){case"compositionend":return Y2(t);case"keypress":return t.which!==32?null:(Dy=!0,Uy);case"textInput":return e=t.data,e===Uy&&Dy?null:e;default:return null}}function H5(e,t){if(ms)return e==="compositionend"||!w1&&Z2(e,t)?(e=W2(),ec=y1=Ui=null,ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return G2&&t.locale!=="ko"?null:t.data;default:return null}}var K5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!K5[e.type]:t==="textarea"}function Q2(e,t,n,r){C2(r),t=xc(t,"onChange"),0<t.length&&(n=new m1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ll=null,Rl=null;function V5(e){lx(e,0)}function pf(e){var t=xs(e);if(b2(t))return e}function q5(e,t){if(e==="change")return t}var J2=!1;if(ei){var Hd;if(ei){var Kd="oninput"in document;if(!Kd){var zy=document.createElement("div");zy.setAttribute("oninput","return;"),Kd=typeof zy.oninput=="function"}Hd=Kd}else Hd=!1;J2=Hd&&(!document.documentMode||9<document.documentMode)}function Hy(){ll&&(ll.detachEvent("onpropertychange",X2),Rl=ll=null)}function X2(e){if(e.propertyName==="value"&&pf(Rl)){var t=[];Q2(t,Rl,e,f1(e)),M2(V5,t)}}function W5(e,t,n){e==="focusin"?(Hy(),ll=t,Rl=n,ll.attachEvent("onpropertychange",X2)):e==="focusout"&&Hy()}function G5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pf(Rl)}function Z5(e,t){if(e==="click")return pf(t)}function Y5(e,t){if(e==="input"||e==="change")return pf(t)}function Q5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ar=typeof Object.is=="function"?Object.is:Q5;function Cl(e,t){if(ar(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!r0.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function Ky(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vy(e,t){var n=Ky(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ky(n)}}function ex(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ex(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tx(){for(var e=window,t=hc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hc(e.document)}return t}function x1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function J5(e){var t=tx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ex(n.ownerDocument.documentElement,n)){if(r!==null&&x1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Vy(n,o);var s=Vy(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var X5=ei&&"documentMode"in document&&11>=document.documentMode,vs=null,E0=null,ul=null,S0=!1;function qy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;S0||vs==null||vs!==hc(r)||(r=vs,"selectionStart"in r&&x1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ul&&Cl(ul,r)||(ul=r,r=xc(E0,"onSelect"),0<r.length&&(t=new m1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vs)))}function xu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ws={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},Vd={},nx={};ei&&(nx=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function gf(e){if(Vd[e])return Vd[e];if(!ws[e])return e;var t=ws[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in nx)return Vd[e]=t[n];return e}var rx=gf("animationend"),ix=gf("animationiteration"),ox=gf("animationstart"),sx=gf("transitionend"),ax=new Map,Wy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(e,t){ax.set(e,t),ls(t,[e])}for(var qd=0;qd<Wy.length;qd++){var Wd=Wy[qd],eS=Wd.toLowerCase(),tS=Wd[0].toUpperCase()+Wd.slice(1);uo(eS,"on"+tS)}uo(rx,"onAnimationEnd");uo(ix,"onAnimationIteration");uo(ox,"onAnimationStart");uo("dblclick","onDoubleClick");uo("focusin","onFocus");uo("focusout","onBlur");uo(sx,"onTransitionEnd");Ds("onMouseEnter",["mouseout","mouseover"]);Ds("onMouseLeave",["mouseout","mouseover"]);Ds("onPointerEnter",["pointerout","pointerover"]);Ds("onPointerLeave",["pointerout","pointerover"]);ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nS=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function Gy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,e5(r,t,void 0,e),e.currentTarget=null}function lx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Gy(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Gy(i,a,u),o=l}}}if(gc)throw e=v0,gc=!1,v0=null,e}function Ze(e,t){var n=t[C0];n===void 0&&(n=t[C0]=new Set);var r=e+"__bubble";n.has(r)||(ux(t,e,2,!1),n.add(r))}function Gd(e,t,n){var r=0;t&&(r|=4),ux(n,e,r,t)}var bu="_reactListening"+Math.random().toString(36).slice(2);function Tl(e){if(!e[bu]){e[bu]=!0,y2.forEach(function(n){n!=="selectionchange"&&(nS.has(n)||Gd(n,!1,e),Gd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bu]||(t[bu]=!0,Gd("selectionchange",!1,t))}}function ux(e,t,n,r){switch(q2(t)){case 1:var i=y5;break;case 4:i=m5;break;default:i=g1}n=i.bind(null,t,n,e),i=void 0,!m0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zd(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Uo(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}M2(function(){var u=o,c=f1(n),f=[];e:{var p=ax.get(e);if(p!==void 0){var E=m1,_=e;switch(e){case"keypress":if(tc(n)===0)break e;case"keydown":case"keyup":E=M5;break;case"focusin":_="focus",E=zd;break;case"focusout":_="blur",E=zd;break;case"beforeblur":case"afterblur":E=zd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=x5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=L5;break;case rx:case ix:case ox:E=S5;break;case sx:E=O5;break;case"scroll":E=v5;break;case"wheel":E=U5;break;case"copy":case"cut":case"paste":E=A5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=jy}var y=(t&4)!==0,A=!y&&e==="scroll",w=y?p!==null?p+"Capture":null:p;y=[];for(var R=u,T;R!==null;){T=R;var L=T.stateNode;if(T.tag===5&&L!==null&&(T=L,w!==null&&(L=Sl(R,w),L!=null&&y.push(Bl(R,L,T)))),A)break;R=R.return}0<y.length&&(p=new E(p,_,null,n,c),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",p&&n!==g0&&(_=n.relatedTarget||n.fromElement)&&(Uo(_)||_[ti]))break e;if((E||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,E?(_=n.relatedTarget||n.toElement,E=u,_=_?Uo(_):null,_!==null&&(A=us(_),_!==A||_.tag!==5&&_.tag!==6)&&(_=null)):(E=null,_=u),E!==_)){if(y=Ny,L="onMouseLeave",w="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(y=jy,L="onPointerLeave",w="onPointerEnter",R="pointer"),A=E==null?p:xs(E),T=_==null?p:xs(_),p=new y(L,R+"leave",E,n,c),p.target=A,p.relatedTarget=T,L=null,Uo(c)===u&&(y=new y(w,R+"enter",_,n,c),y.target=T,y.relatedTarget=A,L=y),A=L,E&&_)t:{for(y=E,w=_,R=0,T=y;T;T=cs(T))R++;for(T=0,L=w;L;L=cs(L))T++;for(;0<R-T;)y=cs(y),R--;for(;0<T-R;)w=cs(w),T--;for(;R--;){if(y===w||w!==null&&y===w.alternate)break t;y=cs(y),w=cs(w)}y=null}else y=null;E!==null&&Zy(f,p,E,y,!1),_!==null&&A!==null&&Zy(f,A,_,y,!0)}}e:{if(p=u?xs(u):window,E=p.nodeName&&p.nodeName.toLowerCase(),E==="select"||E==="input"&&p.type==="file")var j=q5;else if(Fy(p))if(J2)j=Y5;else{j=G5;var M=W5}else(E=p.nodeName)&&E.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=Z5);if(j&&(j=j(e,u))){Q2(f,j,n,c);break e}M&&M(e,p,u),e==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&c0(p,"number",p.value)}switch(M=u?xs(u):window,e){case"focusin":(Fy(M)||M.contentEditable==="true")&&(vs=M,E0=u,ul=null);break;case"focusout":ul=E0=vs=null;break;case"mousedown":S0=!0;break;case"contextmenu":case"mouseup":case"dragend":S0=!1,qy(f,n,c);break;case"selectionchange":if(X5)break;case"keydown":case"keyup":qy(f,n,c)}var N;if(w1)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else ms?Z2(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(G2&&n.locale!=="ko"&&(ms||D!=="onCompositionStart"?D==="onCompositionEnd"&&ms&&(N=W2()):(Ui=c,y1="value"in Ui?Ui.value:Ui.textContent,ms=!0)),M=xc(u,D),0<M.length&&(D=new Oy(D,e,null,n,c),f.push({event:D,listeners:M}),N?D.data=N:(N=Y2(n),N!==null&&(D.data=N)))),(N=F5?z5(e,n):H5(e,n))&&(u=xc(u,"onBeforeInput"),0<u.length&&(c=new Oy("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=N))}lx(f,t)})}function Bl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Sl(e,n),o!=null&&r.unshift(Bl(e,o,i)),o=Sl(e,t),o!=null&&r.push(Bl(e,o,i))),e=e.return}return r}function cs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zy(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Sl(n,o),l!=null&&s.unshift(Bl(n,l,a))):i||(l=Sl(n,o),l!=null&&s.push(Bl(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var rS=/\r\n?/g,iS=/\u0000|\uFFFD/g;function Yy(e){return(typeof e=="string"?e:""+e).replace(rS,`
`).replace(iS,"")}function Eu(e,t,n){if(t=Yy(t),Yy(e)!==t&&n)throw Error(ne(425))}function bc(){}var _0=null,A0=null;function k0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var R0=typeof setTimeout=="function"?setTimeout:void 0,oS=typeof clearTimeout=="function"?clearTimeout:void 0,Qy=typeof Promise=="function"?Promise:void 0,sS=typeof queueMicrotask=="function"?queueMicrotask:typeof Qy<"u"?function(e){return Qy.resolve(null).then(e).catch(aS)}:R0;function aS(e){setTimeout(function(){throw e})}function Yd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),kl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kl(t)}function Wi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fa=Math.random().toString(36).slice(2),xr="__reactFiber$"+fa,$l="__reactProps$"+fa,ti="__reactContainer$"+fa,C0="__reactEvents$"+fa,lS="__reactListeners$"+fa,uS="__reactHandles$"+fa;function Uo(e){var t=e[xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ti]||n[xr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Jy(e);e!==null;){if(n=e[xr])return n;e=Jy(e)}return t}e=n,n=e.parentNode}return null}function Xl(e){return e=e[xr]||e[ti],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function yf(e){return e[$l]||null}var T0=[],bs=-1;function co(e){return{current:e}}function Qe(e){0>bs||(e.current=T0[bs],T0[bs]=null,bs--)}function Ge(e,t){bs++,T0[bs]=e.current,e.current=t}var no={},Jt=co(no),fn=co(!1),es=no;function Fs(e,t){var n=e.type.contextTypes;if(!n)return no;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function dn(e){return e=e.childContextTypes,e!=null}function Ec(){Qe(fn),Qe(Jt)}function Xy(e,t,n){if(Jt.current!==no)throw Error(ne(168));Ge(Jt,t),Ge(fn,n)}function cx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ne(108,W6(e)||"Unknown",i));return st({},n,r)}function Sc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||no,es=Jt.current,Ge(Jt,e),Ge(fn,fn.current),!0}function em(e,t,n){var r=e.stateNode;if(!r)throw Error(ne(169));n?(e=cx(e,t,es),r.__reactInternalMemoizedMergedChildContext=e,Qe(fn),Qe(Jt),Ge(Jt,e)):Qe(fn),Ge(fn,n)}var zr=null,mf=!1,Qd=!1;function fx(e){zr===null?zr=[e]:zr.push(e)}function cS(e){mf=!0,fx(e)}function fo(){if(!Qd&&zr!==null){Qd=!0;var e=0,t=Ke;try{var n=zr;for(Ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zr=null,mf=!1}catch(i){throw zr!==null&&(zr=zr.slice(e+1)),N2(d1,fo),i}finally{Ke=t,Qd=!1}}return null}var Es=[],Ss=0,_c=null,Ac=0,Un=[],Dn=0,ts=null,Yr=1,Qr="";function Ro(e,t){Es[Ss++]=Ac,Es[Ss++]=_c,_c=e,Ac=t}function dx(e,t,n){Un[Dn++]=Yr,Un[Dn++]=Qr,Un[Dn++]=ts,ts=e;var r=Yr;e=Qr;var i=32-or(r)-1;r&=~(1<<i),n+=1;var o=32-or(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yr=1<<32-or(t)+i|n<<i|r,Qr=o+e}else Yr=1<<o|n<<i|r,Qr=e}function b1(e){e.return!==null&&(Ro(e,1),dx(e,1,0))}function E1(e){for(;e===_c;)_c=Es[--Ss],Es[Ss]=null,Ac=Es[--Ss],Es[Ss]=null;for(;e===ts;)ts=Un[--Dn],Un[Dn]=null,Qr=Un[--Dn],Un[Dn]=null,Yr=Un[--Dn],Un[Dn]=null}var wn=null,vn=null,tt=!1,nr=null;function hx(e,t){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wn=e,vn=Wi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wn=e,vn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ts!==null?{id:Yr,overflow:Qr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wn=e,vn=null,!0):!1;default:return!1}}function B0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $0(e){if(tt){var t=vn;if(t){var n=t;if(!tm(e,t)){if(B0(e))throw Error(ne(418));t=Wi(n.nextSibling);var r=wn;t&&tm(e,t)?hx(r,n):(e.flags=e.flags&-4097|2,tt=!1,wn=e)}}else{if(B0(e))throw Error(ne(418));e.flags=e.flags&-4097|2,tt=!1,wn=e}}}function nm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wn=e}function Su(e){if(e!==wn)return!1;if(!tt)return nm(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!k0(e.type,e.memoizedProps)),t&&(t=vn)){if(B0(e))throw px(),Error(ne(418));for(;t;)hx(e,t),t=Wi(t.nextSibling)}if(nm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vn=Wi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vn=null}}else vn=wn?Wi(e.stateNode.nextSibling):null;return!0}function px(){for(var e=vn;e;)e=Wi(e.nextSibling)}function zs(){vn=wn=null,tt=!1}function S1(e){nr===null?nr=[e]:nr.push(e)}var fS=ai.ReactCurrentBatchConfig;function Jn(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var kc=co(null),Rc=null,_s=null,_1=null;function A1(){_1=_s=Rc=null}function k1(e){var t=kc.current;Qe(kc),e._currentValue=t}function M0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function js(e,t){Rc=e,_1=_s=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cn=!0),e.firstContext=null)}function Vn(e){var t=e._currentValue;if(_1!==e)if(e={context:e,memoizedValue:t,next:null},_s===null){if(Rc===null)throw Error(ne(308));_s=e,Rc.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var Do=null;function R1(e){Do===null?Do=[e]:Do.push(e)}function gx(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,R1(t)):(n.next=i.next,i.next=n),t.interleaved=n,ni(e,r)}function ni(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ni=!1;function C1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ni(e,n)}return i=r.interleaved,i===null?(t.next=t,R1(r)):(t.next=i.next,i.next=t),r.interleaved=t,ni(e,n)}function nc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,h1(e,n)}}function rm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cc(e,t,n,r){var i=e.updateQueue;Ni=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var p=a.lane,E=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=e,y=a;switch(p=t,E=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){f=_.call(E,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,p=typeof _=="function"?_.call(E,f,p):_,p==null)break e;f=st({},f,p);break e;case 2:Ni=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else E={eventTime:E,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=E,l=f):c=c.next=E,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);rs|=s,e.lanes=s,e.memoizedState=f}}function im(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var mx=new g2.Component().refs;function P0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:st({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vf={isMounted:function(e){return(e=e._reactInternals)?us(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tn(),i=Yi(e),o=Jr(r,i);o.payload=t,n!=null&&(o.callback=n),t=Gi(e,o,i),t!==null&&(sr(t,e,i,r),nc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tn(),i=Yi(e),o=Jr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Gi(e,o,i),t!==null&&(sr(t,e,i,r),nc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tn(),r=Yi(e),i=Jr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Gi(e,i,r),t!==null&&(sr(t,e,r,n),nc(t,e,r))}};function om(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Cl(n,r)||!Cl(i,o):!0}function vx(e,t,n){var r=!1,i=no,o=t.contextType;return typeof o=="object"&&o!==null?o=Vn(o):(i=dn(t)?es:Jt.current,r=t.contextTypes,o=(r=r!=null)?Fs(e,i):no),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function sm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vf.enqueueReplaceState(t,t.state,null)}function I0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mx,C1(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Vn(o):(o=dn(t)?es:Jt.current,i.context=Fs(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(P0(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&vf.enqueueReplaceState(i,i.state,null),Cc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Pa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===mx&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,e))}return e}function _u(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function am(e){var t=e._init;return t(e._payload)}function wx(e){function t(w,R){if(e){var T=w.deletions;T===null?(w.deletions=[R],w.flags|=16):T.push(R)}}function n(w,R){if(!e)return null;for(;R!==null;)t(w,R),R=R.sibling;return null}function r(w,R){for(w=new Map;R!==null;)R.key!==null?w.set(R.key,R):w.set(R.index,R),R=R.sibling;return w}function i(w,R){return w=Qi(w,R),w.index=0,w.sibling=null,w}function o(w,R,T){return w.index=T,e?(T=w.alternate,T!==null?(T=T.index,T<R?(w.flags|=2,R):T):(w.flags|=2,R)):(w.flags|=1048576,R)}function s(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,R,T,L){return R===null||R.tag!==6?(R=ih(T,w.mode,L),R.return=w,R):(R=i(R,T),R.return=w,R)}function l(w,R,T,L){var j=T.type;return j===ys?c(w,R,T.props.children,L,T.key):R!==null&&(R.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Li&&am(j)===R.type)?(L=i(R,T.props),L.ref=Pa(w,R,T),L.return=w,L):(L=lc(T.type,T.key,T.props,null,w.mode,L),L.ref=Pa(w,R,T),L.return=w,L)}function u(w,R,T,L){return R===null||R.tag!==4||R.stateNode.containerInfo!==T.containerInfo||R.stateNode.implementation!==T.implementation?(R=oh(T,w.mode,L),R.return=w,R):(R=i(R,T.children||[]),R.return=w,R)}function c(w,R,T,L,j){return R===null||R.tag!==7?(R=Zo(T,w.mode,L,j),R.return=w,R):(R=i(R,T),R.return=w,R)}function f(w,R,T){if(typeof R=="string"&&R!==""||typeof R=="number")return R=ih(""+R,w.mode,T),R.return=w,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case hu:return T=lc(R.type,R.key,R.props,null,w.mode,T),T.ref=Pa(w,null,R),T.return=w,T;case gs:return R=oh(R,w.mode,T),R.return=w,R;case Li:var L=R._init;return f(w,L(R._payload),T)}if(Ja(R)||Ca(R))return R=Zo(R,w.mode,T,null),R.return=w,R;_u(w,R)}return null}function p(w,R,T,L){var j=R!==null?R.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return j!==null?null:a(w,R,""+T,L);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case hu:return T.key===j?l(w,R,T,L):null;case gs:return T.key===j?u(w,R,T,L):null;case Li:return j=T._init,p(w,R,j(T._payload),L)}if(Ja(T)||Ca(T))return j!==null?null:c(w,R,T,L,null);_u(w,T)}return null}function E(w,R,T,L,j){if(typeof L=="string"&&L!==""||typeof L=="number")return w=w.get(T)||null,a(R,w,""+L,j);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case hu:return w=w.get(L.key===null?T:L.key)||null,l(R,w,L,j);case gs:return w=w.get(L.key===null?T:L.key)||null,u(R,w,L,j);case Li:var M=L._init;return E(w,R,T,M(L._payload),j)}if(Ja(L)||Ca(L))return w=w.get(T)||null,c(R,w,L,j,null);_u(R,L)}return null}function _(w,R,T,L){for(var j=null,M=null,N=R,D=R=0,K=null;N!==null&&D<T.length;D++){N.index>D?(K=N,N=null):K=N.sibling;var H=p(w,N,T[D],L);if(H===null){N===null&&(N=K);break}e&&N&&H.alternate===null&&t(w,N),R=o(H,R,D),M===null?j=H:M.sibling=H,M=H,N=K}if(D===T.length)return n(w,N),tt&&Ro(w,D),j;if(N===null){for(;D<T.length;D++)N=f(w,T[D],L),N!==null&&(R=o(N,R,D),M===null?j=N:M.sibling=N,M=N);return tt&&Ro(w,D),j}for(N=r(w,N);D<T.length;D++)K=E(N,w,D,T[D],L),K!==null&&(e&&K.alternate!==null&&N.delete(K.key===null?D:K.key),R=o(K,R,D),M===null?j=K:M.sibling=K,M=K);return e&&N.forEach(function(k){return t(w,k)}),tt&&Ro(w,D),j}function y(w,R,T,L){var j=Ca(T);if(typeof j!="function")throw Error(ne(150));if(T=j.call(T),T==null)throw Error(ne(151));for(var M=j=null,N=R,D=R=0,K=null,H=T.next();N!==null&&!H.done;D++,H=T.next()){N.index>D?(K=N,N=null):K=N.sibling;var k=p(w,N,H.value,L);if(k===null){N===null&&(N=K);break}e&&N&&k.alternate===null&&t(w,N),R=o(k,R,D),M===null?j=k:M.sibling=k,M=k,N=K}if(H.done)return n(w,N),tt&&Ro(w,D),j;if(N===null){for(;!H.done;D++,H=T.next())H=f(w,H.value,L),H!==null&&(R=o(H,R,D),M===null?j=H:M.sibling=H,M=H);return tt&&Ro(w,D),j}for(N=r(w,N);!H.done;D++,H=T.next())H=E(N,w,D,H.value,L),H!==null&&(e&&H.alternate!==null&&N.delete(H.key===null?D:H.key),R=o(H,R,D),M===null?j=H:M.sibling=H,M=H);return e&&N.forEach(function(d){return t(w,d)}),tt&&Ro(w,D),j}function A(w,R,T,L){if(typeof T=="object"&&T!==null&&T.type===ys&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case hu:e:{for(var j=T.key,M=R;M!==null;){if(M.key===j){if(j=T.type,j===ys){if(M.tag===7){n(w,M.sibling),R=i(M,T.props.children),R.return=w,w=R;break e}}else if(M.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Li&&am(j)===M.type){n(w,M.sibling),R=i(M,T.props),R.ref=Pa(w,M,T),R.return=w,w=R;break e}n(w,M);break}else t(w,M);M=M.sibling}T.type===ys?(R=Zo(T.props.children,w.mode,L,T.key),R.return=w,w=R):(L=lc(T.type,T.key,T.props,null,w.mode,L),L.ref=Pa(w,R,T),L.return=w,w=L)}return s(w);case gs:e:{for(M=T.key;R!==null;){if(R.key===M)if(R.tag===4&&R.stateNode.containerInfo===T.containerInfo&&R.stateNode.implementation===T.implementation){n(w,R.sibling),R=i(R,T.children||[]),R.return=w,w=R;break e}else{n(w,R);break}else t(w,R);R=R.sibling}R=oh(T,w.mode,L),R.return=w,w=R}return s(w);case Li:return M=T._init,A(w,R,M(T._payload),L)}if(Ja(T))return _(w,R,T,L);if(Ca(T))return y(w,R,T,L);_u(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,R!==null&&R.tag===6?(n(w,R.sibling),R=i(R,T),R.return=w,w=R):(n(w,R),R=ih(T,w.mode,L),R.return=w,w=R),s(w)):n(w,R)}return A}var Hs=wx(!0),xx=wx(!1),eu={},$r=co(eu),Ml=co(eu),Pl=co(eu);function Fo(e){if(e===eu)throw Error(ne(174));return e}function T1(e,t){switch(Ge(Pl,t),Ge(Ml,e),Ge($r,eu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:d0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=d0(t,e)}Qe($r),Ge($r,t)}function Ks(){Qe($r),Qe(Ml),Qe(Pl)}function bx(e){Fo(Pl.current);var t=Fo($r.current),n=d0(t,e.type);t!==n&&(Ge(Ml,e),Ge($r,n))}function B1(e){Ml.current===e&&(Qe($r),Qe(Ml))}var rt=co(0);function Tc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jd=[];function $1(){for(var e=0;e<Jd.length;e++)Jd[e]._workInProgressVersionPrimary=null;Jd.length=0}var rc=ai.ReactCurrentDispatcher,Xd=ai.ReactCurrentBatchConfig,ns=0,ot=null,kt=null,Tt=null,Bc=!1,cl=!1,Il=0,dS=0;function qt(){throw Error(ne(321))}function M1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function P1(e,t,n,r,i,o){if(ns=o,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rc.current=e===null||e.memoizedState===null?yS:mS,e=n(r,i),cl){o=0;do{if(cl=!1,Il=0,25<=o)throw Error(ne(301));o+=1,Tt=kt=null,t.updateQueue=null,rc.current=vS,e=n(r,i)}while(cl)}if(rc.current=$c,t=kt!==null&&kt.next!==null,ns=0,Tt=kt=ot=null,Bc=!1,t)throw Error(ne(300));return e}function I1(){var e=Il!==0;return Il=0,e}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?ot.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function qn(){if(kt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=Tt===null?ot.memoizedState:Tt.next;if(t!==null)Tt=t,kt=e;else{if(e===null)throw Error(ne(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Tt===null?ot.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function Ll(e,t){return typeof t=="function"?t(e):t}function eh(e){var t=qn(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=kt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((ns&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ot.lanes|=c,rs|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,ar(r,t.memoizedState)||(cn=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ot.lanes|=o,rs|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function th(e){var t=qn(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);ar(o,t.memoizedState)||(cn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ex(){}function Sx(e,t){var n=ot,r=qn(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,cn=!0),r=r.queue,L1(kx.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,Nl(9,Ax.bind(null,n,r,i,t),void 0,null),Pt===null)throw Error(ne(349));ns&30||_x(n,t,i)}return i}function _x(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ax(e,t,n,r){t.value=n,t.getSnapshot=r,Rx(t)&&Cx(e)}function kx(e,t,n){return n(function(){Rx(t)&&Cx(e)})}function Rx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch{return!0}}function Cx(e){var t=ni(e,1);t!==null&&sr(t,e,1,-1)}function lm(e){var t=vr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:e},t.queue=e,e=e.dispatch=gS.bind(null,ot,e),[t.memoizedState,e]}function Nl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Tx(){return qn().memoizedState}function ic(e,t,n,r){var i=vr();ot.flags|=e,i.memoizedState=Nl(1|t,n,void 0,r===void 0?null:r)}function wf(e,t,n,r){var i=qn();r=r===void 0?null:r;var o=void 0;if(kt!==null){var s=kt.memoizedState;if(o=s.destroy,r!==null&&M1(r,s.deps)){i.memoizedState=Nl(t,n,o,r);return}}ot.flags|=e,i.memoizedState=Nl(1|t,n,o,r)}function um(e,t){return ic(8390656,8,e,t)}function L1(e,t){return wf(2048,8,e,t)}function Bx(e,t){return wf(4,2,e,t)}function $x(e,t){return wf(4,4,e,t)}function Mx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Px(e,t,n){return n=n!=null?n.concat([e]):null,wf(4,4,Mx.bind(null,t,e),n)}function N1(){}function Ix(e,t){var n=qn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&M1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lx(e,t){var n=qn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&M1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Nx(e,t,n){return ns&21?(ar(n,t)||(n=U2(),ot.lanes|=n,rs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cn=!0),e.memoizedState=n)}function hS(e,t){var n=Ke;Ke=n!==0&&4>n?n:4,e(!0);var r=Xd.transition;Xd.transition={};try{e(!1),t()}finally{Ke=n,Xd.transition=r}}function Ox(){return qn().memoizedState}function pS(e,t,n){var r=Yi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jx(e))Ux(t,n);else if(n=gx(e,t,n,r),n!==null){var i=tn();sr(n,e,r,i),Dx(n,t,r)}}function gS(e,t,n){var r=Yi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jx(e))Ux(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;l===null?(i.next=i,R1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=gx(e,t,i,r),n!==null&&(i=tn(),sr(n,e,r,i),Dx(n,t,r))}}function jx(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function Ux(e,t){cl=Bc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Dx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,h1(e,n)}}var $c={readContext:Vn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},yS={readContext:Vn,useCallback:function(e,t){return vr().memoizedState=[e,t===void 0?null:t],e},useContext:Vn,useEffect:um,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ic(4194308,4,Mx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ic(4194308,4,e,t)},useInsertionEffect:function(e,t){return ic(4,2,e,t)},useMemo:function(e,t){var n=vr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=pS.bind(null,ot,e),[r.memoizedState,e]},useRef:function(e){var t=vr();return e={current:e},t.memoizedState=e},useState:lm,useDebugValue:N1,useDeferredValue:function(e){return vr().memoizedState=e},useTransition:function(){var e=lm(!1),t=e[0];return e=hS.bind(null,e[1]),vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ot,i=vr();if(tt){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=t(),Pt===null)throw Error(ne(349));ns&30||_x(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,um(kx.bind(null,r,o,e),[e]),r.flags|=2048,Nl(9,Ax.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vr(),t=Pt.identifierPrefix;if(tt){var n=Qr,r=Yr;n=(r&~(1<<32-or(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Il++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mS={readContext:Vn,useCallback:Ix,useContext:Vn,useEffect:L1,useImperativeHandle:Px,useInsertionEffect:Bx,useLayoutEffect:$x,useMemo:Lx,useReducer:eh,useRef:Tx,useState:function(){return eh(Ll)},useDebugValue:N1,useDeferredValue:function(e){var t=qn();return Nx(t,kt.memoizedState,e)},useTransition:function(){var e=eh(Ll)[0],t=qn().memoizedState;return[e,t]},useMutableSource:Ex,useSyncExternalStore:Sx,useId:Ox,unstable_isNewReconciler:!1},vS={readContext:Vn,useCallback:Ix,useContext:Vn,useEffect:L1,useImperativeHandle:Px,useInsertionEffect:Bx,useLayoutEffect:$x,useMemo:Lx,useReducer:th,useRef:Tx,useState:function(){return th(Ll)},useDebugValue:N1,useDeferredValue:function(e){var t=qn();return kt===null?t.memoizedState=e:Nx(t,kt.memoizedState,e)},useTransition:function(){var e=th(Ll)[0],t=qn().memoizedState;return[e,t]},useMutableSource:Ex,useSyncExternalStore:Sx,useId:Ox,unstable_isNewReconciler:!1};function Vs(e,t){try{var n="",r=t;do n+=q6(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function nh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function L0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wS=typeof WeakMap=="function"?WeakMap:Map;function Fx(e,t,n){n=Jr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pc||(Pc=!0,V0=r),L0(e,t)},n}function zx(e,t,n){n=Jr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){L0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){L0(e,t),typeof r!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function cm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new wS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=PS.bind(null,e,t,n),t.then(e,e))}function fm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dm(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jr(-1,1),t.tag=2,Gi(n,t,1))),n.lanes|=1),e)}var xS=ai.ReactCurrentOwner,cn=!1;function Xt(e,t,n,r){t.child=e===null?xx(t,null,n,r):Hs(t,e.child,n,r)}function hm(e,t,n,r,i){n=n.render;var o=t.ref;return js(t,i),r=P1(e,t,n,r,o,i),n=I1(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ri(e,t,i)):(tt&&n&&b1(t),t.flags|=1,Xt(e,t,r,i),t.child)}function pm(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!K1(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Hx(e,t,o,r,i)):(e=lc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Cl,n(s,r)&&e.ref===t.ref)return ri(e,t,i)}return t.flags|=1,e=Qi(o,r),e.ref=t.ref,e.return=t,t.child=e}function Hx(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Cl(o,r)&&e.ref===t.ref)if(cn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(cn=!0);else return t.lanes=e.lanes,ri(e,t,i)}return N0(e,t,n,r,i)}function Kx(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(ks,yn),yn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ge(ks,yn),yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ge(ks,yn),yn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ge(ks,yn),yn|=r;return Xt(e,t,i,n),t.child}function Vx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function N0(e,t,n,r,i){var o=dn(n)?es:Jt.current;return o=Fs(t,o),js(t,i),n=P1(e,t,n,r,o,i),r=I1(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ri(e,t,i)):(tt&&r&&b1(t),t.flags|=1,Xt(e,t,n,i),t.child)}function gm(e,t,n,r,i){if(dn(n)){var o=!0;Sc(t)}else o=!1;if(js(t,i),t.stateNode===null)oc(e,t),vx(t,n,r),I0(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Vn(u):(u=dn(n)?es:Jt.current,u=Fs(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&sm(t,s,r,u),Ni=!1;var p=t.memoizedState;s.state=p,Cc(t,r,s,i),l=t.memoizedState,a!==r||p!==l||fn.current||Ni?(typeof c=="function"&&(P0(t,n,c,r),l=t.memoizedState),(a=Ni||om(t,n,a,r,p,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,yx(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Jn(t.type,a),s.props=u,f=t.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vn(l):(l=dn(n)?es:Jt.current,l=Fs(t,l));var E=n.getDerivedStateFromProps;(c=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==l)&&sm(t,s,r,l),Ni=!1,p=t.memoizedState,s.state=p,Cc(t,r,s,i);var _=t.memoizedState;a!==f||p!==_||fn.current||Ni?(typeof E=="function"&&(P0(t,n,E,r),_=t.memoizedState),(u=Ni||om(t,n,u,r,p,_,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),s.props=r,s.state=_,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return O0(e,t,n,r,o,i)}function O0(e,t,n,r,i,o){Vx(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&em(t,n,!1),ri(e,t,o);r=t.stateNode,xS.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Hs(t,e.child,null,o),t.child=Hs(t,null,a,o)):Xt(e,t,a,o),t.memoizedState=r.state,i&&em(t,n,!0),t.child}function qx(e){var t=e.stateNode;t.pendingContext?Xy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xy(e,t.context,!1),T1(e,t.containerInfo)}function ym(e,t,n,r,i){return zs(),S1(i),t.flags|=256,Xt(e,t,n,r),t.child}var j0={dehydrated:null,treeContext:null,retryLane:0};function U0(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wx(e,t,n){var r=t.pendingProps,i=rt.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ge(rt,i&1),e===null)return $0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ef(s,r,0,null),e=Zo(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=U0(n),t.memoizedState=j0,e):O1(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bS(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Qi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Qi(a,o):(o=Zo(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?U0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=j0,r}return o=e.child,e=o.sibling,r=Qi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function O1(e,t){return t=Ef({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Au(e,t,n,r){return r!==null&&S1(r),Hs(t,e.child,null,n),e=O1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bS(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=nh(Error(ne(422))),Au(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ef({mode:"visible",children:r.children},i,0,null),o=Zo(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Hs(t,e.child,null,s),t.child.memoizedState=U0(s),t.memoizedState=j0,o);if(!(t.mode&1))return Au(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ne(419)),r=nh(o,r,void 0),Au(e,t,s,r)}if(a=(s&e.childLanes)!==0,cn||a){if(r=Pt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ni(e,i),sr(r,e,i,-1))}return H1(),r=nh(Error(ne(421))),Au(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=IS.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,vn=Wi(i.nextSibling),wn=t,tt=!0,nr=null,e!==null&&(Un[Dn++]=Yr,Un[Dn++]=Qr,Un[Dn++]=ts,Yr=e.id,Qr=e.overflow,ts=t),t=O1(t,r.children),t.flags|=4096,t)}function mm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),M0(e.return,t,n)}function rh(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Gx(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Xt(e,t,r.children,n),r=rt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mm(e,n,t);else if(e.tag===19)mm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ge(rt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Tc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rh(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Tc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rh(t,!0,n,null,o);break;case"together":rh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ri(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),rs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,n=Qi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ES(e,t,n){switch(t.tag){case 3:qx(t),zs();break;case 5:bx(t);break;case 1:dn(t.type)&&Sc(t);break;case 4:T1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ge(kc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ge(rt,rt.current&1),t.flags|=128,null):n&t.child.childLanes?Wx(e,t,n):(Ge(rt,rt.current&1),e=ri(e,t,n),e!==null?e.sibling:null);Ge(rt,rt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Gx(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(rt,rt.current),r)break;return null;case 22:case 23:return t.lanes=0,Kx(e,t,n)}return ri(e,t,n)}var Zx,D0,Yx,Qx;Zx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};D0=function(){};Yx=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Fo($r.current);var o=null;switch(n){case"input":i=l0(e,i),r=l0(e,r),o=[];break;case"select":i=st({},i,{value:void 0}),r=st({},r,{value:void 0}),o=[];break;case"textarea":i=f0(e,i),r=f0(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bc)}h0(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ze("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Qx=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ia(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function SS(e,t,n){var r=t.pendingProps;switch(E1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(t),null;case 1:return dn(t.type)&&Ec(),Wt(t),null;case 3:return r=t.stateNode,Ks(),Qe(fn),Qe(Jt),$1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Su(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nr!==null&&(G0(nr),nr=null))),D0(e,t),Wt(t),null;case 5:B1(t);var i=Fo(Pl.current);if(n=t.type,e!==null&&t.stateNode!=null)Yx(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ne(166));return Wt(t),null}if(e=Fo($r.current),Su(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[xr]=t,r[$l]=o,e=(t.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(i=0;i<el.length;i++)Ze(el[i],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":ky(r,o),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ze("invalid",r);break;case"textarea":Cy(r,o),Ze("invalid",r)}h0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Eu(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Eu(r.textContent,a,e),i=["children",""+a]):bl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ze("scroll",r)}switch(n){case"input":pu(r),Ry(r,o,!0);break;case"textarea":pu(r),Ty(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=bc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[xr]=t,e[$l]=r,Zx(e,t,!1,!1),t.stateNode=e;e:{switch(s=p0(n,r),n){case"dialog":Ze("cancel",e),Ze("close",e),i=r;break;case"iframe":case"object":case"embed":Ze("load",e),i=r;break;case"video":case"audio":for(i=0;i<el.length;i++)Ze(el[i],e);i=r;break;case"source":Ze("error",e),i=r;break;case"img":case"image":case"link":Ze("error",e),Ze("load",e),i=r;break;case"details":Ze("toggle",e),i=r;break;case"input":ky(e,r),i=l0(e,r),Ze("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=st({},r,{value:void 0}),Ze("invalid",e);break;case"textarea":Cy(e,r),i=f0(e,r),Ze("invalid",e);break;default:i=r}h0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?R2(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&A2(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&El(e,l):typeof l=="number"&&El(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(bl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ze("scroll",e):l!=null&&a1(e,o,l,s))}switch(n){case"input":pu(e),Ry(e,r,!1);break;case"textarea":pu(e),Ty(e);break;case"option":r.value!=null&&e.setAttribute("value",""+to(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Is(e,!!r.multiple,o,!1):r.defaultValue!=null&&Is(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=bc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wt(t),null;case 6:if(e&&t.stateNode!=null)Qx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ne(166));if(n=Fo(Pl.current),Fo($r.current),Su(t)){if(r=t.stateNode,n=t.memoizedProps,r[xr]=t,(o=r.nodeValue!==n)&&(e=wn,e!==null))switch(e.tag){case 3:Eu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Eu(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xr]=t,t.stateNode=r}return Wt(t),null;case 13:if(Qe(rt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&vn!==null&&t.mode&1&&!(t.flags&128))px(),zs(),t.flags|=98560,o=!1;else if(o=Su(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ne(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ne(317));o[xr]=t}else zs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wt(t),o=!1}else nr!==null&&(G0(nr),nr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||rt.current&1?Ct===0&&(Ct=3):H1())),t.updateQueue!==null&&(t.flags|=4),Wt(t),null);case 4:return Ks(),D0(e,t),e===null&&Tl(t.stateNode.containerInfo),Wt(t),null;case 10:return k1(t.type._context),Wt(t),null;case 17:return dn(t.type)&&Ec(),Wt(t),null;case 19:if(Qe(rt),o=t.memoizedState,o===null)return Wt(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Ia(o,!1);else{if(Ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Tc(e),s!==null){for(t.flags|=128,Ia(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ge(rt,rt.current&1|2),t.child}e=e.sibling}o.tail!==null&&pt()>qs&&(t.flags|=128,r=!0,Ia(o,!1),t.lanes=4194304)}else{if(!r)if(e=Tc(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ia(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!tt)return Wt(t),null}else 2*pt()-o.renderingStartTime>qs&&n!==1073741824&&(t.flags|=128,r=!0,Ia(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=pt(),t.sibling=null,n=rt.current,Ge(rt,r?n&1|2:n&1),t):(Wt(t),null);case 22:case 23:return z1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yn&1073741824&&(Wt(t),t.subtreeFlags&6&&(t.flags|=8192)):Wt(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function _S(e,t){switch(E1(t),t.tag){case 1:return dn(t.type)&&Ec(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ks(),Qe(fn),Qe(Jt),$1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return B1(t),null;case 13:if(Qe(rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));zs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(rt),null;case 4:return Ks(),null;case 10:return k1(t.type._context),null;case 22:case 23:return z1(),null;case 24:return null;default:return null}}var ku=!1,Yt=!1,AS=typeof WeakSet=="function"?WeakSet:Set,le=null;function As(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(e,t,r)}else n.current=null}function F0(e,t,n){try{n()}catch(r){ct(e,t,r)}}var vm=!1;function kS(e,t){if(_0=vc,e=tx(),x1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,p=null;t:for(;;){for(var E;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(E=f.firstChild)!==null;)p=f,f=E;for(;;){if(f===e)break t;if(p===n&&++u===i&&(a=s),p===o&&++c===r&&(l=s),(E=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=E}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(A0={focusedElem:e,selectionRange:n},vc=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,A=_.memoizedState,w=t.stateNode,R=w.getSnapshotBeforeUpdate(t.elementType===t.type?y:Jn(t.type,y),A);w.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(L){ct(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return _=vm,vm=!1,_}function fl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&F0(t,n,o)}i=i.next}while(i!==r)}}function xf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function z0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jx(e){var t=e.alternate;t!==null&&(e.alternate=null,Jx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xr],delete t[$l],delete t[C0],delete t[lS],delete t[uS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xx(e){return e.tag===5||e.tag===3||e.tag===4}function wm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function H0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bc));else if(r!==4&&(e=e.child,e!==null))for(H0(e,t,n),e=e.sibling;e!==null;)H0(e,t,n),e=e.sibling}function K0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(K0(e,t,n),e=e.sibling;e!==null;)K0(e,t,n),e=e.sibling}var jt=null,er=!1;function vi(e,t,n){for(n=n.child;n!==null;)e3(e,t,n),n=n.sibling}function e3(e,t,n){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(df,n)}catch{}switch(n.tag){case 5:Yt||As(n,t);case 6:var r=jt,i=er;jt=null,vi(e,t,n),jt=r,er=i,jt!==null&&(er?(e=jt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(er?(e=jt,n=n.stateNode,e.nodeType===8?Yd(e.parentNode,n):e.nodeType===1&&Yd(e,n),kl(e)):Yd(jt,n.stateNode));break;case 4:r=jt,i=er,jt=n.stateNode.containerInfo,er=!0,vi(e,t,n),jt=r,er=i;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&F0(n,t,s),i=i.next}while(i!==r)}vi(e,t,n);break;case 1:if(!Yt&&(As(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,t,a)}vi(e,t,n);break;case 21:vi(e,t,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,vi(e,t,n),Yt=r):vi(e,t,n);break;default:vi(e,t,n)}}function xm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new AS),t.forEach(function(r){var i=LS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:jt=a.stateNode,er=!1;break e;case 3:jt=a.stateNode.containerInfo,er=!0;break e;case 4:jt=a.stateNode.containerInfo,er=!0;break e}a=a.return}if(jt===null)throw Error(ne(160));e3(o,s,i),jt=null,er=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ct(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)t3(t,e),t=t.sibling}function t3(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gn(t,e),fr(e),r&4){try{fl(3,e,e.return),xf(3,e)}catch(y){ct(e,e.return,y)}try{fl(5,e,e.return)}catch(y){ct(e,e.return,y)}}break;case 1:Gn(t,e),fr(e),r&512&&n!==null&&As(n,n.return);break;case 5:if(Gn(t,e),fr(e),r&512&&n!==null&&As(n,n.return),e.flags&32){var i=e.stateNode;try{El(i,"")}catch(y){ct(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&E2(i,o),p0(a,s);var u=p0(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?R2(i,f):c==="dangerouslySetInnerHTML"?A2(i,f):c==="children"?El(i,f):a1(i,c,f,u)}switch(a){case"input":u0(i,o);break;case"textarea":S2(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?Is(i,!!o.multiple,E,!1):p!==!!o.multiple&&(o.defaultValue!=null?Is(i,!!o.multiple,o.defaultValue,!0):Is(i,!!o.multiple,o.multiple?[]:"",!1))}i[$l]=o}catch(y){ct(e,e.return,y)}}break;case 6:if(Gn(t,e),fr(e),r&4){if(e.stateNode===null)throw Error(ne(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){ct(e,e.return,y)}}break;case 3:if(Gn(t,e),fr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kl(t.containerInfo)}catch(y){ct(e,e.return,y)}break;case 4:Gn(t,e),fr(e);break;case 13:Gn(t,e),fr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(D1=pt())),r&4&&xm(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Yt=(u=Yt)||c,Gn(t,e),Yt=u):Gn(t,e),fr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(le=e,c=e.child;c!==null;){for(f=le=c;le!==null;){switch(p=le,E=p.child,p.tag){case 0:case 11:case 14:case 15:fl(4,p,p.return);break;case 1:As(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(y){ct(r,n,y)}}break;case 5:As(p,p.return);break;case 22:if(p.memoizedState!==null){Em(f);continue}}E!==null?(E.return=p,le=E):Em(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=k2("display",s))}catch(y){ct(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){ct(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Gn(t,e),fr(e),r&4&&xm(e);break;case 21:break;default:Gn(t,e),fr(e)}}function fr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xx(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(El(i,""),r.flags&=-33);var o=wm(e);K0(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=wm(e);H0(e,a,s);break;default:throw Error(ne(161))}}catch(l){ct(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RS(e,t,n){le=e,n3(e)}function n3(e,t,n){for(var r=(e.mode&1)!==0;le!==null;){var i=le,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ku;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Yt;a=ku;var u=Yt;if(ku=s,(Yt=l)&&!u)for(le=i;le!==null;)s=le,l=s.child,s.tag===22&&s.memoizedState!==null?Sm(i):l!==null?(l.return=s,le=l):Sm(i);for(;o!==null;)le=o,n3(o),o=o.sibling;le=i,ku=a,Yt=u}bm(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,le=o):bm(e)}}function bm(e){for(;le!==null;){var t=le;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yt||xf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Jn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&im(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}im(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&kl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Yt||t.flags&512&&z0(t)}catch(p){ct(t,t.return,p)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function Em(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function Sm(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xf(4,t)}catch(l){ct(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){ct(t,i,l)}}var o=t.return;try{z0(t)}catch(l){ct(t,o,l)}break;case 5:var s=t.return;try{z0(t)}catch(l){ct(t,s,l)}}}catch(l){ct(t,t.return,l)}if(t===e){le=null;break}var a=t.sibling;if(a!==null){a.return=t.return,le=a;break}le=t.return}}var CS=Math.ceil,Mc=ai.ReactCurrentDispatcher,j1=ai.ReactCurrentOwner,Kn=ai.ReactCurrentBatchConfig,Ie=0,Pt=null,At=null,Kt=0,yn=0,ks=co(0),Ct=0,Ol=null,rs=0,bf=0,U1=0,dl=null,un=null,D1=0,qs=1/0,Fr=null,Pc=!1,V0=null,Zi=null,Ru=!1,Di=null,Ic=0,hl=0,q0=null,sc=-1,ac=0;function tn(){return Ie&6?pt():sc!==-1?sc:sc=pt()}function Yi(e){return e.mode&1?Ie&2&&Kt!==0?Kt&-Kt:fS.transition!==null?(ac===0&&(ac=U2()),ac):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:q2(e.type)),e):1}function sr(e,t,n,r){if(50<hl)throw hl=0,q0=null,Error(ne(185));Ql(e,n,r),(!(Ie&2)||e!==Pt)&&(e===Pt&&(!(Ie&2)&&(bf|=n),Ct===4&&ji(e,Kt)),hn(e,r),n===1&&Ie===0&&!(t.mode&1)&&(qs=pt()+500,mf&&fo()))}function hn(e,t){var n=e.callbackNode;f5(e,t);var r=mc(e,e===Pt?Kt:0);if(r===0)n!==null&&My(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&My(n),t===1)e.tag===0?cS(_m.bind(null,e)):fx(_m.bind(null,e)),sS(function(){!(Ie&6)&&fo()}),n=null;else{switch(D2(r)){case 1:n=d1;break;case 4:n=O2;break;case 16:n=yc;break;case 536870912:n=j2;break;default:n=yc}n=c3(n,r3.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function r3(e,t){if(sc=-1,ac=0,Ie&6)throw Error(ne(327));var n=e.callbackNode;if(Us()&&e.callbackNode!==n)return null;var r=mc(e,e===Pt?Kt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lc(e,r);else{t=r;var i=Ie;Ie|=2;var o=o3();(Pt!==e||Kt!==t)&&(Fr=null,qs=pt()+500,Go(e,t));do try{$S();break}catch(a){i3(e,a)}while(!0);A1(),Mc.current=o,Ie=i,At!==null?t=0:(Pt=null,Kt=0,t=Ct)}if(t!==0){if(t===2&&(i=w0(e),i!==0&&(r=i,t=W0(e,i))),t===1)throw n=Ol,Go(e,0),ji(e,r),hn(e,pt()),n;if(t===6)ji(e,r);else{if(i=e.current.alternate,!(r&30)&&!TS(i)&&(t=Lc(e,r),t===2&&(o=w0(e),o!==0&&(r=o,t=W0(e,o))),t===1))throw n=Ol,Go(e,0),ji(e,r),hn(e,pt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ne(345));case 2:Co(e,un,Fr);break;case 3:if(ji(e,r),(r&130023424)===r&&(t=D1+500-pt(),10<t)){if(mc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){tn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=R0(Co.bind(null,e,un,Fr),t);break}Co(e,un,Fr);break;case 4:if(ji(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-or(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CS(r/1960))-r,10<r){e.timeoutHandle=R0(Co.bind(null,e,un,Fr),r);break}Co(e,un,Fr);break;case 5:Co(e,un,Fr);break;default:throw Error(ne(329))}}}return hn(e,pt()),e.callbackNode===n?r3.bind(null,e):null}function W0(e,t){var n=dl;return e.current.memoizedState.isDehydrated&&(Go(e,t).flags|=256),e=Lc(e,t),e!==2&&(t=un,un=n,t!==null&&G0(t)),e}function G0(e){un===null?un=e:un.push.apply(un,e)}function TS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ji(e,t){for(t&=~U1,t&=~bf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-or(t),r=1<<n;e[n]=-1,t&=~r}}function _m(e){if(Ie&6)throw Error(ne(327));Us();var t=mc(e,0);if(!(t&1))return hn(e,pt()),null;var n=Lc(e,t);if(e.tag!==0&&n===2){var r=w0(e);r!==0&&(t=r,n=W0(e,r))}if(n===1)throw n=Ol,Go(e,0),ji(e,t),hn(e,pt()),n;if(n===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Co(e,un,Fr),hn(e,pt()),null}function F1(e,t){var n=Ie;Ie|=1;try{return e(t)}finally{Ie=n,Ie===0&&(qs=pt()+500,mf&&fo())}}function is(e){Di!==null&&Di.tag===0&&!(Ie&6)&&Us();var t=Ie;Ie|=1;var n=Kn.transition,r=Ke;try{if(Kn.transition=null,Ke=1,e)return e()}finally{Ke=r,Kn.transition=n,Ie=t,!(Ie&6)&&fo()}}function z1(){yn=ks.current,Qe(ks)}function Go(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,oS(n)),At!==null)for(n=At.return;n!==null;){var r=n;switch(E1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ec();break;case 3:Ks(),Qe(fn),Qe(Jt),$1();break;case 5:B1(r);break;case 4:Ks();break;case 13:Qe(rt);break;case 19:Qe(rt);break;case 10:k1(r.type._context);break;case 22:case 23:z1()}n=n.return}if(Pt=e,At=e=Qi(e.current,null),Kt=yn=t,Ct=0,Ol=null,U1=bf=rs=0,un=dl=null,Do!==null){for(t=0;t<Do.length;t++)if(n=Do[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Do=null}return e}function i3(e,t){do{var n=At;try{if(A1(),rc.current=$c,Bc){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bc=!1}if(ns=0,Tt=kt=ot=null,cl=!1,Il=0,j1.current=null,n===null||n.return===null){Ct=1,Ol=t,At=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Kt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var E=fm(s);if(E!==null){E.flags&=-257,dm(E,s,a,o,t),E.mode&1&&cm(o,u,t),t=E,l=u;var _=t.updateQueue;if(_===null){var y=new Set;y.add(l),t.updateQueue=y}else _.add(l);break e}else{if(!(t&1)){cm(o,u,t),H1();break e}l=Error(ne(426))}}else if(tt&&a.mode&1){var A=fm(s);if(A!==null){!(A.flags&65536)&&(A.flags|=256),dm(A,s,a,o,t),S1(Vs(l,a));break e}}o=l=Vs(l,a),Ct!==4&&(Ct=2),dl===null?dl=[o]:dl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=Fx(o,l,t);rm(o,w);break e;case 1:a=l;var R=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof R.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Zi===null||!Zi.has(T)))){o.flags|=65536,t&=-t,o.lanes|=t;var L=zx(o,a,t);rm(o,L);break e}}o=o.return}while(o!==null)}a3(n)}catch(j){t=j,At===n&&n!==null&&(At=n=n.return);continue}break}while(!0)}function o3(){var e=Mc.current;return Mc.current=$c,e===null?$c:e}function H1(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Pt===null||!(rs&268435455)&&!(bf&268435455)||ji(Pt,Kt)}function Lc(e,t){var n=Ie;Ie|=2;var r=o3();(Pt!==e||Kt!==t)&&(Fr=null,Go(e,t));do try{BS();break}catch(i){i3(e,i)}while(!0);if(A1(),Ie=n,Mc.current=r,At!==null)throw Error(ne(261));return Pt=null,Kt=0,Ct}function BS(){for(;At!==null;)s3(At)}function $S(){for(;At!==null&&!n5();)s3(At)}function s3(e){var t=u3(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?a3(e):At=t,j1.current=null}function a3(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_S(n,t),n!==null){n.flags&=32767,At=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,At=null;return}}else if(n=SS(n,t,yn),n!==null){At=n;return}if(t=t.sibling,t!==null){At=t;return}At=t=e}while(t!==null);Ct===0&&(Ct=5)}function Co(e,t,n){var r=Ke,i=Kn.transition;try{Kn.transition=null,Ke=1,MS(e,t,n,r)}finally{Kn.transition=i,Ke=r}return null}function MS(e,t,n,r){do Us();while(Di!==null);if(Ie&6)throw Error(ne(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(d5(e,o),e===Pt&&(At=Pt=null,Kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ru||(Ru=!0,c3(yc,function(){return Us(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Kn.transition,Kn.transition=null;var s=Ke;Ke=1;var a=Ie;Ie|=4,j1.current=null,kS(e,n),t3(n,e),J5(A0),vc=!!_0,A0=_0=null,e.current=n,RS(n),r5(),Ie=a,Ke=s,Kn.transition=o}else e.current=n;if(Ru&&(Ru=!1,Di=e,Ic=i),o=e.pendingLanes,o===0&&(Zi=null),s5(n.stateNode),hn(e,pt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pc)throw Pc=!1,e=V0,V0=null,e;return Ic&1&&e.tag!==0&&Us(),o=e.pendingLanes,o&1?e===q0?hl++:(hl=0,q0=e):hl=0,fo(),null}function Us(){if(Di!==null){var e=D2(Ic),t=Kn.transition,n=Ke;try{if(Kn.transition=null,Ke=16>e?16:e,Di===null)var r=!1;else{if(e=Di,Di=null,Ic=0,Ie&6)throw Error(ne(331));var i=Ie;for(Ie|=4,le=e.current;le!==null;){var o=le,s=o.child;if(le.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(le=u;le!==null;){var c=le;switch(c.tag){case 0:case 11:case 15:fl(8,c,o)}var f=c.child;if(f!==null)f.return=c,le=f;else for(;le!==null;){c=le;var p=c.sibling,E=c.return;if(Jx(c),c===u){le=null;break}if(p!==null){p.return=E,le=p;break}le=E}}}var _=o.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var A=y.sibling;y.sibling=null,y=A}while(y!==null)}}le=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,le=s;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fl(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,le=w;break e}le=o.return}}var R=e.current;for(le=R;le!==null;){s=le;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,le=T;else e:for(s=R;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xf(9,a)}}catch(j){ct(a,a.return,j)}if(a===s){le=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,le=L;break e}le=a.return}}if(Ie=i,fo(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(df,e)}catch{}r=!0}return r}finally{Ke=n,Kn.transition=t}}return!1}function Am(e,t,n){t=Vs(n,t),t=Fx(e,t,1),e=Gi(e,t,1),t=tn(),e!==null&&(Ql(e,1,t),hn(e,t))}function ct(e,t,n){if(e.tag===3)Am(e,e,n);else for(;t!==null;){if(t.tag===3){Am(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zi===null||!Zi.has(r))){e=Vs(n,e),e=zx(t,e,1),t=Gi(t,e,1),e=tn(),t!==null&&(Ql(t,1,e),hn(t,e));break}}t=t.return}}function PS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tn(),e.pingedLanes|=e.suspendedLanes&n,Pt===e&&(Kt&n)===n&&(Ct===4||Ct===3&&(Kt&130023424)===Kt&&500>pt()-D1?Go(e,0):U1|=n),hn(e,t)}function l3(e,t){t===0&&(e.mode&1?(t=mu,mu<<=1,!(mu&130023424)&&(mu=4194304)):t=1);var n=tn();e=ni(e,t),e!==null&&(Ql(e,t,n),hn(e,n))}function IS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),l3(e,n)}function LS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(t),l3(e,n)}var u3;u3=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||fn.current)cn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return cn=!1,ES(e,t,n);cn=!!(e.flags&131072)}else cn=!1,tt&&t.flags&1048576&&dx(t,Ac,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;oc(e,t),e=t.pendingProps;var i=Fs(t,Jt.current);js(t,n),i=P1(null,t,r,e,i,n);var o=I1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dn(r)?(o=!0,Sc(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,C1(t),i.updater=vf,t.stateNode=i,i._reactInternals=t,I0(t,r,e,n),t=O0(null,t,r,!0,o,n)):(t.tag=0,tt&&o&&b1(t),Xt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(oc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=OS(r),e=Jn(r,e),i){case 0:t=N0(null,t,r,e,n);break e;case 1:t=gm(null,t,r,e,n);break e;case 11:t=hm(null,t,r,e,n);break e;case 14:t=pm(null,t,r,Jn(r.type,e),n);break e}throw Error(ne(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jn(r,i),N0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jn(r,i),gm(e,t,r,i,n);case 3:e:{if(qx(t),e===null)throw Error(ne(387));r=t.pendingProps,o=t.memoizedState,i=o.element,yx(e,t),Cc(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Vs(Error(ne(423)),t),t=ym(e,t,r,n,i);break e}else if(r!==i){i=Vs(Error(ne(424)),t),t=ym(e,t,r,n,i);break e}else for(vn=Wi(t.stateNode.containerInfo.firstChild),wn=t,tt=!0,nr=null,n=xx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zs(),r===i){t=ri(e,t,n);break e}Xt(e,t,r,n)}t=t.child}return t;case 5:return bx(t),e===null&&$0(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,k0(r,i)?s=null:o!==null&&k0(r,o)&&(t.flags|=32),Vx(e,t),Xt(e,t,s,n),t.child;case 6:return e===null&&$0(t),null;case 13:return Wx(e,t,n);case 4:return T1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hs(t,null,r,n):Xt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jn(r,i),hm(e,t,r,i,n);case 7:return Xt(e,t,t.pendingProps,n),t.child;case 8:return Xt(e,t,t.pendingProps.children,n),t.child;case 12:return Xt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ge(kc,r._currentValue),r._currentValue=s,o!==null)if(ar(o.value,s)){if(o.children===i.children&&!fn.current){t=ri(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Jr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),M0(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ne(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),M0(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Xt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,js(t,n),i=Vn(i),r=r(i),t.flags|=1,Xt(e,t,r,n),t.child;case 14:return r=t.type,i=Jn(r,t.pendingProps),i=Jn(r.type,i),pm(e,t,r,i,n);case 15:return Hx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jn(r,i),oc(e,t),t.tag=1,dn(r)?(e=!0,Sc(t)):e=!1,js(t,n),vx(t,r,i),I0(t,r,i,n),O0(null,t,r,!0,e,n);case 19:return Gx(e,t,n);case 22:return Kx(e,t,n)}throw Error(ne(156,t.tag))};function c3(e,t){return N2(e,t)}function NS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,t,n,r){return new NS(e,t,n,r)}function K1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function OS(e){if(typeof e=="function")return K1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===u1)return 11;if(e===c1)return 14}return 2}function Qi(e,t){var n=e.alternate;return n===null?(n=Fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function lc(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")K1(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ys:return Zo(n.children,i,o,t);case l1:s=8,i|=8;break;case i0:return e=Fn(12,n,t,i|2),e.elementType=i0,e.lanes=o,e;case o0:return e=Fn(13,n,t,i),e.elementType=o0,e.lanes=o,e;case s0:return e=Fn(19,n,t,i),e.elementType=s0,e.lanes=o,e;case w2:return Ef(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case m2:s=10;break e;case v2:s=9;break e;case u1:s=11;break e;case c1:s=14;break e;case Li:s=16,r=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=Fn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Zo(e,t,n,r){return e=Fn(7,e,r,t),e.lanes=n,e}function Ef(e,t,n,r){return e=Fn(22,e,r,t),e.elementType=w2,e.lanes=n,e.stateNode={isHidden:!1},e}function ih(e,t,n){return e=Fn(6,e,null,t),e.lanes=n,e}function oh(e,t,n){return t=Fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ud(0),this.expirationTimes=Ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ud(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function V1(e,t,n,r,i,o,s,a,l){return e=new jS(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Fn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},C1(o),e}function US(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function f3(e){if(!e)return no;e=e._reactInternals;e:{if(us(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var n=e.type;if(dn(n))return cx(e,n,t)}return t}function d3(e,t,n,r,i,o,s,a,l){return e=V1(n,r,!0,e,i,o,s,a,l),e.context=f3(null),n=e.current,r=tn(),i=Yi(n),o=Jr(r,i),o.callback=t??null,Gi(n,o,i),e.current.lanes=i,Ql(e,i,r),hn(e,r),e}function Sf(e,t,n,r){var i=t.current,o=tn(),s=Yi(i);return n=f3(n),t.context===null?t.context=n:t.pendingContext=n,t=Jr(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Gi(i,t,s),e!==null&&(sr(e,i,s,o),nc(e,i,s)),s}function Nc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function km(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function q1(e,t){km(e,t),(e=e.alternate)&&km(e,t)}function DS(){return null}var h3=typeof reportError=="function"?reportError:function(e){console.error(e)};function W1(e){this._internalRoot=e}_f.prototype.render=W1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));Sf(e,t,null,null)};_f.prototype.unmount=W1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;is(function(){Sf(null,e,null,null)}),t[ti]=null}};function _f(e){this._internalRoot=e}_f.prototype.unstable_scheduleHydration=function(e){if(e){var t=H2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Oi.length&&t!==0&&t<Oi[n].priority;n++);Oi.splice(n,0,e),n===0&&V2(e)}};function G1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Af(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rm(){}function FS(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Nc(s);o.call(u)}}var s=d3(t,r,e,0,null,!1,!1,"",Rm);return e._reactRootContainer=s,e[ti]=s.current,Tl(e.nodeType===8?e.parentNode:e),is(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Nc(l);a.call(u)}}var l=V1(e,0,!1,null,null,!1,!1,"",Rm);return e._reactRootContainer=l,e[ti]=l.current,Tl(e.nodeType===8?e.parentNode:e),is(function(){Sf(t,l,n,r)}),l}function kf(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Nc(s);a.call(l)}}Sf(t,s,e,i)}else s=FS(n,t,e,i,r);return Nc(s)}F2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xa(t.pendingLanes);n!==0&&(h1(t,n|1),hn(t,pt()),!(Ie&6)&&(qs=pt()+500,fo()))}break;case 13:is(function(){var r=ni(e,1);if(r!==null){var i=tn();sr(r,e,1,i)}}),q1(e,1)}};p1=function(e){if(e.tag===13){var t=ni(e,134217728);if(t!==null){var n=tn();sr(t,e,134217728,n)}q1(e,134217728)}};z2=function(e){if(e.tag===13){var t=Yi(e),n=ni(e,t);if(n!==null){var r=tn();sr(n,e,t,r)}q1(e,t)}};H2=function(){return Ke};K2=function(e,t){var n=Ke;try{return Ke=e,t()}finally{Ke=n}};y0=function(e,t,n){switch(t){case"input":if(u0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yf(r);if(!i)throw Error(ne(90));b2(r),u0(r,i)}}}break;case"textarea":S2(e,n);break;case"select":t=n.value,t!=null&&Is(e,!!n.multiple,t,!1)}};B2=F1;$2=is;var zS={usingClientEntryPoint:!1,Events:[Xl,xs,yf,C2,T2,F1]},La={findFiberByHostInstance:Uo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HS={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=I2(e),e===null?null:e.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||DS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{df=Cu.inject(HS),Br=Cu}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zS;bn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G1(t))throw Error(ne(200));return US(e,t,null,n)};bn.createRoot=function(e,t){if(!G1(e))throw Error(ne(299));var n=!1,r="",i=h3;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=V1(e,1,!1,null,null,n,!1,r,i),e[ti]=t.current,Tl(e.nodeType===8?e.parentNode:e),new W1(t)};bn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=I2(t),e=e===null?null:e.stateNode,e};bn.flushSync=function(e){return is(e)};bn.hydrate=function(e,t,n){if(!Af(t))throw Error(ne(200));return kf(null,e,t,!0,n)};bn.hydrateRoot=function(e,t,n){if(!G1(e))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=h3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=d3(t,null,e,1,n??null,i,!1,o,s),e[ti]=t.current,Tl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new _f(t)};bn.render=function(e,t,n){if(!Af(t))throw Error(ne(200));return kf(null,e,t,!1,n)};bn.unmountComponentAtNode=function(e){if(!Af(e))throw Error(ne(40));return e._reactRootContainer?(is(function(){kf(null,null,e,!1,function(){e._reactRootContainer=null,e[ti]=null})}),!0):!1};bn.unstable_batchedUpdates=F1;bn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Af(n))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return kf(e,t,n,!1,r)};bn.version="18.2.0-next-9e3b772b8-20220608";function p3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p3)}catch(e){console.error(e)}}p3(),d2.exports=bn;var ho=d2.exports;const KS=la(ho),VS=t2({__proto__:null,default:KS},[ho]);var Cm=ho;n0.createRoot=Cm.createRoot,n0.hydrateRoot=Cm.hydrateRoot;/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ft.apply(this,arguments)}var ht;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ht||(ht={}));const Tm="popstate";function qS(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return jl("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:os(i)}return GS(t,n,null,e)}function Ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ws(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WS(){return Math.random().toString(36).substr(2,8)}function Bm(e,t){return{usr:e.state,key:e.key,idx:t}}function jl(e,t,n,r){return n===void 0&&(n=null),ft({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?li(t):t,{state:n,key:t&&t.key||r||WS()})}function os(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function li(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function GS(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=ht.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(ft({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=ht.Pop;let A=c(),w=A==null?null:A-u;u=A,l&&l({action:a,location:y.location,delta:w})}function p(A,w){a=ht.Push;let R=jl(y.location,A,w);n&&n(R,A),u=c()+1;let T=Bm(R,u),L=y.createHref(R);try{s.pushState(T,"",L)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(L)}o&&l&&l({action:a,location:y.location,delta:1})}function E(A,w){a=ht.Replace;let R=jl(y.location,A,w);n&&n(R,A),u=c();let T=Bm(R,u),L=y.createHref(R);s.replaceState(T,"",L),o&&l&&l({action:a,location:y.location,delta:0})}function _(A){let w=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof A=="string"?A:os(A);return R=R.replace(/ $/,"%20"),Ce(w,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,w)}let y={get action(){return a},get location(){return e(i,s)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Tm,f),l=A,()=>{i.removeEventListener(Tm,f),l=null}},createHref(A){return t(i,A)},createURL:_,encodeLocation(A){let w=_(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:E,go(A){return s.go(A)}};return y}var ut;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ut||(ut={}));const ZS=new Set(["lazy","caseSensitive","path","id","index","children"]);function YS(e){return e.index===!0}function Z0(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(Ce(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ce(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),YS(i)){let l=ft({},i,t(i),{id:a});return r[a]=l,l}else{let l=ft({},i,t(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Z0(i.children,t,s,r)),l}})}function Rs(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?li(t):t,i=ii(r.pathname||"/",n);if(i==null)return null;let o=g3(e);JS(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let l=u_(i);s=a_(o[a],l)}return s}function QS(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function g3(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Ce(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Xr([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Ce(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),g3(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:o_(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of y3(o.path))i(o,s,l)}),t}function y3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=y3(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function JS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:s_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XS=/^:[\w-]+$/,e_=3,t_=2,n_=1,r_=10,i_=-2,$m=e=>e==="*";function o_(e,t){let n=e.split("/"),r=n.length;return n.some($m)&&(r+=i_),t&&(r+=t_),n.filter(i=>!$m(i)).reduce((i,o)=>i+(XS.test(o)?e_:o===""?n_:r_),r)}function s_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function a_(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=Y0({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;o.push({params:r,pathname:Xr([i,c.pathname]),pathnameBase:d_(Xr([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Xr([i,c.pathnameBase]))}return o}function Y0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=l_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:p,isOptional:E}=c;if(p==="*"){let y=a[f]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const _=a[f];return E&&!_?u[p]=void 0:u[p]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function l_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ws(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function u_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ws(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ii(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function c_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?li(e):e;return{pathname:n?n.startsWith("/")?n:f_(n,t):t,search:h_(r),hash:p_(i)}}function f_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Z1(e,t){let n=m3(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Y1(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=li(e):(i=ft({},e),Ce(!i.pathname||!i.pathname.includes("?"),sh("?","pathname","search",i)),Ce(!i.pathname||!i.pathname.includes("#"),sh("#","pathname","hash",i)),Ce(!i.search||!i.search.includes("#"),sh("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=c_(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Xr=e=>e.join("/").replace(/\/\/+/g,"/"),d_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),h_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Q1{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function v3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const w3=["post","put","patch","delete"],g_=new Set(w3),y_=["get",...w3],m_=new Set(y_),v_=new Set([301,302,303,307,308]),w_=new Set([307,308]),ah={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},x_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Na={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},x3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b_=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),b3="remix-router-transitions";function E_(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;Ce(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let V=e.detectErrorBoundary;i=G=>({hasErrorBoundary:V(G)})}else i=b_;let o={},s=Z0(e.routes,i,void 0,o),a,l=e.basename||"/",u=ft({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),c=null,f=new Set,p=null,E=null,_=null,y=e.hydrationData!=null,A=Rs(s,e.history.location,l),w=null;if(A==null){let V=Pn(404,{pathname:e.history.location.pathname}),{matches:G,route:Y}=Um(s);A=G,w={[Y.id]:V}}let R,T=A.some(V=>V.route.lazy),L=A.some(V=>V.route.loader);if(T)R=!1;else if(!L)R=!0;else if(u.v7_partialHydration){let V=e.hydrationData?e.hydrationData.loaderData:null,G=e.hydrationData?e.hydrationData.errors:null;R=A.every(Y=>Y.route.loader&&Y.route.loader.hydrate!==!0&&(V&&V[Y.route.id]!==void 0||G&&G[Y.route.id]!==void 0))}else R=e.hydrationData!=null;let j,M={historyAction:e.history.action,location:e.history.location,matches:A,initialized:R,navigation:ah,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||w,fetchers:new Map,blockers:new Map},N=ht.Pop,D=!1,K,H=!1,k=new Map,d=null,g=!1,C=!1,m=[],x=[],$=new Map,P=0,S=-1,h=new Map,B=new Set,z=new Map,Q=new Map,J=new Set,te=new Map,re=new Map,ie=!1;function xe(){if(c=e.history.listen(V=>{let{action:G,location:Y,delta:ee}=V;if(ie){ie=!1;return}Ws(re.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ce=ve({currentLocation:M.location,nextLocation:Y,historyAction:G});if(ce&&ee!=null){ie=!0,e.history.go(ee*-1),Fe(ce,{state:"blocked",location:Y,proceed(){Fe(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),e.history.go(ee)},reset(){let he=new Map(M.blockers);he.set(ce,Na),ze({blockers:he})}});return}return ke(G,Y)}),n){P_(t,k);let V=()=>I_(t,k);t.addEventListener("pagehide",V),d=()=>t.removeEventListener("pagehide",V)}return M.initialized||ke(ht.Pop,M.location,{initialHydration:!0}),j}function se(){c&&c(),d&&d(),f.clear(),K&&K.abort(),M.fetchers.forEach((V,G)=>I(G)),M.blockers.forEach((V,G)=>ue(G))}function me(V){return f.add(V),()=>f.delete(V)}function ze(V,G){G===void 0&&(G={}),M=ft({},M,V);let Y=[],ee=[];u.v7_fetcherPersist&&M.fetchers.forEach((ce,he)=>{ce.state==="idle"&&(J.has(he)?ee.push(he):Y.push(he))}),[...f].forEach(ce=>ce(M,{deletedFetchers:ee,unstable_viewTransitionOpts:G.viewTransitionOpts,unstable_flushSync:G.flushSync===!0})),u.v7_fetcherPersist&&(Y.forEach(ce=>M.fetchers.delete(ce)),ee.forEach(ce=>I(ce)))}function ge(V,G,Y){var ee,ce;let{flushSync:he}=Y===void 0?{}:Y,ae=M.actionData!=null&&M.navigation.formMethod!=null&&tr(M.navigation.formMethod)&&M.navigation.state==="loading"&&((ee=V.state)==null?void 0:ee._isRedirect)!==!0,ye;G.actionData?Object.keys(G.actionData).length>0?ye=G.actionData:ye=null:ae?ye=M.actionData:ye=null;let oe=G.loaderData?jm(M.loaderData,G.loaderData,G.matches||[],G.errors):M.loaderData,pe=M.blockers;pe.size>0&&(pe=new Map(pe),pe.forEach((Ee,Et)=>pe.set(Et,Na)));let dt=D===!0||M.navigation.formMethod!=null&&tr(M.navigation.formMethod)&&((ce=V.state)==null?void 0:ce._isRedirect)!==!0;a&&(s=a,a=void 0),g||N===ht.Pop||(N===ht.Push?e.history.push(V,V.state):N===ht.Replace&&e.history.replace(V,V.state));let de;if(N===ht.Pop){let Ee=k.get(M.location.pathname);Ee&&Ee.has(V.pathname)?de={currentLocation:M.location,nextLocation:V}:k.has(V.pathname)&&(de={currentLocation:V,nextLocation:M.location})}else if(H){let Ee=k.get(M.location.pathname);Ee?Ee.add(V.pathname):(Ee=new Set([V.pathname]),k.set(M.location.pathname,Ee)),de={currentLocation:M.location,nextLocation:V}}ze(ft({},G,{actionData:ye,loaderData:oe,historyAction:N,location:V,initialized:!0,navigation:ah,revalidation:"idle",restoreScrollPosition:ka(V,G.matches||M.matches),preventScrollReset:dt,blockers:pe}),{viewTransitionOpts:de,flushSync:he===!0}),N=ht.Pop,D=!1,H=!1,g=!1,C=!1,m=[],x=[]}async function fe(V,G){if(typeof V=="number"){e.history.go(V);return}let Y=Q0(M.location,M.matches,l,u.v7_prependBasename,V,u.v7_relativeSplatPath,G==null?void 0:G.fromRouteId,G==null?void 0:G.relative),{path:ee,submission:ce,error:he}=Mm(u.v7_normalizeFormMethod,!1,Y,G),ae=M.location,ye=jl(M.location,ee,G&&G.state);ye=ft({},ye,e.history.encodeLocation(ye));let oe=G&&G.replace!=null?G.replace:void 0,pe=ht.Push;oe===!0?pe=ht.Replace:oe===!1||ce!=null&&tr(ce.formMethod)&&ce.formAction===M.location.pathname+M.location.search&&(pe=ht.Replace);let dt=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,de=(G&&G.unstable_flushSync)===!0,Ee=ve({currentLocation:ae,nextLocation:ye,historyAction:pe});if(Ee){Fe(Ee,{state:"blocked",location:ye,proceed(){Fe(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:ye}),fe(V,G)},reset(){let Et=new Map(M.blockers);Et.set(Ee,Na),ze({blockers:Et})}});return}return await ke(pe,ye,{submission:ce,pendingError:he,preventScrollReset:dt,replace:G&&G.replace,enableViewTransition:G&&G.unstable_viewTransition,flushSync:de})}function He(){if(ur(),ze({revalidation:"loading"}),M.navigation.state!=="submitting"){if(M.navigation.state==="idle"){ke(M.historyAction,M.location,{startUninterruptedRevalidation:!0});return}ke(N||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation})}}async function ke(V,G,Y){K&&K.abort(),K=null,N=V,g=(Y&&Y.startUninterruptedRevalidation)===!0,at(M.location,M.matches),D=(Y&&Y.preventScrollReset)===!0,H=(Y&&Y.enableViewTransition)===!0;let ee=a||s,ce=Y&&Y.overrideNavigation,he=Rs(ee,G,l),ae=(Y&&Y.flushSync)===!0;if(!he){let Et=Pn(404,{pathname:G.pathname}),{matches:Pe,route:Re}=Um(ee);be(),ge(G,{matches:Pe,loaderData:{},errors:{[Re.id]:Et}},{flushSync:ae});return}if(M.initialized&&!C&&R_(M.location,G)&&!(Y&&Y.submission&&tr(Y.submission.formMethod))){ge(G,{matches:he},{flushSync:ae});return}K=new AbortController;let ye=ja(e.history,G,K.signal,Y&&Y.submission),oe,pe;if(Y&&Y.pendingError)pe={[pl(he).route.id]:Y.pendingError};else if(Y&&Y.submission&&tr(Y.submission.formMethod)){let Et=await Me(ye,G,Y.submission,he,{replace:Y.replace,flushSync:ae});if(Et.shortCircuited)return;oe=Et.pendingActionData,pe=Et.pendingActionError,ce=lh(G,Y.submission),ae=!1,ye=new Request(ye.url,{signal:ye.signal})}let{shortCircuited:dt,loaderData:de,errors:Ee}=await gi(ye,G,he,ce,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,ae,oe,pe);dt||(K=null,ge(G,ft({matches:he},oe?{actionData:oe}:{},{loaderData:de,errors:Ee})))}async function Me(V,G,Y,ee,ce){ce===void 0&&(ce={}),ur();let he=$_(G,Y);ze({navigation:he},{flushSync:ce.flushSync===!0});let ae,ye=X0(ee,G);if(!ye.route.action&&!ye.route.lazy)ae={type:ut.error,error:Pn(405,{method:V.method,pathname:G.pathname,routeId:ye.route.id})};else if(ae=await Oa("action",V,ye,ee,o,i,l,u.v7_relativeSplatPath),V.signal.aborted)return{shortCircuited:!0};if(Ho(ae)){let oe;return ce&&ce.replace!=null?oe=ce.replace:oe=ae.location===M.location.pathname+M.location.search,await je(M,ae,{submission:Y,replace:oe}),{shortCircuited:!0}}if(Cs(ae)){let oe=pl(ee,ye.route.id);return(ce&&ce.replace)!==!0&&(N=ht.Push),{pendingActionData:{},pendingActionError:{[oe.route.id]:ae.error}}}if(zo(ae))throw Pn(400,{type:"defer-action"});return{pendingActionData:{[ye.route.id]:ae.data}}}async function gi(V,G,Y,ee,ce,he,ae,ye,oe,pe,dt){let de=ee||lh(G,ce),Ee=ce||he||zm(de),Et=a||s,[Pe,Re]=Pm(e.history,M,Y,Ee,G,u.v7_partialHydration&&ye===!0,C,m,x,J,z,B,Et,l,pe,dt);if(be(De=>!(Y&&Y.some(qe=>qe.route.id===De))||Pe&&Pe.some(qe=>qe.route.id===De)),S=++P,Pe.length===0&&Re.length===0){let De=F();return ge(G,ft({matches:Y,loaderData:{},errors:dt||null},pe?{actionData:pe}:{},De?{fetchers:new Map(M.fetchers)}:{}),{flushSync:oe}),{shortCircuited:!0}}if(!g&&(!u.v7_partialHydration||!ye)){Re.forEach(qe=>{let on=M.fetchers.get(qe.key),mi=Ua(void 0,on?on.data:void 0);M.fetchers.set(qe.key,mi)});let De=pe||M.actionData;ze(ft({navigation:de},De?Object.keys(De).length===0?{actionData:null}:{actionData:De}:{},Re.length>0?{fetchers:new Map(M.fetchers)}:{}),{flushSync:oe})}Re.forEach(De=>{$.has(De.key)&&b(De.key),De.controller&&$.set(De.key,De.controller)});let Or=()=>Re.forEach(De=>b(De.key));K&&K.signal.addEventListener("abort",Or);let{results:et,loaderResults:We,fetcherResults:kn}=await $e(M.matches,Y,Pe,Re,V);if(V.signal.aborted)return{shortCircuited:!0};K&&K.signal.removeEventListener("abort",Or),Re.forEach(De=>$.delete(De.key));let Wn=Dm(et);if(Wn){if(Wn.idx>=Pe.length){let De=Re[Wn.idx-Pe.length].key;B.add(De)}return await je(M,Wn.result,{replace:ae}),{shortCircuited:!0}}let{loaderData:So,errors:_o}=Om(M,Y,Pe,We,dt,Re,kn,te);te.forEach((De,qe)=>{De.subscribe(on=>{(on||De.done)&&te.delete(qe)})});let Ao=F(),cr=W(S),yi=Ao||cr||Re.length>0;return ft({loaderData:So,errors:_o},yi?{fetchers:new Map(M.fetchers)}:{})}function Je(V,G,Y,ee){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(V)&&b(V);let ce=(ee&&ee.unstable_flushSync)===!0,he=a||s,ae=Q0(M.location,M.matches,l,u.v7_prependBasename,Y,u.v7_relativeSplatPath,G,ee==null?void 0:ee.relative),ye=Rs(he,ae,l);if(!ye){Be(V,G,Pn(404,{pathname:ae}),{flushSync:ce});return}let{path:oe,submission:pe,error:dt}=Mm(u.v7_normalizeFormMethod,!0,ae,ee);if(dt){Be(V,G,dt,{flushSync:ce});return}let de=X0(ye,oe);if(D=(ee&&ee.preventScrollReset)===!0,pe&&tr(pe.formMethod)){Xe(V,G,oe,de,ye,ce,pe);return}z.set(V,{routeId:G,path:oe}),bo(V,G,oe,de,ye,ce,pe)}async function Xe(V,G,Y,ee,ce,he,ae){if(ur(),z.delete(V),!ee.route.action&&!ee.route.lazy){let qe=Pn(405,{method:ae.formMethod,pathname:Y,routeId:G});Be(V,G,qe,{flushSync:he});return}let ye=M.fetchers.get(V);Ue(V,M_(ae,ye),{flushSync:he});let oe=new AbortController,pe=ja(e.history,Y,oe.signal,ae);$.set(V,oe);let dt=P,de=await Oa("action",pe,ee,ce,o,i,l,u.v7_relativeSplatPath);if(pe.signal.aborted){$.get(V)===oe&&$.delete(V);return}if(u.v7_fetcherPersist&&J.has(V)){if(Ho(de)||Cs(de)){Ue(V,Pi(void 0));return}}else{if(Ho(de))if($.delete(V),S>dt){Ue(V,Pi(void 0));return}else return B.add(V),Ue(V,Ua(ae)),je(M,de,{fetcherSubmission:ae});if(Cs(de)){Be(V,G,de.error);return}}if(zo(de))throw Pn(400,{type:"defer-action"});let Ee=M.navigation.location||M.location,Et=ja(e.history,Ee,oe.signal),Pe=a||s,Re=M.navigation.state!=="idle"?Rs(Pe,M.navigation.location,l):M.matches;Ce(Re,"Didn't find any matches after fetcher action");let Or=++P;h.set(V,Or);let et=Ua(ae,de.data);M.fetchers.set(V,et);let[We,kn]=Pm(e.history,M,Re,ae,Ee,!1,C,m,x,J,z,B,Pe,l,{[ee.route.id]:de.data},void 0);kn.filter(qe=>qe.key!==V).forEach(qe=>{let on=qe.key,mi=M.fetchers.get(on),Ra=Ua(void 0,mi?mi.data:void 0);M.fetchers.set(on,Ra),$.has(on)&&b(on),qe.controller&&$.set(on,qe.controller)}),ze({fetchers:new Map(M.fetchers)});let Wn=()=>kn.forEach(qe=>b(qe.key));oe.signal.addEventListener("abort",Wn);let{results:So,loaderResults:_o,fetcherResults:Ao}=await $e(M.matches,Re,We,kn,Et);if(oe.signal.aborted)return;oe.signal.removeEventListener("abort",Wn),h.delete(V),$.delete(V),kn.forEach(qe=>$.delete(qe.key));let cr=Dm(So);if(cr){if(cr.idx>=We.length){let qe=kn[cr.idx-We.length].key;B.add(qe)}return je(M,cr.result)}let{loaderData:yi,errors:De}=Om(M,M.matches,We,_o,void 0,kn,Ao,te);if(M.fetchers.has(V)){let qe=Pi(de.data);M.fetchers.set(V,qe)}W(Or),M.navigation.state==="loading"&&Or>S?(Ce(N,"Expected pending action"),K&&K.abort(),ge(M.navigation.location,{matches:Re,loaderData:yi,errors:De,fetchers:new Map(M.fetchers)})):(ze({errors:De,loaderData:jm(M.loaderData,yi,Re,De),fetchers:new Map(M.fetchers)}),C=!1)}async function bo(V,G,Y,ee,ce,he,ae){let ye=M.fetchers.get(V);Ue(V,Ua(ae,ye?ye.data:void 0),{flushSync:he});let oe=new AbortController,pe=ja(e.history,Y,oe.signal);$.set(V,oe);let dt=P,de=await Oa("loader",pe,ee,ce,o,i,l,u.v7_relativeSplatPath);if(zo(de)&&(de=await _3(de,pe.signal,!0)||de),$.get(V)===oe&&$.delete(V),!pe.signal.aborted){if(J.has(V)){Ue(V,Pi(void 0));return}if(Ho(de))if(S>dt){Ue(V,Pi(void 0));return}else{B.add(V),await je(M,de);return}if(Cs(de)){Be(V,G,de.error);return}Ce(!zo(de),"Unhandled fetcher deferred data"),Ue(V,Pi(de.data))}}async function je(V,G,Y){let{submission:ee,fetcherSubmission:ce,replace:he}=Y===void 0?{}:Y;G.revalidate&&(C=!0);let ae=jl(V.location,G.location,{_isRedirect:!0});if(Ce(ae,"Expected a location on the redirect navigation"),n){let Ee=!1;if(G.reloadDocument)Ee=!0;else if(x3.test(G.location)){const Et=e.history.createURL(G.location);Ee=Et.origin!==t.location.origin||ii(Et.pathname,l)==null}if(Ee){he?t.location.replace(G.location):t.location.assign(G.location);return}}K=null;let ye=he===!0?ht.Replace:ht.Push,{formMethod:oe,formAction:pe,formEncType:dt}=V.navigation;!ee&&!ce&&oe&&pe&&dt&&(ee=zm(V.navigation));let de=ee||ce;if(w_.has(G.status)&&de&&tr(de.formMethod))await ke(ye,ae,{submission:ft({},de,{formAction:G.location}),preventScrollReset:D});else{let Ee=lh(ae,ee);await ke(ye,ae,{overrideNavigation:Ee,fetcherSubmission:ce,preventScrollReset:D})}}async function $e(V,G,Y,ee,ce){let he=await Promise.all([...Y.map(oe=>Oa("loader",ce,oe,G,o,i,l,u.v7_relativeSplatPath)),...ee.map(oe=>oe.matches&&oe.match&&oe.controller?Oa("loader",ja(e.history,oe.path,oe.controller.signal),oe.match,oe.matches,o,i,l,u.v7_relativeSplatPath):{type:ut.error,error:Pn(404,{pathname:oe.path})})]),ae=he.slice(0,Y.length),ye=he.slice(Y.length);return await Promise.all([Fm(V,Y,ae,ae.map(()=>ce.signal),!1,M.loaderData),Fm(V,ee.map(oe=>oe.match),ye,ee.map(oe=>oe.controller?oe.controller.signal:null),!0)]),{results:he,loaderResults:ae,fetcherResults:ye}}function ur(){C=!0,m.push(...be()),z.forEach((V,G)=>{$.has(G)&&(x.push(G),b(G))})}function Ue(V,G,Y){Y===void 0&&(Y={}),M.fetchers.set(V,G),ze({fetchers:new Map(M.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function Be(V,G,Y,ee){ee===void 0&&(ee={});let ce=pl(M.matches,G);I(V),ze({errors:{[ce.route.id]:Y},fetchers:new Map(M.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Eo(V){return u.v7_fetcherPersist&&(Q.set(V,(Q.get(V)||0)+1),J.has(V)&&J.delete(V)),M.fetchers.get(V)||x_}function I(V){let G=M.fetchers.get(V);$.has(V)&&!(G&&G.state==="loading"&&h.has(V))&&b(V),z.delete(V),h.delete(V),B.delete(V),J.delete(V),M.fetchers.delete(V)}function v(V){if(u.v7_fetcherPersist){let G=(Q.get(V)||0)-1;G<=0?(Q.delete(V),J.add(V)):Q.set(V,G)}else I(V);ze({fetchers:new Map(M.fetchers)})}function b(V){let G=$.get(V);Ce(G,"Expected fetch controller: "+V),G.abort(),$.delete(V)}function O(V){for(let G of V){let Y=Eo(G),ee=Pi(Y.data);M.fetchers.set(G,ee)}}function F(){let V=[],G=!1;for(let Y of B){let ee=M.fetchers.get(Y);Ce(ee,"Expected fetcher: "+Y),ee.state==="loading"&&(B.delete(Y),V.push(Y),G=!0)}return O(V),G}function W(V){let G=[];for(let[Y,ee]of h)if(ee<V){let ce=M.fetchers.get(Y);Ce(ce,"Expected fetcher: "+Y),ce.state==="loading"&&(b(Y),h.delete(Y),G.push(Y))}return O(G),G.length>0}function Z(V,G){let Y=M.blockers.get(V)||Na;return re.get(V)!==G&&re.set(V,G),Y}function ue(V){M.blockers.delete(V),re.delete(V)}function Fe(V,G){let Y=M.blockers.get(V)||Na;Ce(Y.state==="unblocked"&&G.state==="blocked"||Y.state==="blocked"&&G.state==="blocked"||Y.state==="blocked"&&G.state==="proceeding"||Y.state==="blocked"&&G.state==="unblocked"||Y.state==="proceeding"&&G.state==="unblocked","Invalid blocker state transition: "+Y.state+" -> "+G.state);let ee=new Map(M.blockers);ee.set(V,G),ze({blockers:ee})}function ve(V){let{currentLocation:G,nextLocation:Y,historyAction:ee}=V;if(re.size===0)return;re.size>1&&Ws(!1,"A router only supports one blocker at a time");let ce=Array.from(re.entries()),[he,ae]=ce[ce.length-1],ye=M.blockers.get(he);if(!(ye&&ye.state==="proceeding")&&ae({currentLocation:G,nextLocation:Y,historyAction:ee}))return he}function be(V){let G=[];return te.forEach((Y,ee)=>{(!V||V(ee))&&(Y.cancel(),G.push(ee),te.delete(ee))}),G}function Le(V,G,Y){if(p=V,_=G,E=Y||null,!y&&M.navigation===ah){y=!0;let ee=ka(M.location,M.matches);ee!=null&&ze({restoreScrollPosition:ee})}return()=>{p=null,_=null,E=null}}function nt(V,G){return E&&E(V,G.map(ee=>QS(ee,M.loaderData)))||V.key}function at(V,G){if(p&&_){let Y=nt(V,G);p[Y]=_()}}function ka(V,G){if(p){let Y=nt(V,G),ee=p[Y];if(typeof ee=="number")return ee}return null}function lt(V){o={},a=Z0(V,i,void 0,o)}return j={get basename(){return l},get future(){return u},get state(){return M},get routes(){return s},get window(){return t},initialize:xe,subscribe:me,enableScrollRestoration:Le,navigate:fe,fetch:Je,revalidate:He,createHref:V=>e.history.createHref(V),encodeLocation:V=>e.history.encodeLocation(V),getFetcher:Eo,deleteFetcher:v,dispose:se,getBlocker:Z,deleteBlocker:ue,_internalFetchControllers:$,_internalActiveDeferreds:te,_internalSetRoutes:lt},j}function S_(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Q0(e,t,n,r,i,o,s,a){let l,u;if(s){l=[];for(let f of t)if(l.push(f),f.route.id===s){u=f;break}}else l=t,u=t[t.length-1];let c=Y1(i||".",Z1(l,o),ii(e.pathname,n)||e.pathname,a==="path");return i==null&&(c.search=e.search,c.hash=e.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!J1(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Xr([n,c.pathname])),os(c)}function Mm(e,t,n,r){if(!r||!S_(r))return{path:n};if(r.formMethod&&!B_(r.formMethod))return{path:n,error:Pn(405,{method:r.formMethod})};let i=()=>({path:n,error:Pn(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=e?o.toUpperCase():o.toLowerCase(),a=S3(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!tr(s))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((E,_)=>{let[y,A]=_;return""+E+y+"="+A+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!tr(s))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}Ce(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=J0(r.formData),u=r.formData;else if(r.body instanceof FormData)l=J0(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Nm(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Nm(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(tr(c.formMethod))return{path:n,submission:c};let f=li(n);return t&&f.search&&J1(f.search)&&l.append("index",""),f.search="?"+l,{path:os(f),submission:c}}function __(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function Pm(e,t,n,r,i,o,s,a,l,u,c,f,p,E,_,y){let A=y?Object.values(y)[0]:_?Object.values(_)[0]:void 0,w=e.createURL(t.location),R=e.createURL(i),T=y?Object.keys(y)[0]:void 0,j=__(n,T).filter((N,D)=>{let{route:K}=N;if(K.lazy)return!0;if(K.loader==null)return!1;if(o)return K.loader.hydrate?!0:t.loaderData[K.id]===void 0&&(!t.errors||t.errors[K.id]===void 0);if(A_(t.loaderData,t.matches[D],N)||a.some(d=>d===N.route.id))return!0;let H=t.matches[D],k=N;return Im(N,ft({currentUrl:w,currentParams:H.params,nextUrl:R,nextParams:k.params},r,{actionResult:A,defaultShouldRevalidate:s||w.pathname+w.search===R.pathname+R.search||w.search!==R.search||E3(H,k)}))}),M=[];return c.forEach((N,D)=>{if(o||!n.some(g=>g.route.id===N.routeId)||u.has(D))return;let K=Rs(p,N.path,E);if(!K){M.push({key:D,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let H=t.fetchers.get(D),k=X0(K,N.path),d=!1;f.has(D)?d=!1:l.includes(D)?d=!0:H&&H.state!=="idle"&&H.data===void 0?d=s:d=Im(k,ft({currentUrl:w,currentParams:t.matches[t.matches.length-1].params,nextUrl:R,nextParams:n[n.length-1].params},r,{actionResult:A,defaultShouldRevalidate:s})),d&&M.push({key:D,routeId:N.routeId,path:N.path,matches:K,match:k,controller:new AbortController})}),[j,M]}function A_(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function E3(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Im(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function Lm(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];Ce(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Ws(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!ZS.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,ft({},t(i),{lazy:void 0}))}async function Oa(e,t,n,r,i,o,s,a,l){l===void 0&&(l={});let u,c,f,p=y=>{let A,w=new Promise((R,T)=>A=T);return f=()=>A(),t.signal.addEventListener("abort",f),Promise.race([y({request:t,params:n.params,context:l.requestContext}),w])};try{let y=n.route[e];if(n.route.lazy)if(y){let A,w=await Promise.all([p(y).catch(R=>{A=R}),Lm(n.route,o,i)]);if(A)throw A;c=w[0]}else if(await Lm(n.route,o,i),y=n.route[e],y)c=await p(y);else if(e==="action"){let A=new URL(t.url),w=A.pathname+A.search;throw Pn(405,{method:t.method,pathname:w,routeId:n.route.id})}else return{type:ut.data,data:void 0};else if(y)c=await p(y);else{let A=new URL(t.url),w=A.pathname+A.search;throw Pn(404,{pathname:w})}Ce(c!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(y){u=ut.error,c=y}finally{f&&t.signal.removeEventListener("abort",f)}if(T_(c)){let y=c.status;if(v_.has(y)){let w=c.headers.get("Location");if(Ce(w,"Redirects returned/thrown from loaders/actions must have a Location header"),!x3.test(w))w=Q0(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,w,a);else if(!l.isStaticRequest){let R=new URL(t.url),T=w.startsWith("//")?new URL(R.protocol+w):new URL(w),L=ii(T.pathname,s)!=null;T.origin===R.origin&&L&&(w=T.pathname+T.search+T.hash)}if(l.isStaticRequest)throw c.headers.set("Location",w),c;return{type:ut.redirect,status:y,location:w,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===ut.error?ut.error:ut.data,response:c};let A;try{let w=c.headers.get("Content-Type");w&&/\bapplication\/json\b/.test(w)?c.body==null?A=null:A=await c.json():A=await c.text()}catch(w){return{type:ut.error,error:w}}return u===ut.error?{type:u,error:new Q1(y,c.statusText,A),headers:c.headers}:{type:ut.data,data:A,statusCode:c.status,headers:c.headers}}if(u===ut.error)return{type:u,error:c};if(C_(c)){var E,_;return{type:ut.deferred,deferredData:c,statusCode:(E=c.init)==null?void 0:E.status,headers:((_=c.init)==null?void 0:_.headers)&&new Headers(c.init.headers)}}return{type:ut.data,data:c}}function ja(e,t,n,r){let i=e.createURL(S3(t)).toString(),o={signal:n};if(r&&tr(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=J0(r.formData):o.body=r.formData}return new Request(i,o)}function J0(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Nm(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function k_(e,t,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,f)=>{let p=t[f].route.id;if(Ce(!Ho(c),"Cannot handle redirect results in processLoaderData"),Cs(c)){let E=pl(e,p),_=c.error;r&&(_=Object.values(r)[0],r=void 0),s=s||{},s[E.route.id]==null&&(s[E.route.id]=_),o[p]=void 0,l||(l=!0,a=v3(c.error)?c.error.status:500),c.headers&&(u[p]=c.headers)}else zo(c)?(i.set(p,c.deferredData),o[p]=c.deferredData.data):o[p]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[p]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function Om(e,t,n,r,i,o,s,a){let{loaderData:l,errors:u}=k_(t,n,r,i,a);for(let c=0;c<o.length;c++){let{key:f,match:p,controller:E}=o[c];Ce(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let _=s[c];if(!(E&&E.signal.aborted))if(Cs(_)){let y=pl(e.matches,p==null?void 0:p.route.id);u&&u[y.route.id]||(u=ft({},u,{[y.route.id]:_.error})),e.fetchers.delete(f)}else if(Ho(_))Ce(!1,"Unhandled fetcher revalidation redirect");else if(zo(_))Ce(!1,"Unhandled fetcher deferred data");else{let y=Pi(_.data);e.fetchers.set(f,y)}}return{loaderData:l,errors:u}}function jm(e,t,n,r){let i=ft({},t);for(let o of n){let s=o.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(i[s]=t[s]):e[s]!==void 0&&o.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}return i}function pl(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Um(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Pn(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):e===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",a='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Q1(e||500,s,new Error(a),!0)}function Dm(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Ho(n))return{result:n,idx:t}}}function S3(e){let t=typeof e=="string"?li(e):e;return os(ft({},t,{hash:""}))}function R_(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function zo(e){return e.type===ut.deferred}function Cs(e){return e.type===ut.error}function Ho(e){return(e&&e.type)===ut.redirect}function C_(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function T_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function B_(e){return m_.has(e.toLowerCase())}function tr(e){return g_.has(e.toLowerCase())}async function Fm(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let u=e.find(f=>f.route.id===l.route.id),c=u!=null&&!E3(u,l)&&(o&&o[l.route.id])!==void 0;if(zo(a)&&(i||c)){let f=r[s];Ce(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await _3(a,f,i).then(p=>{p&&(n[s]=p||n[s])})}}}async function _3(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:ut.data,data:e.deferredData.unwrappedData}}catch(i){return{type:ut.error,error:i}}return{type:ut.data,data:e.deferredData.data}}}function J1(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function X0(e,t){let n=typeof t=="string"?li(t).search:t.search;if(e[e.length-1].route.index&&J1(n||""))return e[e.length-1];let r=m3(e);return r[r.length-1]}function zm(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function lh(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $_(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ua(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function M_(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Pi(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function P_(e,t){try{let n=e.sessionStorage.getItem(b3);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function I_(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(b3,JSON.stringify(n))}catch(r){Ws(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ul.apply(this,arguments)}const tu=q.createContext(null),X1=q.createContext(null),po=q.createContext(null),Rf=q.createContext(null),go=q.createContext({outlet:null,matches:[],isDataRoute:!1}),A3=q.createContext(null);function L_(e,t){let{relative:n}=t===void 0?{}:t;nu()||Ce(!1);let{basename:r,navigator:i}=q.useContext(po),{hash:o,pathname:s,search:a}=Cf(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Xr([r,s])),i.createHref({pathname:l,search:a,hash:o})}function nu(){return q.useContext(Rf)!=null}function da(){return nu()||Ce(!1),q.useContext(Rf).location}function k3(e){q.useContext(po).static||q.useLayoutEffect(e)}function yo(){let{isDataRoute:e}=q.useContext(go);return e?Z_():N_()}function N_(){nu()||Ce(!1);let e=q.useContext(tu),{basename:t,future:n,navigator:r}=q.useContext(po),{matches:i}=q.useContext(go),{pathname:o}=da(),s=JSON.stringify(Z1(i,n.v7_relativeSplatPath)),a=q.useRef(!1);return k3(()=>{a.current=!0}),q.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Y1(u,JSON.parse(s),o,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Xr([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,s,o,e])}const O_=q.createContext(null);function j_(e){let t=q.useContext(go).outlet;return t&&q.createElement(O_.Provider,{value:e},t)}function Cf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=q.useContext(po),{matches:i}=q.useContext(go),{pathname:o}=da(),s=JSON.stringify(Z1(i,r.v7_relativeSplatPath));return q.useMemo(()=>Y1(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function U_(e,t,n,r){nu()||Ce(!1);let{navigator:i}=q.useContext(po),{matches:o}=q.useContext(go),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=da(),c;if(t){var f;let A=typeof t=="string"?li(t):t;l==="/"||(f=A.pathname)!=null&&f.startsWith(l)||Ce(!1),c=A}else c=u;let p=c.pathname||"/",E=p;if(l!=="/"){let A=l.replace(/^\//,"").split("/");E="/"+p.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=Rs(e,{pathname:E}),y=K_(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:Xr([l,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:Xr([l,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,n,r);return t&&y?q.createElement(Rf.Provider,{value:{location:Ul({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ht.Pop}},y):y}function D_(){let e=G_(),t=v3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),n?q.createElement("pre",{style:i},n):null,null)}const F_=q.createElement(D_,null);class z_ extends q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?q.createElement(go.Provider,{value:this.props.routeContext},q.createElement(A3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function H_(e){let{routeContext:t,match:n,children:r}=e,i=q.useContext(tu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),q.createElement(go.Provider,{value:t},r)}function K_(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||Ce(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:p,errors:E}=n,_=f.route.loader&&p[f.route.id]===void 0&&(!E||E[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,p)=>{let E,_=!1,y=null,A=null;n&&(E=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||F_,l&&(u<0&&p===0?(Y_("route-fallback",!1),_=!0,A=null):u===p&&(_=!0,A=f.route.hydrateFallbackElement||null)));let w=t.concat(s.slice(0,p+1)),R=()=>{let T;return E?T=y:_?T=A:f.route.Component?T=q.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=c,q.createElement(H_,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?q.createElement(z_,{location:n.location,revalidation:n.revalidation,component:y,error:E,children:R(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):R()},null)}var R3=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(R3||{}),Oc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Oc||{});function V_(e){let t=q.useContext(tu);return t||Ce(!1),t}function q_(e){let t=q.useContext(X1);return t||Ce(!1),t}function W_(e){let t=q.useContext(go);return t||Ce(!1),t}function C3(e){let t=W_(),n=t.matches[t.matches.length-1];return n.route.id||Ce(!1),n.route.id}function G_(){var e;let t=q.useContext(A3),n=q_(Oc.UseRouteError),r=C3(Oc.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Z_(){let{router:e}=V_(R3.UseNavigateStable),t=C3(Oc.UseNavigateStable),n=q.useRef(!1);return k3(()=>{n.current=!0}),q.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ul({fromRouteId:t},o)))},[e,t])}const Hm={};function Y_(e,t,n){!t&&!Hm[e]&&(Hm[e]=!0)}function Q_(e){return j_(e.context)}function J_(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ht.Pop,navigator:o,static:s=!1,future:a}=e;nu()&&Ce(!1);let l=t.replace(/^\/*/,"/"),u=q.useMemo(()=>({basename:l,navigator:o,static:s,future:Ul({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=li(r));let{pathname:c="/",search:f="",hash:p="",state:E=null,key:_="default"}=r,y=q.useMemo(()=>{let A=ii(c,l);return A==null?null:{location:{pathname:A,search:f,hash:p,state:E,key:_},navigationType:i}},[l,c,f,p,E,_,i]);return y==null?null:q.createElement(po.Provider,{value:u},q.createElement(Rf.Provider,{children:n,value:y}))}new Promise(()=>{});function X_(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:q.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:q.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:q.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gs.apply(this,arguments)}function T3(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function eA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tA(e,t){return e.button===0&&(!t||t==="_self")&&!eA(e)}function ep(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function nA(e,t){let n=ep(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const rA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],iA=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],oA="6";try{window.__reactRouterVersion=oA}catch{}function sA(e,t){return E_({basename:t==null?void 0:t.basename,future:Gs({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:qS({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||aA(),routes:e,mapRouteProperties:X_,window:t==null?void 0:t.window}).initialize()}function aA(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Gs({},t,{errors:lA(t.errors)})),t}function lA(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Q1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const B3=q.createContext({isTransitioning:!1}),uA=q.createContext(new Map),cA="startTransition",Km=I6[cA],fA="flushSync",Vm=VS[fA];function dA(e){Km?Km(e):e()}function Da(e){Vm?Vm(e):e()}class hA{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function pA(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=q.useState(n.state),[s,a]=q.useState(),[l,u]=q.useState({isTransitioning:!1}),[c,f]=q.useState(),[p,E]=q.useState(),[_,y]=q.useState(),A=q.useRef(new Map),{v7_startTransition:w}=r||{},R=q.useCallback(N=>{w?dA(N):N()},[w]),T=q.useCallback((N,D)=>{let{deletedFetchers:K,unstable_flushSync:H,unstable_viewTransitionOpts:k}=D;K.forEach(g=>A.current.delete(g)),N.fetchers.forEach((g,C)=>{g.data!==void 0&&A.current.set(C,g.data)});let d=n.window==null||typeof n.window.document.startViewTransition!="function";if(!k||d){H?Da(()=>o(N)):R(()=>o(N));return}if(H){Da(()=>{p&&(c&&c.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let g=n.window.document.startViewTransition(()=>{Da(()=>o(N))});g.finished.finally(()=>{Da(()=>{f(void 0),E(void 0),a(void 0),u({isTransitioning:!1})})}),Da(()=>E(g));return}p?(c&&c.resolve(),p.skipTransition(),y({state:N,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(a(N),u({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[n.window,p,c,A,R]);q.useLayoutEffect(()=>n.subscribe(T),[n,T]),q.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new hA)},[l]),q.useEffect(()=>{if(c&&s&&n.window){let N=s,D=c.promise,K=n.window.document.startViewTransition(async()=>{R(()=>o(N)),await D});K.finished.finally(()=>{f(void 0),E(void 0),a(void 0),u({isTransitioning:!1})}),E(K)}},[R,s,c,n.window]),q.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,p,i.location,s]),q.useEffect(()=>{!l.isTransitioning&&_&&(a(_.state),u({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),y(void 0))},[l.isTransitioning,_]),q.useEffect(()=>{},[]);let L=q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:N=>n.navigate(N),push:(N,D,K)=>n.navigate(N,{state:D,preventScrollReset:K==null?void 0:K.preventScrollReset}),replace:(N,D,K)=>n.navigate(N,{replace:!0,state:D,preventScrollReset:K==null?void 0:K.preventScrollReset})}),[n]),j=n.basename||"/",M=q.useMemo(()=>({router:n,navigator:L,static:!1,basename:j}),[n,L,j]);return q.createElement(q.Fragment,null,q.createElement(tu.Provider,{value:M},q.createElement(X1.Provider,{value:i},q.createElement(uA.Provider,{value:A.current},q.createElement(B3.Provider,{value:l},q.createElement(J_,{basename:j,location:i.location,navigationType:i.historyAction,navigator:L,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?q.createElement(gA,{routes:n.routes,future:n.future,state:i}):t))))),null)}function gA(e){let{routes:t,future:n,state:r}=e;return U_(t,void 0,r,n)}const yA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$3=q.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:f}=t,p=T3(t,rA),{basename:E}=q.useContext(po),_,y=!1;if(typeof u=="string"&&mA.test(u)&&(_=u,yA))try{let T=new URL(window.location.href),L=u.startsWith("//")?new URL(T.protocol+u):new URL(u),j=ii(L.pathname,E);L.origin===T.origin&&j!=null?u=j+L.search+L.hash:y=!0}catch{}let A=L_(u,{relative:i}),w=wA(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function R(T){r&&r(T),T.defaultPrevented||w(T)}return q.createElement("a",Gs({},p,{href:_||A,onClick:y||o?r:R,ref:n,target:l}))}),gl=q.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,unstable_viewTransition:u,children:c}=t,f=T3(t,iA),p=Cf(l,{relative:f.relative}),E=da(),_=q.useContext(X1),{navigator:y,basename:A}=q.useContext(po),w=_!=null&&xA(p)&&u===!0,R=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,T=E.pathname,L=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(T=T.toLowerCase(),L=L?L.toLowerCase():null,R=R.toLowerCase()),L&&A&&(L=ii(L,A)||L);const j=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let M=T===R||!s&&T.startsWith(R)&&T.charAt(j)==="/",N=L!=null&&(L===R||!s&&L.startsWith(R)&&L.charAt(R.length)==="/"),D={isActive:M,isPending:N,isTransitioning:w},K=M?r:void 0,H;typeof o=="function"?H=o(D):H=[o,M?"active":null,N?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(D):a;return q.createElement($3,Gs({},f,{"aria-current":K,className:H,ref:n,style:k,to:l,unstable_viewTransition:u}),typeof c=="function"?c(D):c)});var tp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tp||(tp={}));var qm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qm||(qm={}));function vA(e){let t=q.useContext(tu);return t||Ce(!1),t}function wA(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=t===void 0?{}:t,l=yo(),u=da(),c=Cf(e,{relative:s});return q.useCallback(f=>{if(tA(f,n)){f.preventDefault();let p=r!==void 0?r:os(u)===os(c);l(e,{replace:p,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,c,r,i,n,e,o,s,a])}function eg(e){let t=q.useRef(ep(e)),n=q.useRef(!1),r=da(),i=q.useMemo(()=>nA(r.search,n.current?null:t.current),[r.search]),o=yo(),s=q.useCallback((a,l)=>{const u=ep(typeof a=="function"?a(i):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}function xA(e,t){t===void 0&&(t={});let n=q.useContext(B3);n==null&&Ce(!1);let{basename:r}=vA(tp.useViewTransitionState),i=Cf(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=ii(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ii(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Y0(i.pathname,s)!=null||Y0(i.pathname,o)!=null}function bA(){return U.jsxs("section",{className:"flex flex-col justify-center items-center mt-24 gap-8 opacity-0 animate-fadein",children:[U.jsxs("div",{className:"flex flex-col gap-2",children:[U.jsx("h2",{className:"text-center font-bold text-4xl md:text-6xl bg-gradient-to-tr from-purple-500 to-pink-500 bg-clip-text text-transparent",children:"npub.cash"}),U.jsx("p",{className:"text-center",children:"A nostr native Lightning Address for everyone"})]}),U.jsxs("div",{className:"relative group",children:[U.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-tr to-pink-500 from-purple-500 rounded-lg blur opacity-75 group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-tilt"}),U.jsx("div",{className:"relative bg-gradient-to-tr from-purple-500 to-pink-500 p-0.5 rounded",children:U.jsx("div",{className:"bg-zinc-900 p-4",children:U.jsx("p",{className:"bg-gradient-to-tr from-purple-500 to-pink-500 text-transparent bg-clip-text tmd:text-2xl text-center font-bold ",children:"<npub|user>@npub.cash"})})})]}),U.jsxs("div",{className:"flex gap-4",children:[U.jsx(gl,{to:{pathname:"/claim"},className:"px-2 py-1 bg-gradient-to-tr from-purple-500 to-pink-500 rounded hover:from-purple-700 hover:to-pink-700 transition",children:"Try it!"}),U.jsx(gl,{to:{pathname:"/username"},className:"px-2 py-1 bg-gradient-to-tr from-purple-600 to-pink-600 rounded hover:from-purple-700 hover:to-pink-700 transition",children:"Claim Username"})]})]})}var M3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Wm=Qt.createContext&&Qt.createContext(M3),EA=["attr","size","title"];function SA(e,t){if(e==null)return{};var n=_A(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _A(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jc.apply(this,arguments)}function Gm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gm(Object(n),!0).forEach(function(r){AA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AA(e,t,n){return t=kA(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kA(e){var t=RA(e,"string");return typeof t=="symbol"?t:String(t)}function RA(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P3(e){return e&&e.map((t,n)=>Qt.createElement(t.tag,Uc({key:n},t.attr),P3(t.child)))}function Sn(e){return t=>Qt.createElement(CA,jc({attr:Uc({},e.attr)},t),P3(e.child))}function CA(e){var t=n=>{var{attr:r,size:i,title:o}=e,s=SA(e,EA),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Qt.createElement("svg",jc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Uc(Uc({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&Qt.createElement("title",null,o),e.children)};return Wm!==void 0?Qt.createElement(Wm.Consumer,null,n=>t(n)):t(M3)}function TA(e){return Sn({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function BA(e){return Sn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function $A(e){return Sn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M349.4 44.6c5.9-13.7 1.5-29.7-10.6-38.5s-28.6-8-39.9 1.8l-256 224c-10 8.8-13.6 22.9-8.9 35.3S50.7 288 64 288H175.5L98.6 467.4c-5.9 13.7-1.5 29.7 10.6 38.5s28.6 8 39.9-1.8l256-224c10-8.8 13.6-22.9 8.9-35.3s-16.6-20.7-30-20.7H272.5L349.4 44.6z"},child:[]}]})(e)}function MA(e){return Sn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"},child:[]}]})(e)}function PA(e){return Sn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 80c0 18-14.3 34.6-38.4 48c-29.1 16.1-72.5 27.5-122.3 30.9c-3.7-1.8-7.4-3.5-11.3-5C300.6 137.4 248.2 128 192 128c-8.3 0-16.4 .2-24.5 .6l-1.1-.6C142.3 114.6 128 98 128 80c0-44.2 86-80 192-80S512 35.8 512 80zM160.7 161.1c10.2-.7 20.7-1.1 31.3-1.1c62.2 0 117.4 12.3 152.5 31.4C369.3 204.9 384 221.7 384 240c0 4-.7 7.9-2.1 11.7c-4.6 13.2-17 25.3-35 35.5c0 0 0 0 0 0c-.1 .1-.3 .1-.4 .2l0 0 0 0c-.3 .2-.6 .3-.9 .5c-35 19.4-90.8 32-153.6 32c-59.6 0-112.9-11.3-148.2-29.1c-1.9-.9-3.7-1.9-5.5-2.9C14.3 274.6 0 258 0 240c0-34.8 53.4-64.5 128-75.4c10.5-1.5 21.4-2.7 32.7-3.5zM416 240c0-21.9-10.6-39.9-24.1-53.4c28.3-4.4 54.2-11.4 76.2-20.5c16.3-6.8 31.5-15.2 43.9-25.5V176c0 19.3-16.5 37.1-43.8 50.9c-14.6 7.4-32.4 13.7-52.4 18.5c.1-1.8 .2-3.5 .2-5.3zm-32 96c0 18-14.3 34.6-38.4 48c-1.8 1-3.6 1.9-5.5 2.9C304.9 404.7 251.6 416 192 416c-62.8 0-118.6-12.6-153.6-32C14.3 370.6 0 354 0 336V300.6c12.5 10.3 27.6 18.7 43.9 25.5C83.4 342.6 135.8 352 192 352s108.6-9.4 148.1-25.9c7.8-3.2 15.3-6.9 22.4-10.9c6.1-3.4 11.8-7.2 17.2-11.2c1.5-1.1 2.9-2.3 4.3-3.4V304v5.7V336zm32 0V304 278.1c19-4.2 36.5-9.5 52.1-16c16.3-6.8 31.5-15.2 43.9-25.5V272c0 10.5-5 21-14.9 30.9c-16.3 16.3-45 29.7-81.3 38.4c.1-1.7 .2-3.5 .2-5.3zM192 448c56.2 0 108.6-9.4 148.1-25.9c16.3-6.8 31.5-15.2 43.9-25.5V432c0 44.2-86 80-192 80S0 476.2 0 432V396.6c12.5 10.3 27.6 18.7 43.9 25.5C83.4 438.6 135.8 448 192 448z"},child:[]}]})(e)}function IA(e){return Sn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"},child:[]}]})(e)}function LA(e){return Sn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M320 32c0-9.9-4.5-19.2-12.3-25.2S289.8-1.4 280.2 1l-179.9 45C79 51.3 64 70.5 64 92.5V448H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H96 288h32V480 32zM256 256c0 17.7-10.7 32-24 32s-24-14.3-24-32s10.7-32 24-32s24 14.3 24 32zm96-128h96V480c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H512V128c0-35.3-28.7-64-64-64H352v64z"},child:[]}]})(e)}function NA(e){return Sn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"},child:[]}]})(e)}function Zm(e){return Sn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V448h40c13.3 0 24-10.7 24-24V384h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"},child:[]}]})(e)}function OA(e){return Sn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 0c4.6 0 9.2 1 13.4 2.9L457.7 82.8c22 9.3 38.4 31 38.3 57.2c-.5 99.2-41.3 280.7-213.6 363.2c-16.7 8-36.1 8-52.8 0C57.3 420.7 16.5 239.2 16 140c-.1-26.2 16.3-47.9 38.3-57.2L242.7 2.9C246.8 1 251.4 0 256 0z"},child:[]}]})(e)}function I3(e){return Sn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 128c0-17.7 14.3-32 32-32s32 14.3 32 32v7.8c0 27.7-2.4 55.3-7.1 82.5l-84.4 25.3c-40.6 12.2-68.4 49.6-68.4 92v71.9c0 40 32.5 72.5 72.5 72.5c26 0 50-13.9 62.9-36.5l13.9-24.3c26.8-47 46.5-97.7 58.4-150.5l94.4-28.3-12.5 37.5c-3.3 9.8-1.6 20.5 4.4 28.8s15.7 13.3 26 13.3H544c17.7 0 32-14.3 32-32s-14.3-32-32-32H460.4l18-53.9c3.8-11.3 .9-23.8-7.4-32.4s-20.7-11.8-32.2-8.4L316.4 198.1c2.4-20.7 3.6-41.4 3.6-62.3V128c0-53-43-96-96-96s-96 43-96 96v32c0 17.7 14.3 32 32 32s32-14.3 32-32V128zm-9.2 177l49-14.7c-10.4 33.8-24.5 66.4-42.1 97.2l-13.9 24.3c-1.5 2.6-4.3 4.3-7.4 4.3c-4.7 0-8.5-3.8-8.5-8.5V335.6c0-14.1 9.3-26.6 22.8-30.7zM24 368c-13.3 0-24 10.7-24 24s10.7 24 24 24H64.3c-.2-2.8-.3-5.6-.3-8.5V368H24zm592 48c13.3 0 24-10.7 24-24s-10.7-24-24-24H305.9c-6.7 16.3-14.2 32.3-22.3 48H616z"},child:[]}]})(e)}function Tu({icon:e,title:t,body:n}){return U.jsx("div",{className:"bg-gradient-to-tr p-0.5 from-purple-500 shadow-lg to-pink-500 rounded",children:U.jsxs("div",{className:"flex flex-col bg-zinc-800 items-center p-4",children:[U.jsx("div",{className:"text-2xl text-purple-400 rounded-full mb-4",children:e}),U.jsx("p",{className:"text-lg  font-bold",children:t}),U.jsx("p",{className:"text-center text-purple-400 text-sm",children:n})]})})}function jA(){return U.jsxs("section",{className:"mx-auto flex flex-col items-center justify-center p-4 gap-4 mt-24 max-w-4xl opacity-0 animate-fadein [animation-delay:400ms]",children:[U.jsxs("div",{children:[U.jsx("h2",{className:"text-center font-bold text-2xl bg-gradient-to-tr from-purple-500 to-pink-500 bg-clip-text text-transparent",children:"A Lightning-Address powered by eCash and nostr"}),U.jsx("p",{className:"text-center ",children:"Receive Lightning payments on your npub.cash address. Either sign up and claim your username, or use any nostr public key (npub) without registration."})]}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[U.jsx(Tu,{icon:U.jsx(I3,{}),title:"No Sign-Up",body:"Built on top of nostr identities and signatures"}),U.jsx(Tu,{icon:U.jsx(Zm,{}),title:"Trust Minimized",body:"Balance can be locked to your public key"}),U.jsx(Tu,{icon:U.jsx(Zm,{}),title:"Offline Payments",body:"Cashu acts as a layer for offline payments"}),U.jsx(Tu,{icon:U.jsx(MA,{}),title:"Open Source",body:"Based on on FOSS Cashu-Adress"})]})]})}function UA(){return U.jsxs("section",{className:"flex flex-col opacity-0 items-center gap-8 my-16 mb-4 max-w-4xl p-4 justify-center animate-fadein [animation-delay:800ms]",children:[U.jsx("div",{children:U.jsx("h2",{className:"text-center font-bold text-2xl bg-gradient-to-tr from-purple-500 to-pink-500 bg-clip-text text-transparent",children:"How does it work?"})}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[U.jsxs("div",{className:"flex flex-col gap-4 md:col-span-3 p-4 bg-zinc-800 rounded",children:[U.jsx("p",{children:"npub.cash uses Cashu-Address, a protocol built on Cashu and nostr. Cashu-Address allows a web server to provide Lightning addresses and mint ecash form the user's preferred Cashu mint. The user then redeems the ecash when they come back online."}),U.jsxs("p",{children:["A more detailed documentation as well as a guide to get started can be found on our"," ",U.jsx("a",{className:"bg-gradient-to-tr from-purple-500 to-pink-500 text-transparent bg-clip-text",href:"https://docs.cashu-address.com/",children:"Documentation Page"}),"."]})]}),U.jsx("div",{className:" max-w-4xl p-4 rounded bg-zinc-800 md:col-span-2 flex items-center",children:U.jsxs("div",{className:"flex w-full h-full relative rounded",children:[U.jsx("iframe",{src:"https://link.excalidraw.com/readonly/GEiWWmg1mVjQcjhD0GCJ?darkMode=true",width:"100%",height:"320px",style:{border:"none",borderRadius:"0.25rem"}}),U.jsx("p",{className:"absolute bottom-2 right-2 text-xs bg-gradient-to-tr from-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Drag to move around"})]})}),U.jsxs("div",{className:"flex flex-col p-4 bg-zinc-800 rounded gap-4",children:[U.jsxs("div",{children:[U.jsxs("p",{children:[U.jsx("span",{className:"text-2xl font-bold bg-gradient-to-tr from-purple-500 to-pink-500 bg-clip-text text-transparent",children:"1."})," ","Lightning Payment"]}),U.jsx("p",{className:"text-sm text-zinc-400",children:"Alices sends a Lightnin Payment to Bob's Cashu-Address"})]}),U.jsxs("div",{children:[U.jsxs("p",{children:[U.jsx("span",{className:"text-2xl font-bold bg-gradient-to-tr from-purple-500 to-pink-500 bg-clip-text text-transparent",children:"2."})," ","Minting"]}),U.jsx("p",{className:"text-sm text-zinc-400",children:"Cashu-Address forwards the payment to the Mint. The Mint creates eCash locked to Bob's public key and returns it to Cashu-Address."})]}),U.jsxs("div",{children:[U.jsxs("p",{children:[U.jsx("span",{className:"text-2xl font-bold bg-gradient-to-tr from-purple-500 to-pink-500 bg-clip-text text-transparent",children:"3."})," ","Claiming"]}),U.jsx("p",{className:"text-sm text-zinc-400",children:"Once Bob is back online, he checks for waiting payments and claims them with his Cashu Wallet"})]})]})]})]})}function DA(){return U.jsxs("main",{className:"flex items-center flex-col",children:[U.jsx(bA,{}),U.jsx(jA,{}),U.jsx(UA,{})]})}function FA(){return U.jsxs("div",{className:"bg-zinc-700 flex overflow-x-hidden relative",children:[U.jsxs("div",{className:"italic animate-marquee relative whitespace-nowrap",children:[U.jsxs("span",{className:"mx-8",children:["⚠️",U.jsx("strong",{children:"WARNING"}),": This is a Work-In-Progress POC. Don't be reckless. No warranties are made ⚠️"]}),U.jsxs("span",{className:"mx-8",children:["⚠️",U.jsx("strong",{children:"WARNING"}),": This is a Work-In-Progress POC. Don't be reckless. No warranties are made ⚠️"]}),U.jsxs("span",{className:"mx-8",children:["⚠️",U.jsx("strong",{children:"WARNING"}),": This is a Work-In-Progress POC. Don't be reckless. No warranties are made ⚠️"]})]}),U.jsxs("div",{className:"italic absolute top-0  animate-marquee2 whitespace-nowrap",children:[U.jsxs("span",{className:"mx-8",children:["⚠️",U.jsx("strong",{children:"WARNING"}),": This is a Work-In-Progress POC. Don't be reckless. No warranties are made ⚠️"]}),U.jsxs("span",{className:"mx-8",children:["⚠️",U.jsx("strong",{children:"WARNING"}),": This is a Work-In-Progress POC. Don't be reckless. No warranties are made ⚠️"]}),U.jsxs("span",{className:"mx-8",children:["⚠️",U.jsx("strong",{children:"WARNING"}),": This is a Work-In-Progress POC. Don't be reckless. No warranties are made ⚠️"]})]})]})}const lr=q.createContext({});function zA({children:e}){const[t,n]=q.useState();return U.jsx(lr.Provider,{value:{sdk:t,setSdk:n},children:e})}const HA=()=>{const{sdk:e}=q.useContext(lr);return U.jsxs(U.Fragment,{children:[U.jsx("nav",{className:"w-full h-20 bg-zinc-800",children:U.jsx("div",{className:"container mx-auto px-4 h-full",children:U.jsxs("div",{className:"flex justify-between items-center h-full",children:[U.jsxs(gl,{className:"flex items-center gap-2 text-white font-black text-xl md:text-2xl",to:"/",children:[U.jsx("img",{src:"/logo.png",className:"h-6"}),U.jsxs("p",{children:[U.jsx("span",{className:"bg-gradient-to-tr from-purple-500 to-pink-500 text-transparent bg-clip-text",children:"n"}),"pub",U.jsx("span",{className:"text-sm",children:".cash"})]})]}),U.jsxs("ul",{className:"flex gap-x-4 text-white items-center",children:[U.jsx("li",{children:U.jsx(gl,{to:{pathname:"/"},children:"Home"})}),U.jsx("li",{children:U.jsx(gl,{to:{pathname:e?"/claim":"setup"},className:"px-2 py-2 bg-gradient-to-tr from-purple-500 to-pink-500 rounded hover:from-purple-700 hover:to-pink-700 transition",children:"Wallet"})})]})]})})}),U.jsx(FA,{})]})};function KA(e){return Sn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M412.5 22.17c-.6 0-1.2.1-1.7.1-9 .72-15.4 5.89-16.2 8.96-2.1 7.02-3.6 16.36-2.2 22.82 1.4 6.46 3.4 10.34 14.2 12.22 16.6 2.88 35.4-.64 51.8-6.43 13-4.61 24.2-10.62 31.3-15.14-.4-.67-.8-1.27-1.4-1.78-1.5-1.26-4.3-2.53-8.6-3.31-8.7-1.57-22.2-.88-36-1.57l-4.3-.22-2.5-3.5c-6.2-8.57-14.6-11.93-22.7-12.14h-1.7zm-14 60.61c-3.9 10.17-4.5 20.22-2.8 29.52 2.2 12.2 9.5 22.1 13.6 32.9 14 36.6.8 45.4-20.8 51.1 22.3 20 33.3 44.4 35 68.3 30-45.7 35.3-86.2 1.3-128.6-6.7-8.3-9.9-18.2-11.4-26.8-1.5-7.9-.8-15.35 3.7-23.91-4.5-.11-9-.51-13.5-1.29-1.8-.31-3.4-.72-5.1-1.22zM108.4 126.9c-29.04-.2-53.3 25.3-56.66 60 10.56-10.7 25.02-17.7 46.11-17.2-20.2 13.7-33.69 29.2-44.34 45.3 1.77 8.2 4.64 16.5 8.8 24.9 38.09-52.5 60.99-29.6 72.69.1 10.8-20 27.4-36 47-48.1-21.4-46.4-49.2-64.8-73.6-65zm180.2 55c-3.4 0-6.9 0-10.4.2-12.4.5-25 2.2-37.3 5.1-46.3 11-86.3 38-97.9 81.1 22.2 7.6 40.7 16.4 56.7 25.4 31.6 4.7 63.8 3.2 91.4-2.5 38.5-8 67-25.4 73.3-39.7l16.4 7.2c-11 25.4-44.7 41.6-86 50.1-19 4-39.9 6-61.3 5.7 4.3 2.8 8.4 5.5 12.4 8.1 27.1 17.6 48.4 29.7 82.6 28 35.6-2.9 62.6-25.9 72.9-54.6 10.2-28.7 4.4-62.5-28.7-89.5-19.2-15.8-50.6-24.4-84.1-24.6zm-92.5 130.4c-4.4 8.8-8.1 18-10.6 26.2-18.6 8.8-25 12.1-34.8 33.2-35.5 15.3-50.4 38.2-61.34 71.5-22.48 6.1-40.85 5-63.06-9.9-12.14 16.1 6.05 30.4 22.64 36.9 21.16 8.3 50.31 2.8 55.46-7.2 16.5-32.5 31.1-54.7 61.7-77 13.1-1.4 22.4-2.4 34.3-18 21.6 2.2 39.3-8 55-18.1 7.8 17.9 23.5 41.8 20.7 58.9-11.8 9.5-8 21.3-8.3 24.1 6 17.9 66.2-5.8 108 18 22.4 12.8 27.9 44.9 69.4 37.9 6.8-1.1 5.3-7.2.6-8.9-37.4-13.7-27.6-21-44.8-48.1-32-.8-59.3-5.2-95.4-16.1-10.4-3 3.2-24.8 13.3-47-33.4-.9-57.8-14.7-82.9-31-12.4-8.1-25.2-16.8-39.9-25.4z"},child:[]}]})(e)}function VA(){return U.jsxs("div",{className:"left-0 right-0 flex flex-col gap-2 items-center bg-zinc-800 text-xs text-zinc-600 p-2",children:[U.jsxs("span",{className:"flex gap-2 items-center",children:[U.jsx("p",{children:"Built with"}),U.jsx(NA,{style:{fill:"url(#blue-gradient)"}}),U.jsx("p",{children:"by Lightning Digital Entertainment"})]}),U.jsxs("div",{className:"flex gap-8",children:[U.jsx("a",{href:"https://github.com/lightning-digital-entertainment/cashu-address",children:U.jsx(TA,{className:"hover:text-purple-700"})}),U.jsx("a",{href:"https://twitter.com/lde_lightning",children:U.jsx(BA,{className:"hover:text-purple-700"})}),U.jsx("a",{href:"https://primal.net/p/npub1mhcr4j594hsrnen594d7700n2t03n8gdx83zhxzculk6sh9nhwlq7uc226",children:U.jsx(KA,{className:"hover:text-purple-700"})})]})]})}const uh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function tg(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}const Yo=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),dr=(e,t)=>e<<32-t|e>>>t,qA=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!qA)throw new Error("Non little-endian hardware is not supported");const WA=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function L3(e){if(!tg(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=WA[e[n]];return t}const jr={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ym(e){if(e>=jr._0&&e<=jr._9)return e-jr._0;if(e>=jr._A&&e<=jr._F)return e-(jr._A-10);if(e>=jr._a&&e<=jr._f)return e-(jr._a-10)}function N3(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=Ym(e.charCodeAt(o)),a=Ym(e.charCodeAt(o+1));if(s===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function O3(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Dl(e){if(typeof e=="string"&&(e=O3(e)),!tg(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function tl(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];if(!tg(i))throw new Error("Uint8Array expected");t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}let j3=class{clone(){return this._cloneInto()}};const GA={}.toString;function ZA(e,t){if(t!==void 0&&GA.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function ng(e){const t=r=>e().update(Dl(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function U3(e=32){if(uh&&typeof uh.getRandomValues=="function")return uh.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}var YA=Object.defineProperty,QA=(e,t,n)=>t in e?YA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,we=(e,t,n)=>(QA(e,typeof t!="symbol"?t+"":t,n),n);function Qm(){if(typeof window>"u")require("crypto").randomBytes(16).toString("hex");else{const e=new Uint8Array(16);return[...window.crypto.getRandomValues(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}}async function Fa(e,t,n){return fetch(e,{...n,headers:{Authorization:t,"Content-Type":"application/json"}})}function Bu(e,t){return{content:"",kind:27235,created_at:Math.floor(Date.now()/1e3),tags:[["u",e],["method",t]]}}function $u(e){return typeof window>"u"?`Nostr ${Buffer.from(JSON.stringify(e)).toString("base64")}`:`Nostr ${btoa(JSON.stringify(e))}`}class Dc{constructor(t,n){we(this,"baseUrl"),we(this,"signer"),this.baseUrl=t,this.signer=n}async getInfo(){const t=`${this.baseUrl}/api/v1/info`,n=Bu(t,"GET"),r=await this.signer.signEvent(n),i=$u(r);return await(await Fa(t,i)).json()}async getToken(){const t=`${this.baseUrl}/api/v1/claim`,n=Bu(t,"GET"),r=await this.signer.signEvent(n),i=$u(r),o=await(await Fa(t,i)).json();if(o.error)throw new Error(o.message);return o.data.token}async getBalance(){const t=`${this.baseUrl}/api/v1/balance`,n=Bu(t,"GET"),r=await this.signer.signEvent(n),i=$u(r),o=await(await Fa(t,i)).json();if(o.error)throw new Error(o.message);return o.data}async setUsername(t,n){const r=`${this.baseUrl}/api/v1/info/username`,i="PUT",o=Bu(r,i),s=await this.signer.signEvent(o),a=$u(s);return n?await(await Fa(r,a,{method:i,body:JSON.stringify({username:t,paymentToken:n})})).json():await(await Fa(r,a,{method:i,body:JSON.stringify({username:t})})).json()}}function Jm(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function D3(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function JA(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Jm(e.outputLen),Jm(e.blockLen)}function Fc(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function XA(e,t){D3(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const ch=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const F3=e=>e instanceof Uint8Array,fh=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),hr=(e,t)=>e<<32-t|e>>>t,e7=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!e7)throw new Error("Non little-endian hardware is not supported");function t7(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function rg(e){if(typeof e=="string"&&(e=t7(e)),!F3(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function n7(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!F3(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let z3=class{clone(){return this._cloneInto()}};function r7(e){const t=r=>e().update(rg(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function H3(e=32){if(ch&&typeof ch.getRandomValues=="function")return ch.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function i7(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,u=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+u,a,r)}let o7=class extends z3{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=fh(this.buffer)}update(e){Fc(this);const{view:t,buffer:n,blockLen:r}=this;e=rg(e);const i=e.length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s===r){const a=fh(e);for(;r<=i-o;o+=r)this.process(a,o);continue}n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Fc(this),XA(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let c=o;c<r;c++)t[c]=0;i7(n,r-8,BigInt(this.length*8),i),this.process(n,0);const s=fh(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<l;c++)s.setUint32(4*c,u[c],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}};const s7=(e,t,n)=>e&t^~e&n,a7=(e,t,n)=>e&t^e&n^t&n,l7=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xi=new Uint32Array(64);let u7=class extends o7{constructor(){super(64,32,8,!1),this.A=wi[0]|0,this.B=wi[1]|0,this.C=wi[2]|0,this.D=wi[3]|0,this.E=wi[4]|0,this.F=wi[5]|0,this.G=wi[6]|0,this.H=wi[7]|0}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=e|0,this.B=t|0,this.C=n|0,this.D=r|0,this.E=i|0,this.F=o|0,this.G=s|0,this.H=a|0}process(e,t){for(let c=0;c<16;c++,t+=4)xi[c]=e.getUint32(t,!1);for(let c=16;c<64;c++){const f=xi[c-15],p=xi[c-2],E=hr(f,7)^hr(f,18)^f>>>3,_=hr(p,17)^hr(p,19)^p>>>10;xi[c]=_+xi[c-7]+E+xi[c-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:l,H:u}=this;for(let c=0;c<64;c++){const f=hr(s,6)^hr(s,11)^hr(s,25),p=u+f+s7(s,a,l)+l7[c]+xi[c]|0,E=(hr(n,2)^hr(n,13)^hr(n,22))+a7(n,r,i)|0;u=l,l=a,a=s,s=o+p|0,o=i,i=r,r=n,n=p+E|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,r,i,o,s,a,l,u)}roundClean(){xi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const np=r7(()=>new u7);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const K3=BigInt(0),Tf=BigInt(1),c7=BigInt(2),Bf=e=>e instanceof Uint8Array,f7=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Zs(e){if(!Bf(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=f7[e[n]];return t}function V3(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function ig(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Ys(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,o=e.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function pn(e){return ig(Zs(e))}function og(e){if(!Bf(e))throw new Error("Uint8Array expected");return ig(Zs(Uint8Array.from(e).reverse()))}function ro(e,t){return Ys(e.toString(16).padStart(t*2,"0"))}function sg(e,t){return ro(e,t).reverse()}function d7(e){return Ys(V3(e))}function Gt(e,t,n){let r;if(typeof t=="string")try{r=Ys(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(Bf(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function ss(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!Bf(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function h7(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function p7(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function g7(e){let t;for(t=0;e>K3;e>>=Tf,t+=1);return t}function y7(e,t){return e>>BigInt(t)&Tf}const m7=(e,t,n)=>e|(n?Tf:K3)<<BigInt(t),ag=e=>(c7<<BigInt(e-1))-Tf,dh=e=>new Uint8Array(e),Xm=e=>Uint8Array.from(e);function q3(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=dh(e),i=dh(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...c)=>n(i,r,...c),l=(c=dh())=>{i=a(Xm([0]),c),r=a(),c.length!==0&&(i=a(Xm([1]),c),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let c=0;const f=[];for(;c<t;){r=a();const p=r.slice();f.push(p),c+=r.length}return ss(...f)};return(c,f)=>{s(),l(c);let p;for(;!(p=f(u()));)l();return s(),p}}const v7={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function ru(e,t,n={}){const r=(i,o,s)=>{const a=v7[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=e[i];if(!(s&&l===void 0)&&!a(l,e))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}const w7=Object.freeze(Object.defineProperty({__proto__:null,bitGet:y7,bitLen:g7,bitMask:ag,bitSet:m7,bytesToHex:Zs,bytesToNumberBE:pn,bytesToNumberLE:og,concatBytes:ss,createHmacDrbg:q3,ensureBytes:Gt,equalBytes:h7,hexToBytes:Ys,hexToNumber:ig,numberToBytesBE:ro,numberToBytesLE:sg,numberToHexUnpadded:V3,numberToVarBytesBE:d7,utf8ToBytes:p7,validateObject:ru},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bt=BigInt(0),gt=BigInt(1),Po=BigInt(2),x7=BigInt(3),rp=BigInt(4),ev=BigInt(5),tv=BigInt(8);BigInt(9);BigInt(16);function Ft(e,t){const n=e%t;return n>=Bt?n:t+n}function b7(e,t,n){if(n<=Bt||t<Bt)throw new Error("Expected power/modulo > 0");if(n===gt)return Bt;let r=gt;for(;t>Bt;)t&gt&&(r=r*e%n),e=e*e%n,t>>=gt;return r}function Rn(e,t,n){let r=e;for(;t-- >Bt;)r*=r,r%=n;return r}function ip(e,t){if(e===Bt||t<=Bt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Ft(e,t),r=t,i=Bt,o=gt;for(;n!==Bt;){const s=r/n,a=r%n,l=i-o*s;r=n,n=a,i=o,o=l}if(r!==gt)throw new Error("invert: does not exist");return Ft(i,t)}function E7(e){const t=(e-gt)/Po;let n,r,i;for(n=e-gt,r=0;n%Po===Bt;n/=Po,r++);for(i=Po;i<e&&b7(i,t,e)!==e-gt;i++);if(r===1){const s=(e+gt)/rp;return function(a,l){const u=a.pow(l,s);if(!a.eql(a.sqr(u),l))throw new Error("Cannot find square root");return u}}const o=(n+gt)/Po;return function(s,a){if(s.pow(a,t)===s.neg(s.ONE))throw new Error("Cannot find square root");let l=r,u=s.pow(s.mul(s.ONE,i),n),c=s.pow(a,o),f=s.pow(a,n);for(;!s.eql(f,s.ONE);){if(s.eql(f,s.ZERO))return s.ZERO;let p=1;for(let _=s.sqr(f);p<l&&!s.eql(_,s.ONE);p++)_=s.sqr(_);const E=s.pow(u,gt<<BigInt(l-p-1));u=s.sqr(E),c=s.mul(c,E),f=s.mul(f,u),l=p}return c}}function S7(e){if(e%rp===x7){const t=(e+gt)/rp;return function(n,r){const i=n.pow(r,t);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(e%tv===ev){const t=(e-ev)/tv;return function(n,r){const i=n.mul(r,Po),o=n.pow(i,t),s=n.mul(r,o),a=n.mul(n.mul(s,Po),o),l=n.mul(s,n.sub(a,n.ONE));if(!n.eql(n.sqr(l),r))throw new Error("Cannot find square root");return l}}return E7(e)}const _7=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function A7(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=_7.reduce((r,i)=>(r[i]="function",r),t);return ru(e,n)}function k7(e,t,n){if(n<Bt)throw new Error("Expected power > 0");if(n===Bt)return e.ONE;if(n===gt)return t;let r=e.ONE,i=t;for(;n>Bt;)n&gt&&(r=e.mul(r,i)),i=e.sqr(i),n>>=gt;return r}function R7(e,t){const n=new Array(t.length),r=t.reduce((o,s,a)=>e.is0(s)?o:(n[a]=o,e.mul(o,s)),e.ONE),i=e.inv(r);return t.reduceRight((o,s,a)=>e.is0(s)?o:(n[a]=e.mul(o,n[a]),e.mul(o,s)),i),n}function W3(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function C7(e,t,n=!1,r={}){if(e<=Bt)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=W3(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=S7(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:ag(i),ZERO:Bt,ONE:gt,create:l=>Ft(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Bt<=l&&l<e},is0:l=>l===Bt,isOdd:l=>(l&gt)===gt,neg:l=>Ft(-l,e),eql:(l,u)=>l===u,sqr:l=>Ft(l*l,e),add:(l,u)=>Ft(l+u,e),sub:(l,u)=>Ft(l-u,e),mul:(l,u)=>Ft(l*u,e),pow:(l,u)=>k7(a,l,u),div:(l,u)=>Ft(l*ip(u,e),e),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>ip(l,e),sqrt:r.sqrt||(l=>s(a,l)),invertBatch:l=>R7(a,l),cmov:(l,u,c)=>c?u:l,toBytes:l=>n?sg(l,o):ro(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?og(l):pn(l)}});return Object.freeze(a)}function G3(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Z3(e){const t=G3(e);return t+Math.ceil(t/2)}function T7(e,t,n=!1){const r=e.length,i=G3(t),o=Z3(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=n?pn(e):og(e),a=Ft(s,t-gt)+gt;return n?sg(a,i):ro(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const B7=BigInt(0),hh=BigInt(1);function $7(e,t){const n=(i,o)=>{const s=o.negate();return i?s:o},r=i=>{const o=Math.ceil(t/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:n,unsafeLadder(i,o){let s=e.ZERO,a=i;for(;o>B7;)o&hh&&(s=s.add(a)),a=a.double(),o>>=hh;return s},precomputeWindow(i,o){const{windows:s,windowSize:a}=r(o),l=[];let u=i,c=u;for(let f=0;f<s;f++){c=u,l.push(c);for(let p=1;p<a;p++)c=c.add(u),l.push(c);u=c.double()}return l},wNAF(i,o,s){const{windows:a,windowSize:l}=r(i);let u=e.ZERO,c=e.BASE;const f=BigInt(2**i-1),p=2**i,E=BigInt(i);for(let _=0;_<a;_++){const y=_*l;let A=Number(s&f);s>>=E,A>l&&(A-=p,s+=hh);const w=y,R=y+Math.abs(A)-1,T=_%2!==0,L=A<0;A===0?c=c.add(n(T,o[w])):u=u.add(n(L,o[R]))}return{p:u,f:c}},wNAFCached(i,o,s,a){const l=i._WINDOW_SIZE||1;let u=o.get(i);return u||(u=this.precomputeWindow(i,l),l!==1&&o.set(i,a(u))),this.wNAF(l,u,s)}}}function Y3(e){return A7(e.Fp),ru(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...W3(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function M7(e){const t=Y3(e);ru(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:P7,hexToBytes:I7}=w7,Ko={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=Ko;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:P7(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Ko,n=typeof e=="string"?I7(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=Ko._parseInt(n.subarray(2)),{d:s,l:a}=Ko._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const c=u.toString(16);return c.length&1?`0${c}`:c},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,s=i.length/2,a=n(o),l=n(s);return`30${n(s+o+4)}02${l}${i}02${a}${r}`}},Vr=BigInt(0),In=BigInt(1);BigInt(2);const nv=BigInt(3);BigInt(4);function L7(e){const t=M7(e),{Fp:n}=t,r=t.toBytes||((_,y,A)=>{const w=y.toAffine();return ss(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),i=t.fromBytes||(_=>{const y=_.subarray(1),A=n.fromBytes(y.subarray(0,n.BYTES)),w=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:A,y:w}});function o(_){const{a:y,b:A}=t,w=n.sqr(_),R=n.mul(w,_);return n.add(n.add(R,n.mul(_,y)),A)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(_){return typeof _=="bigint"&&Vr<_&&_<t.n}function a(_){if(!s(_))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(_){const{allowedPrivateKeyLengths:y,nByteLength:A,wrapPrivateKey:w,n:R}=t;if(y&&typeof _!="bigint"){if(_ instanceof Uint8Array&&(_=Zs(_)),typeof _!="string"||!y.includes(_.length))throw new Error("Invalid key");_=_.padStart(A*2,"0")}let T;try{T=typeof _=="bigint"?_:pn(Gt("private key",_,A))}catch{throw new Error(`private key must be ${A} bytes, hex or bigint, not ${typeof _}`)}return w&&(T=Ft(T,R)),a(T),T}const u=new Map;function c(_){if(!(_ instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(y,A,w){if(this.px=y,this.py=A,this.pz=w,y==null||!n.isValid(y))throw new Error("x required");if(A==null||!n.isValid(A))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required")}static fromAffine(y){const{x:A,y:w}=y||{};if(!y||!n.isValid(A)||!n.isValid(w))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const R=T=>n.eql(T,n.ZERO);return R(A)&&R(w)?f.ZERO:new f(A,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const A=n.invertBatch(y.map(w=>w.pz));return y.map((w,R)=>w.toAffine(A[R])).map(f.fromAffine)}static fromHex(y){const A=f.fromAffine(i(Gt("pointHex",y)));return A.assertValidity(),A}static fromPrivateKey(y){return f.BASE.multiply(l(y))}_setWindowSize(y){this._WINDOW_SIZE=y,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:A}=this.toAffine();if(!n.isValid(y)||!n.isValid(A))throw new Error("bad point: x or y not FE");const w=n.sqr(A),R=o(y);if(!n.eql(w,R))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){c(y);const{px:A,py:w,pz:R}=this,{px:T,py:L,pz:j}=y,M=n.eql(n.mul(A,j),n.mul(T,R)),N=n.eql(n.mul(w,j),n.mul(L,R));return M&&N}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:A}=t,w=n.mul(A,nv),{px:R,py:T,pz:L}=this;let j=n.ZERO,M=n.ZERO,N=n.ZERO,D=n.mul(R,R),K=n.mul(T,T),H=n.mul(L,L),k=n.mul(R,T);return k=n.add(k,k),N=n.mul(R,L),N=n.add(N,N),j=n.mul(y,N),M=n.mul(w,H),M=n.add(j,M),j=n.sub(K,M),M=n.add(K,M),M=n.mul(j,M),j=n.mul(k,j),N=n.mul(w,N),H=n.mul(y,H),k=n.sub(D,H),k=n.mul(y,k),k=n.add(k,N),N=n.add(D,D),D=n.add(N,D),D=n.add(D,H),D=n.mul(D,k),M=n.add(M,D),H=n.mul(T,L),H=n.add(H,H),D=n.mul(H,k),j=n.sub(j,D),N=n.mul(H,K),N=n.add(N,N),N=n.add(N,N),new f(j,M,N)}add(y){c(y);const{px:A,py:w,pz:R}=this,{px:T,py:L,pz:j}=y;let M=n.ZERO,N=n.ZERO,D=n.ZERO;const K=t.a,H=n.mul(t.b,nv);let k=n.mul(A,T),d=n.mul(w,L),g=n.mul(R,j),C=n.add(A,w),m=n.add(T,L);C=n.mul(C,m),m=n.add(k,d),C=n.sub(C,m),m=n.add(A,R);let x=n.add(T,j);return m=n.mul(m,x),x=n.add(k,g),m=n.sub(m,x),x=n.add(w,R),M=n.add(L,j),x=n.mul(x,M),M=n.add(d,g),x=n.sub(x,M),D=n.mul(K,m),M=n.mul(H,g),D=n.add(M,D),M=n.sub(d,D),D=n.add(d,D),N=n.mul(M,D),d=n.add(k,k),d=n.add(d,k),g=n.mul(K,g),m=n.mul(H,m),d=n.add(d,g),g=n.sub(k,g),g=n.mul(K,g),m=n.add(m,g),k=n.mul(d,m),N=n.add(N,k),k=n.mul(x,m),M=n.mul(C,M),M=n.sub(M,k),k=n.mul(C,d),D=n.mul(x,D),D=n.add(D,k),new f(M,N,D)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return E.wNAFCached(this,u,y,A=>{const w=n.invertBatch(A.map(R=>R.pz));return A.map((R,T)=>R.toAffine(w[T])).map(f.fromAffine)})}multiplyUnsafe(y){const A=f.ZERO;if(y===Vr)return A;if(a(y),y===In)return this;const{endo:w}=t;if(!w)return E.unsafeLadder(this,y);let{k1neg:R,k1:T,k2neg:L,k2:j}=w.splitScalar(y),M=A,N=A,D=this;for(;T>Vr||j>Vr;)T&In&&(M=M.add(D)),j&In&&(N=N.add(D)),D=D.double(),T>>=In,j>>=In;return R&&(M=M.negate()),L&&(N=N.negate()),N=new f(n.mul(N.px,w.beta),N.py,N.pz),M.add(N)}multiply(y){a(y);let A=y,w,R;const{endo:T}=t;if(T){const{k1neg:L,k1:j,k2neg:M,k2:N}=T.splitScalar(A);let{p:D,f:K}=this.wNAF(j),{p:H,f:k}=this.wNAF(N);D=E.constTimeNegate(L,D),H=E.constTimeNegate(M,H),H=new f(n.mul(H.px,T.beta),H.py,H.pz),w=D.add(H),R=K.add(k)}else{const{p:L,f:j}=this.wNAF(A);w=L,R=j}return f.normalizeZ([w,R])[0]}multiplyAndAddUnsafe(y,A,w){const R=f.BASE,T=(j,M)=>M===Vr||M===In||!j.equals(R)?j.multiplyUnsafe(M):j.multiply(M),L=T(this,A).add(T(y,w));return L.is0()?void 0:L}toAffine(y){const{px:A,py:w,pz:R}=this,T=this.is0();y==null&&(y=T?n.ONE:n.inv(R));const L=n.mul(A,y),j=n.mul(w,y),M=n.mul(R,y);if(T)return{x:n.ZERO,y:n.ZERO};if(!n.eql(M,n.ONE))throw new Error("invZ was invalid");return{x:L,y:j}}isTorsionFree(){const{h:y,isTorsionFree:A}=t;if(y===In)return!0;if(A)return A(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:A}=t;return y===In?this:A?A(f,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return this.assertValidity(),r(f,this,y)}toHex(y=!0){return Zs(this.toRawBytes(y))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const p=t.nBitLength,E=$7(f,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function N7(e){const t=Y3(e);return ru(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function O7(e){const t=N7(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(m){return Vr<m&&m<n.ORDER}function a(m){return Ft(m,r)}function l(m){return ip(m,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:p}=L7({...t,toBytes(m,x,$){const P=x.toAffine(),S=n.toBytes(P.x),h=ss;return $?h(Uint8Array.from([x.hasEvenY()?2:3]),S):h(Uint8Array.from([4]),S,n.toBytes(P.y))},fromBytes(m){const x=m.length,$=m[0],P=m.subarray(1);if(x===i&&($===2||$===3)){const S=pn(P);if(!s(S))throw new Error("Point is not on curve");const h=f(S);let B=n.sqrt(h);const z=(B&In)===In;return($&1)===1!==z&&(B=n.neg(B)),{x:S,y:B}}else if(x===o&&$===4){const S=n.fromBytes(P.subarray(0,n.BYTES)),h=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:S,y:h}}else throw new Error(`Point of length ${x} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),E=m=>Zs(ro(m,t.nByteLength));function _(m){const x=r>>In;return m>x}function y(m){return _(m)?a(-m):m}const A=(m,x,$)=>pn(m.slice(x,$));class w{constructor(x,$,P){this.r=x,this.s=$,this.recovery=P,this.assertValidity()}static fromCompact(x){const $=t.nByteLength;return x=Gt("compactSignature",x,$*2),new w(A(x,0,$),A(x,$,2*$))}static fromDER(x){const{r:$,s:P}=Ko.toSig(Gt("DER",x));return new w($,P)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(x){return new w(this.r,this.s,x)}recoverPublicKey(x){const{r:$,s:P,recovery:S}=this,h=N(Gt("msgHash",x));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");const B=S===2||S===3?$+t.n:$;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const z=S&1?"03":"02",Q=u.fromHex(z+E(B)),J=l(B),te=a(-h*J),re=a(P*J),ie=u.BASE.multiplyAndAddUnsafe(Q,te,re);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ys(this.toDERHex())}toDERHex(){return Ko.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ys(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}const R={isValidPrivateKey(m){try{return c(m),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const m=Z3(t.n);return T7(t.randomBytes(m),t.n)},precompute(m=8,x=u.BASE){return x._setWindowSize(m),x.multiply(BigInt(3)),x}};function T(m,x=!0){return u.fromPrivateKey(m).toRawBytes(x)}function L(m){const x=m instanceof Uint8Array,$=typeof m=="string",P=(x||$)&&m.length;return x?P===i||P===o:$?P===2*i||P===2*o:m instanceof u}function j(m,x,$=!0){if(L(m))throw new Error("first arg must be private key");if(!L(x))throw new Error("second arg must be public key");return u.fromHex(x).multiply(c(m)).toRawBytes($)}const M=t.bits2int||function(m){const x=pn(m),$=m.length*8-t.nBitLength;return $>0?x>>BigInt($):x},N=t.bits2int_modN||function(m){return a(M(m))},D=ag(t.nBitLength);function K(m){if(typeof m!="bigint")throw new Error("bigint expected");if(!(Vr<=m&&m<D))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ro(m,t.nByteLength)}function H(m,x,$=k){if(["recovered","canonical"].some(se=>se in $))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:S}=t;let{lowS:h,prehash:B,extraEntropy:z}=$;h==null&&(h=!0),m=Gt("msgHash",m),B&&(m=Gt("prehashed msgHash",P(m)));const Q=N(m),J=c(x),te=[K(J),K(Q)];if(z!=null){const se=z===!0?S(n.BYTES):z;te.push(Gt("extraEntropy",se))}const re=ss(...te),ie=Q;function xe(se){const me=M(se);if(!p(me))return;const ze=l(me),ge=u.BASE.multiply(me).toAffine(),fe=a(ge.x);if(fe===Vr)return;const He=a(ze*a(ie+fe*J));if(He===Vr)return;let ke=(ge.x===fe?0:2)|Number(ge.y&In),Me=He;return h&&_(He)&&(Me=y(He),ke^=1),new w(fe,Me,ke)}return{seed:re,k2sig:xe}}const k={lowS:t.lowS,prehash:!1},d={lowS:t.lowS,prehash:!1};function g(m,x,$=k){const{seed:P,k2sig:S}=H(m,x,$),h=t;return q3(h.hash.outputLen,h.nByteLength,h.hmac)(P,S)}u.BASE._setWindowSize(8);function C(m,x,$,P=d){var S;const h=m;if(x=Gt("msgHash",x),$=Gt("publicKey",$),"strict"in P)throw new Error("options.strict was renamed to lowS");const{lowS:B,prehash:z}=P;let Q,J;try{if(typeof h=="string"||h instanceof Uint8Array)try{Q=w.fromDER(h)}catch(ge){if(!(ge instanceof Ko.Err))throw ge;Q=w.fromCompact(h)}else if(typeof h=="object"&&typeof h.r=="bigint"&&typeof h.s=="bigint"){const{r:ge,s:fe}=h;Q=new w(ge,fe)}else throw new Error("PARSE");J=u.fromHex($)}catch(ge){if(ge.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&Q.hasHighS())return!1;z&&(x=t.hash(x));const{r:te,s:re}=Q,ie=N(x),xe=l(re),se=a(ie*xe),me=a(te*xe),ze=(S=u.BASE.multiplyAndAddUnsafe(J,se,me))==null?void 0:S.toAffine();return ze?a(ze.x)===te:!1}return{CURVE:t,getPublicKey:T,getSharedSecret:j,sign:g,verify:C,ProjectivePoint:u,Signature:w,utils:R}}let Q3=class extends z3{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,JA(e);const n=rg(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Fc(this),this.iHash.update(e),this}digestInto(e){Fc(this),D3(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e=e,e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const J3=(e,t,n)=>new Q3(e,t).update(n).digest();J3.create=(e,t)=>new Q3(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function j7(e){return{hash:e,hmac:(t,...n)=>J3(e,t,n7(...n)),randomBytes:H3}}function U7(e,t){const n=r=>O7({...e,...j7(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $f=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),zc=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),X3=BigInt(1),Hc=BigInt(2),rv=(e,t)=>(e+t/Hc)/t;function eb(e){const t=$f,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),u=e*e*e%t,c=u*u*e%t,f=Rn(c,n,t)*c%t,p=Rn(f,n,t)*c%t,E=Rn(p,Hc,t)*u%t,_=Rn(E,i,t)*E%t,y=Rn(_,o,t)*_%t,A=Rn(y,a,t)*y%t,w=Rn(A,l,t)*A%t,R=Rn(w,a,t)*y%t,T=Rn(R,n,t)*c%t,L=Rn(T,s,t)*_%t,j=Rn(L,r,t)*u%t,M=Rn(j,Hc,t);if(!op.eql(op.sqr(M),e))throw new Error("Cannot find square root");return M}const op=C7($f,void 0,void 0,{sqrt:eb}),ha=U7({a:BigInt(0),b:BigInt(7),Fp:op,n:zc,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=zc,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-X3*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=rv(o*e,t),l=rv(-r*e,t);let u=Ft(e-a*n-l*i,t),c=Ft(-a*r-l*o,t);const f=u>s,p=c>s;if(f&&(u=t-u),p&&(c=t-c),u>s||c>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:p,k2:c}}}},np),Mf=BigInt(0),tb=e=>typeof e=="bigint"&&Mf<e&&e<$f,D7=e=>typeof e=="bigint"&&Mf<e&&e<zc,iv={};function Kc(e,...t){let n=iv[e];if(n===void 0){const r=np(Uint8Array.from(e,i=>i.charCodeAt(0)));n=ss(r,r),iv[e]=n}return np(ss(n,...t))}const lg=e=>e.toRawBytes(!0).slice(1),sp=e=>ro(e,32),ph=e=>Ft(e,$f),Fl=e=>Ft(e,zc),ug=ha.ProjectivePoint,F7=(e,t,n)=>ug.BASE.multiplyAndAddUnsafe(e,t,n);function ap(e){let t=ha.utils.normPrivateKeyToScalar(e),n=ug.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Fl(-t),bytes:lg(n)}}function nb(e){if(!tb(e))throw new Error("bad x: need 0 < x < p");const t=ph(e*e),n=ph(t*e+BigInt(7));let r=eb(n);r%Hc!==Mf&&(r=ph(-r));const i=new ug(e,r,X3);return i.assertValidity(),i}function rb(...e){return Fl(pn(Kc("BIP0340/challenge",...e)))}function z7(e){return ap(e).bytes}function H7(e,t,n=H3(32)){const r=Gt("message",e),{bytes:i,scalar:o}=ap(t),s=Gt("auxRand",n,32),a=sp(o^pn(Kc("BIP0340/aux",s))),l=Kc("BIP0340/nonce",a,i,r),u=Fl(pn(l));if(u===Mf)throw new Error("sign failed: k is zero");const{bytes:c,scalar:f}=ap(u),p=rb(c,i,r),E=new Uint8Array(64);if(E.set(c,0),E.set(sp(Fl(f+p*o)),32),!ib(E,r,i))throw new Error("sign: Invalid signature produced");return E}function ib(e,t,n){const r=Gt("signature",e,64),i=Gt("message",t),o=Gt("publicKey",n,32);try{const s=nb(pn(o)),a=pn(r.subarray(0,32));if(!tb(a))return!1;const l=pn(r.subarray(32,64));if(!D7(l))return!1;const u=rb(sp(a),lg(s),i),c=F7(s,l,Fl(-u));return!(!c||!c.hasEvenY()||c.toAffine().x!==a)}catch{return!1}}const za={getPublicKey:z7,sign:H7,verify:ib,utils:{randomPrivateKey:ha.utils.randomPrivateKey,lift_x:nb,pointToBytes:lg,numberToBytesBE:ro,bytesToNumberBE:pn,taggedHash:Kc,mod:Ft}},gh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cg=e=>e instanceof Uint8Array,yh=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),pr=(e,t)=>e<<32-t|e>>>t,K7=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!K7)throw new Error("Non little-endian hardware is not supported");const V7=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function an(e){if(!cg(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=V7[e[n]];return t}function Qs(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,o=e.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function ob(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function zl(e){if(typeof e=="string"&&(e=ob(e)),!cg(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Vc(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!cg(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class sb{clone(){return this._cloneInto()}}function ab(e){const t=r=>e().update(zl(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function lb(e=32){if(gh&&typeof gh.getRandomValues=="function")return gh.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function lp(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function q7(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function ub(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function W7(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");lp(e.outputLen),lp(e.blockLen)}function G7(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Z7(e,t){ub(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ar={number:lp,bool:q7,bytes:ub,hash:W7,exists:G7,output:Z7};function Y7(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,u=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+u,a,r)}class Q7 extends sb{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=yh(this.buffer)}update(t){Ar.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=zl(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=yh(t);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ar.exists(this),Ar.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let f=s;f<i;f++)n[f]=0;Y7(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=yh(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,c[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%n&&t.buffer.set(r),t}}const J7=(e,t,n)=>e&t^~e&n,X7=(e,t,n)=>e&t^e&n^t&n,ek=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ei=new Uint32Array(64);class cb extends Q7{constructor(){super(64,32,8,!1),this.A=bi[0]|0,this.B=bi[1]|0,this.C=bi[2]|0,this.D=bi[3]|0,this.E=bi[4]|0,this.F=bi[5]|0,this.G=bi[6]|0,this.H=bi[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[t,n,r,i,o,s,a,l]}set(t,n,r,i,o,s,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)Ei[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const p=Ei[f-15],E=Ei[f-2],_=pr(p,7)^pr(p,18)^p>>>3,y=pr(E,17)^pr(E,19)^E>>>10;Ei[f]=y+Ei[f-7]+_+Ei[f-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:u,H:c}=this;for(let f=0;f<64;f++){const p=pr(a,6)^pr(a,11)^pr(a,25),E=c+p+J7(a,l,u)+ek[f]+Ei[f]|0,_=(pr(r,2)^pr(r,13)^pr(r,22))+X7(r,i,o)|0;c=u,u=l,l=a,a=s+E|0,s=o,o=i,i=r,r=E+_|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,i,o,s,a,l,u,c)}roundClean(){Ei.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class tk extends cb{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const yl=ab(()=>new cb);ab(()=>new tk);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function pa(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function ui(...e){const t=(i,o)=>s=>i(o(s)),n=Array.from(e).reverse().reduce((i,o)=>i?t(i,o.encode):o.encode,void 0),r=e.reduce((i,o)=>i?t(i,o.decode):o.decode,void 0);return{encode:n,decode:r}}function ci(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(pa(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function fi(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function Pf(e,t="="){if(pa(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of n)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function fb(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function ov(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],o=Array.from(e);for(o.forEach(s=>{if(pa(s),s<0||s>=t)throw new Error(`Wrong integer: ${s}`)});;){let s=0,a=!0;for(let l=r;l<o.length;l++){const u=o[l],c=t*s+u;if(!Number.isSafeInteger(c)||t*s/t!==s||c-u!==t*s)throw new Error("convertRadix: carry overflow");if(s=c%n,o[l]=Math.floor(c/n),!Number.isSafeInteger(o[l])||o[l]*n+s!==c)throw new Error("convertRadix: carry overflow");if(a)o[l]?a=!1:r=l;else continue}if(i.push(s),a)break}for(let s=0;s<e.length-1&&e[s]===0;s++)i.push(0);return i.reverse()}const db=(e,t)=>t?db(t,e%t):e,qc=(e,t)=>e+(t-db(e,t));function up(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(qc(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${qc(t,n)}`);let i=0,o=0;const s=2**n-1,a=[];for(const l of e){if(pa(l),l>=2**t)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(i=i<<t|l,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)a.push((i>>o-n&s)>>>0);i&=2**o-1}if(i=i<<n-o&s,!r&&o>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&o>0&&a.push(i>>>0),a}function nk(e){return pa(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return ov(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(ov(t,e,2**8))}}}function mo(e,t=!1){if(pa(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(qc(8,e)>32||qc(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return up(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(up(n,e,8,t))}}}function sv(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const rk=ui(mo(4),ci("0123456789ABCDEF"),fi("")),ik=ui(mo(5),ci("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Pf(5),fi(""));ui(mo(5),ci("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Pf(5),fi(""));ui(mo(5),ci("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),fi(""),fb(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const oi=ui(mo(6),ci("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Pf(6),fi("")),ok=ui(mo(6),ci("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Pf(6),fi("")),fg=e=>ui(nk(58),ci(e),fi("")),cp=fg("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");fg("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");fg("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const av=[0,2,3,5,6,7,9,10,11],sk={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=cp.encode(r).padStart(av[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=av.indexOf(r.length),o=cp.decode(r);for(let s=0;s<o.length-i;s++)if(o[s]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-i)))}return Uint8Array.from(t)}},fp=ui(ci("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),fi("")),lv=[996825010,642813549,513874426,1027748829,705979059];function Ha(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<lv.length;r++)(t>>r&1)===1&&(n^=lv[r]);return n}function uv(e,t,n=1){const r=e.length;let i=1;for(let o=0;o<r;o++){const s=e.charCodeAt(o);if(s<33||s>126)throw new Error(`Invalid prefix (${e})`);i=Ha(i)^s>>5}i=Ha(i);for(let o=0;o<r;o++)i=Ha(i)^e.charCodeAt(o)&31;for(let o of t)i=Ha(i)^o;for(let o=0;o<6;o++)i=Ha(i);return i^=n,fp.encode(up([i%2**30],30,5,!1))}function hb(e){const t=e==="bech32"?1:734539939,n=mo(5),r=n.decode,i=n.encode,o=sv(r);function s(c,f,p=90){if(typeof c!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof c}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);const E=c.length+7+f.length;if(p!==!1&&E>p)throw new TypeError(`Length ${E} exceeds limit ${p}`);return c=c.toLowerCase(),`${c}1${fp.encode(f)}${uv(c,f,t)}`}function a(c,f=90){if(typeof c!="string")throw new Error(`bech32.decode input should be string, not ${typeof c}`);if(c.length<8||f!==!1&&c.length>f)throw new TypeError(`Wrong string length: ${c.length} (${c}). Expected (8..${f})`);const p=c.toLowerCase();if(c!==p&&c!==c.toUpperCase())throw new Error("String must be lowercase or uppercase");c=p;const E=c.lastIndexOf("1");if(E===0||E===-1)throw new Error('Letter "1" must be present between prefix and data only');const _=c.slice(0,E),y=c.slice(E+1);if(y.length<6)throw new Error("Data must be at least 6 characters long");const A=fp.decode(y).slice(0,-6),w=uv(_,A,t);if(!y.endsWith(w))throw new Error(`Invalid checksum in ${c}: expected "${w}"`);return{prefix:_,words:A}}const l=sv(a);function u(c){const{prefix:f,words:p}=a(c,!1);return{prefix:f,words:p,bytes:r(p)}}return{encode:s,decode:a,decodeToBytes:u,decodeUnsafe:l,fromWords:r,fromWordsUnsafe:o,toWords:i}}const Js=hb("bech32");hb("bech32m");const ak={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},lk=ui(mo(4),ci("0123456789abcdef"),fi(""),fb(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),uk={utf8:ak,hex:lk,base16:rk,base32:ik,base64:oi,base64url:ok,base58:cp,base58xmr:sk};`${Object.keys(uk).join(", ")}`;function mh(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function cv(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function pb(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function zn(e,...t){if(!pb(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Xs(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function dg(e,t){zn(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const vt=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),ck=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),fk=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!fk)throw new Error("Non little-endian hardware is not supported");function hg(e){if(typeof e!="string")throw new Error(`string expected, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function io(e){if(typeof e=="string")e=hg(e);else if(pb(e))e=e.slice();else throw new Error(`Uint8Array expected, got ${typeof e}`);return e}function dk(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function hk(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const pk=(e,t)=>(Object.assign(t,e),t),Hr=16,pg=new Uint8Array(16),br=vt(pg),gk=225,yk=(e,t,n,r)=>{const i=r&1;return{s3:n<<31|r>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^gk<<24&-(i&1)}},Ln=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function mk(e){e.reverse();const t=e[15]&1;let n=0;for(let r=0;r<e.length;r++){const i=e[r];e[r]=i>>>1|n,n=(i&1)<<7}return e[0]^=-t&225,e}const vk=e=>e>64*1024?8:e>1024?4:2;class gb{constructor(t,n){this.blockLen=Hr,this.outputLen=Hr,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=io(t),zn(t,16);const r=ck(t);let i=r.getUint32(0,!1),o=r.getUint32(4,!1),s=r.getUint32(8,!1),a=r.getUint32(12,!1);const l=[];for(let E=0;E<128;E++)l.push({s0:Ln(i),s1:Ln(o),s2:Ln(s),s3:Ln(a)}),{s0:i,s1:o,s2:s,s3:a}=yk(i,o,s,a);const u=vk(n||1024);if(![1,2,4,8].includes(u))throw new Error(`ghash: wrong window size=${u}, should be 2, 4 or 8`);this.W=u;const c=128/u,f=this.windowSize=2**u,p=[];for(let E=0;E<c;E++)for(let _=0;_<f;_++){let y=0,A=0,w=0,R=0;for(let T=0;T<u;T++){if(!(_>>>u-T-1&1))continue;const{s0:L,s1:j,s2:M,s3:N}=l[u*E+T];y^=L,A^=j,w^=M,R^=N}p.push({s0:y,s1:A,s2:w,s3:R})}this.t=p}_updateBlock(t,n,r,i){t^=this.s0,n^=this.s1,r^=this.s2,i^=this.s3;const{W:o,t:s,windowSize:a}=this;let l=0,u=0,c=0,f=0;const p=(1<<o)-1;let E=0;for(const _ of[t,n,r,i])for(let y=0;y<4;y++){const A=_>>>8*y&255;for(let w=8/o-1;w>=0;w--){const R=A>>>o*w&p,{s0:T,s1:L,s2:j,s3:M}=s[E*a+R];l^=T,u^=L,c^=j,f^=M,E+=1}}this.s0=l,this.s1=u,this.s2=c,this.s3=f}update(t){t=io(t),Xs(this);const n=vt(t),r=Math.floor(t.length/Hr),i=t.length%Hr;for(let o=0;o<r;o++)this._updateBlock(n[o*4+0],n[o*4+1],n[o*4+2],n[o*4+3]);return i&&(pg.set(t.subarray(r*Hr)),this._updateBlock(br[0],br[1],br[2],br[3]),br.fill(0)),this}destroy(){const{t}=this;for(const n of t)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(t){Xs(this),dg(t,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:o}=this,s=vt(t);return s[0]=n,s[1]=r,s[2]=i,s[3]=o,t}digest(){const t=new Uint8Array(Hr);return this.digestInto(t),this.destroy(),t}}class wk extends gb{constructor(t,n){t=io(t);const r=mk(t.slice());super(r,n),r.fill(0)}update(t){t=io(t),Xs(this);const n=vt(t),r=t.length%Hr,i=Math.floor(t.length/Hr);for(let o=0;o<i;o++)this._updateBlock(Ln(n[o*4+3]),Ln(n[o*4+2]),Ln(n[o*4+1]),Ln(n[o*4+0]));return r&&(pg.set(t.subarray(i*Hr)),this._updateBlock(Ln(br[3]),Ln(br[2]),Ln(br[1]),Ln(br[0])),br.fill(0)),this}digestInto(t){Xs(this),dg(t,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:o}=this,s=vt(t);return s[0]=n,s[1]=r,s[2]=i,s[3]=o,t.reverse()}}function yb(e){const t=(r,i)=>e(i,r.length).update(io(r)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(r,i)=>e(r,i),t}yb((e,t)=>new gb(e,t));yb((e,t)=>new wk(e,t));const Ji=16,xk=283;function gg(e){return e<<1^xk&-(e>>7)}function Ts(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=gg(e);return n}const dp=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=gg(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),bk=dp.map((e,t)=>dp.indexOf(t)),Ek=e=>e<<24|e>>>8,vh=e=>e<<8|e>>>24;function mb(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((u,c)=>t(e[c])),r=n.map(vh),i=r.map(vh),o=i.map(vh),s=new Uint32Array(256*256),a=new Uint32Array(256*256),l=new Uint16Array(256*256);for(let u=0;u<256;u++)for(let c=0;c<256;c++){const f=u*256+c;s[f]=n[u]^r[c],a[f]=i[u]^o[c],l[f]=e[u]<<8|e[c]}return{sbox:e,sbox2:l,T0:n,T1:r,T2:i,T3:o,T01:s,T23:a}}const yg=mb(dp,e=>Ts(e,3)<<24|e<<16|e<<8|Ts(e,2)),vb=mb(bk,e=>Ts(e,11)<<24|Ts(e,13)<<16|Ts(e,9)<<8|Ts(e,14)),Sk=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=gg(n))e[t]=n;return e})();function wb(e){zn(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=yg,r=vt(e),i=r.length,o=a=>kr(n,a,a,a,a),s=new Uint32Array(t+28);s.set(r);for(let a=i;a<s.length;a++){let l=s[a-1];a%i===0?l=o(Ek(l))^Sk[a/i-1]:i>6&&a%i===4&&(l=o(l)),s[a]=s[a-i]^l}return s}function _k(e){const t=wb(e),n=t.slice(),r=t.length,{sbox2:i}=yg,{T0:o,T1:s,T2:a,T3:l}=vb;for(let u=0;u<r;u+=4)for(let c=0;c<4;c++)n[u+c]=t[r-u-4+c];t.fill(0);for(let u=4;u<r-4;u++){const c=n[u],f=kr(i,c,c,c,c);n[u]=o[f&255]^s[f>>>8&255]^a[f>>>16&255]^l[f>>>24]}return n}function Fi(e,t,n,r,i,o){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|o>>>24&255]}function kr(e,t,n,r,i){return e[t&255|n&65280]|e[r>>>16&255|i>>>16&65280]<<16}function fv(e,t,n,r,i){const{sbox2:o,T01:s,T23:a}=yg;let l=0;t^=e[l++],n^=e[l++],r^=e[l++],i^=e[l++];const u=e.length/4-2;for(let _=0;_<u;_++){const y=e[l++]^Fi(s,a,t,n,r,i),A=e[l++]^Fi(s,a,n,r,i,t),w=e[l++]^Fi(s,a,r,i,t,n),R=e[l++]^Fi(s,a,i,t,n,r);t=y,n=A,r=w,i=R}const c=e[l++]^kr(o,t,n,r,i),f=e[l++]^kr(o,n,r,i,t),p=e[l++]^kr(o,r,i,t,n),E=e[l++]^kr(o,i,t,n,r);return{s0:c,s1:f,s2:p,s3:E}}function Ak(e,t,n,r,i){const{sbox2:o,T01:s,T23:a}=vb;let l=0;t^=e[l++],n^=e[l++],r^=e[l++],i^=e[l++];const u=e.length/4-2;for(let _=0;_<u;_++){const y=e[l++]^Fi(s,a,t,i,r,n),A=e[l++]^Fi(s,a,n,t,i,r),w=e[l++]^Fi(s,a,r,n,t,i),R=e[l++]^Fi(s,a,i,r,n,t);t=y,n=A,r=w,i=R}const c=e[l++]^kr(o,t,i,r,n),f=e[l++]^kr(o,n,t,i,r),p=e[l++]^kr(o,r,n,t,i),E=e[l++]^kr(o,i,r,n,t);return{s0:c,s1:f,s2:p,s3:E}}function xb(e,t){if(!t)return new Uint8Array(e);if(zn(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function kk(e){if(zn(e),e.length%Ji!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${Ji}`)}function Rk(e,t,n){let r=e.length;const i=r%Ji;if(!t&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const o=vt(e);if(t){let l=Ji-i;l||(l=Ji),r=r+l}const s=xb(r,n),a=vt(s);return{b:o,o:a,out:s}}function Ck(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const i=e.subarray(0,-r);for(let o=0;o<r;o++)if(e[n-o-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function Tk(e){const t=new Uint8Array(16),n=vt(t);t.set(e);const r=Ji-e.length;for(let i=Ji-r;i<Ji;i++)t[i]=r;return n}const bb=pk({blockSize:16,nonceLength:16},function(e,t,n={}){zn(e),zn(t,16);const r=!n.disablePadding;return{encrypt:(i,o)=>{const s=wb(e),{b:a,o:l,out:u}=Rk(i,r,o),c=vt(t);let f=c[0],p=c[1],E=c[2],_=c[3],y=0;for(;y+4<=a.length;)f^=a[y+0],p^=a[y+1],E^=a[y+2],_^=a[y+3],{s0:f,s1:p,s2:E,s3:_}=fv(s,f,p,E,_),l[y++]=f,l[y++]=p,l[y++]=E,l[y++]=_;if(r){const A=Tk(i.subarray(y*4));f^=A[0],p^=A[1],E^=A[2],_^=A[3],{s0:f,s1:p,s2:E,s3:_}=fv(s,f,p,E,_),l[y++]=f,l[y++]=p,l[y++]=E,l[y++]=_}return s.fill(0),u},decrypt:(i,o)=>{kk(i);const s=_k(e),a=vt(t),l=xb(i.length,o),u=vt(i),c=vt(l);let f=a[0],p=a[1],E=a[2],_=a[3];for(let y=0;y+4<=u.length;){const A=f,w=p,R=E,T=_;f=u[y+0],p=u[y+1],E=u[y+2],_=u[y+3];const{s0:L,s1:j,s2:M,s3:N}=Ak(s,f,p,E,_);c[y++]=L^A,c[y++]=j^w,c[y++]=M^R,c[y++]=N^T}return s.fill(0),Ck(l,r)}}}),Lt=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class Bk{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=io(t),zn(t,32);const n=Lt(t,0),r=Lt(t,2),i=Lt(t,4),o=Lt(t,6),s=Lt(t,8),a=Lt(t,10),l=Lt(t,12),u=Lt(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|o<<9)&8191,this.r[4]=(o>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let c=0;c<8;c++)this.pad[c]=Lt(t,16+2*c)}process(t,n,r=!1){const i=r?0:2048,{h:o,r:s}=this,a=s[0],l=s[1],u=s[2],c=s[3],f=s[4],p=s[5],E=s[6],_=s[7],y=s[8],A=s[9],w=Lt(t,n+0),R=Lt(t,n+2),T=Lt(t,n+4),L=Lt(t,n+6),j=Lt(t,n+8),M=Lt(t,n+10),N=Lt(t,n+12),D=Lt(t,n+14);let K=o[0]+(w&8191),H=o[1]+((w>>>13|R<<3)&8191),k=o[2]+((R>>>10|T<<6)&8191),d=o[3]+((T>>>7|L<<9)&8191),g=o[4]+((L>>>4|j<<12)&8191),C=o[5]+(j>>>1&8191),m=o[6]+((j>>>14|M<<2)&8191),x=o[7]+((M>>>11|N<<5)&8191),$=o[8]+((N>>>8|D<<8)&8191),P=o[9]+(D>>>5|i),S=0,h=S+K*a+H*(5*A)+k*(5*y)+d*(5*_)+g*(5*E);S=h>>>13,h&=8191,h+=C*(5*p)+m*(5*f)+x*(5*c)+$*(5*u)+P*(5*l),S+=h>>>13,h&=8191;let B=S+K*l+H*a+k*(5*A)+d*(5*y)+g*(5*_);S=B>>>13,B&=8191,B+=C*(5*E)+m*(5*p)+x*(5*f)+$*(5*c)+P*(5*u),S+=B>>>13,B&=8191;let z=S+K*u+H*l+k*a+d*(5*A)+g*(5*y);S=z>>>13,z&=8191,z+=C*(5*_)+m*(5*E)+x*(5*p)+$*(5*f)+P*(5*c),S+=z>>>13,z&=8191;let Q=S+K*c+H*u+k*l+d*a+g*(5*A);S=Q>>>13,Q&=8191,Q+=C*(5*y)+m*(5*_)+x*(5*E)+$*(5*p)+P*(5*f),S+=Q>>>13,Q&=8191;let J=S+K*f+H*c+k*u+d*l+g*a;S=J>>>13,J&=8191,J+=C*(5*A)+m*(5*y)+x*(5*_)+$*(5*E)+P*(5*p),S+=J>>>13,J&=8191;let te=S+K*p+H*f+k*c+d*u+g*l;S=te>>>13,te&=8191,te+=C*a+m*(5*A)+x*(5*y)+$*(5*_)+P*(5*E),S+=te>>>13,te&=8191;let re=S+K*E+H*p+k*f+d*c+g*u;S=re>>>13,re&=8191,re+=C*l+m*a+x*(5*A)+$*(5*y)+P*(5*_),S+=re>>>13,re&=8191;let ie=S+K*_+H*E+k*p+d*f+g*c;S=ie>>>13,ie&=8191,ie+=C*u+m*l+x*a+$*(5*A)+P*(5*y),S+=ie>>>13,ie&=8191;let xe=S+K*y+H*_+k*E+d*p+g*f;S=xe>>>13,xe&=8191,xe+=C*c+m*u+x*l+$*a+P*(5*A),S+=xe>>>13,xe&=8191;let se=S+K*A+H*y+k*_+d*E+g*p;S=se>>>13,se&=8191,se+=C*f+m*c+x*u+$*l+P*a,S+=se>>>13,se&=8191,S=(S<<2)+S|0,S=S+h|0,h=S&8191,S=S>>>13,B+=S,o[0]=h,o[1]=B,o[2]=z,o[3]=Q,o[4]=J,o[5]=te,o[6]=re,o[7]=ie,o[8]=xe,o[9]=se}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let i=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=i,i=t[a]>>>13,t[a]&=8191;t[0]+=i*5,i=t[0]>>>13,t[0]&=8191,t[1]+=i,i=t[1]>>>13,t[1]&=8191,t[2]+=i,r[0]=t[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let o=(i^1)-1;for(let a=0;a<10;a++)r[a]&=o;o=~o;for(let a=0;a<10;a++)t[a]=t[a]&o|r[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let s=t[0]+n[0];t[0]=s&65535;for(let a=1;a<8;a++)s=(t[a]+n[a]|0)+(s>>>16)|0,t[a]=s&65535}update(t){Xs(this);const{buffer:n,blockLen:r}=this;t=io(t);const i=t.length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s===r){for(;r<=i-o;o+=r)this.process(t,o);continue}n.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){Xs(this),dg(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)t[o++]=r[s]>>>0,t[o++]=r[s]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}}function $k(e){const t=(r,i)=>e(i).update(io(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}$k(e=>new Bk(e));const Mk=hg("expand 16-byte k"),Pk=hg("expand 32-byte k"),Ik=vt(Mk),Lk=vt(Pk);function Ne(e,t){return e<<t|e>>>32-t}function hp(e){return e.byteOffset%4===0}const Mu=64,Nk=16,Eb=2**32-1,dv=new Uint32Array;function Ok(e,t,n,r,i,o,s,a){const l=i.length,u=new Uint8Array(Mu),c=vt(u),f=hp(i)&&hp(o),p=f?vt(i):dv,E=f?vt(o):dv;for(let _=0;_<l;s++){if(e(t,n,r,c,s,a),s>=Eb)throw new Error("arx: counter overflow");const y=Math.min(Mu,l-_);if(f&&y===Mu){const A=_/4;if(_%4!==0)throw new Error("arx: invalid block position");for(let w=0,R;w<Nk;w++)R=A+w,E[R]=p[R]^c[w];_+=Mu;continue}for(let A=0,w;A<y;A++)w=_+A,o[w]=i[w]^u[A];_+=y}}function jk(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:s}=dk({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return mh(i),mh(s),cv(o),cv(n),(a,l,u,c,f=0)=>{zn(a),zn(l),zn(u);const p=u.length;if(c||(c=new Uint8Array(p)),zn(c),mh(f),f<0||f>=Eb)throw new Error("arx: counter overflow");if(c.length<p)throw new Error(`arx: output (${c.length}) is shorter than data (${p})`);const E=[];let _=a.length,y,A;if(_===32)y=a.slice(),E.push(y),A=Lk;else if(_===16&&n)y=new Uint8Array(32),y.set(a),y.set(a,16),A=Ik,E.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${_}`);hp(l)||(l=l.slice(),E.push(l));const w=vt(y);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(A,w,vt(l.subarray(0,16)),w),l=l.subarray(16)}const R=16-i;if(R!==l.length)throw new Error(`arx: nonce must be ${R} or 16 bytes`);if(R!==12){const L=new Uint8Array(12);L.set(l,o?0:12-l.length),l=L,E.push(l)}const T=vt(l);for(Ok(e,A,w,T,u,c,f,s);E.length>0;)E.pop().fill(0);return c}}function Uk(e,t,n,r,i,o=20){let s=e[0],a=e[1],l=e[2],u=e[3],c=t[0],f=t[1],p=t[2],E=t[3],_=t[4],y=t[5],A=t[6],w=t[7],R=i,T=n[0],L=n[1],j=n[2],M=s,N=a,D=l,K=u,H=c,k=f,d=p,g=E,C=_,m=y,x=A,$=w,P=R,S=T,h=L,B=j;for(let Q=0;Q<o;Q+=2)M=M+H|0,P=Ne(P^M,16),C=C+P|0,H=Ne(H^C,12),M=M+H|0,P=Ne(P^M,8),C=C+P|0,H=Ne(H^C,7),N=N+k|0,S=Ne(S^N,16),m=m+S|0,k=Ne(k^m,12),N=N+k|0,S=Ne(S^N,8),m=m+S|0,k=Ne(k^m,7),D=D+d|0,h=Ne(h^D,16),x=x+h|0,d=Ne(d^x,12),D=D+d|0,h=Ne(h^D,8),x=x+h|0,d=Ne(d^x,7),K=K+g|0,B=Ne(B^K,16),$=$+B|0,g=Ne(g^$,12),K=K+g|0,B=Ne(B^K,8),$=$+B|0,g=Ne(g^$,7),M=M+k|0,B=Ne(B^M,16),x=x+B|0,k=Ne(k^x,12),M=M+k|0,B=Ne(B^M,8),x=x+B|0,k=Ne(k^x,7),N=N+d|0,P=Ne(P^N,16),$=$+P|0,d=Ne(d^$,12),N=N+d|0,P=Ne(P^N,8),$=$+P|0,d=Ne(d^$,7),D=D+g|0,S=Ne(S^D,16),C=C+S|0,g=Ne(g^C,12),D=D+g|0,S=Ne(S^D,8),C=C+S|0,g=Ne(g^C,7),K=K+H|0,h=Ne(h^K,16),m=m+h|0,H=Ne(H^m,12),K=K+H|0,h=Ne(h^K,8),m=m+h|0,H=Ne(H^m,7);let z=0;r[z++]=s+M|0,r[z++]=a+N|0,r[z++]=l+D|0,r[z++]=u+K|0,r[z++]=c+H|0,r[z++]=f+k|0,r[z++]=p+d|0,r[z++]=E+g|0,r[z++]=_+C|0,r[z++]=y+m|0,r[z++]=A+x|0,r[z++]=w+$|0,r[z++]=R+P|0,r[z++]=T+S|0,r[z++]=L+h|0,r[z++]=j+B|0}const Sb=jk(Uk,{counterRight:!1,counterLength:4,allowShortKeys:!1});class _b extends sb{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Ar.hash(t);const r=zl(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return Ar.exists(this),this.iHash.update(t),this}digestInto(t){Ar.exists(this),Ar.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const If=(e,t,n)=>new _b(e,t).update(n).digest();If.create=(e,t)=>new _b(e,t);function Dk(e,t,n){return Ar.hash(e),n===void 0&&(n=new Uint8Array(e.outputLen)),If(e,zl(n),zl(t))}const wh=new Uint8Array([0]),hv=new Uint8Array;function Fk(e,t,n,r=32){if(Ar.hash(e),Ar.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);n===void 0&&(n=hv);const o=new Uint8Array(i*e.outputLen),s=If.create(e,t),a=s._cloneInto(),l=new Uint8Array(s.outputLen);for(let u=0;u<i;u++)wh[0]=u+1,a.update(u===0?hv:l).update(n).update(wh).digestInto(l),o.set(l,e.outputLen*u),s._cloneInto(a);return s.destroy(),a.destroy(),l.fill(0),wh.fill(0),o.slice(0,r)}var zk=Object.defineProperty,xt=(e,t)=>{for(var n in t)zk(e,n,{get:t[n],enumerable:!0})},To=Symbol("verified"),Hk=e=>e instanceof Object;function Ab(e){if(!Hk(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}var Kk={};xt(Kk,{Queue:()=>Rb,QueueNode:()=>kb,binarySearch:()=>mg,insertEventIntoAscendingList:()=>qk,insertEventIntoDescendingList:()=>Vk,normalizeURL:()=>Bs,utf8Decoder:()=>qr,utf8Encoder:()=>Mr});var qr=new TextDecoder("utf-8"),Mr=new TextEncoder;function Bs(e){e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function Vk(e,t){const[n,r]=mg(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:i.created_at-t.created_at);return r||e.splice(n,0,t),e}function qk(e,t){const[n,r]=mg(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:t.created_at-i.created_at);return r||e.splice(n,0,t),e}function mg(e,t){let n=0,r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),o=t(e[i]);if(o===0)return[i,!0];o<0?r=i-1:n=i+1}return[n,!1]}var kb=class{constructor(e){we(this,"value"),we(this,"next",null),we(this,"prev",null),this.value=e}},Rb=class{constructor(){we(this,"first"),we(this,"last"),this.first=null,this.last=null}enqueue(e){const t=new kb(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,e.value}},Wk=class{generateSecretKey(){return za.utils.randomPrivateKey()}getPublicKey(e){return an(za.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=an(za.getPublicKey(t)),n.id=uc(n),n.sig=an(za.sign(uc(n),t)),n[To]=!0,n}verifyEvent(e){if(typeof e[To]=="boolean")return e[To];const t=uc(e);if(t!==e.id)return e[To]=!1,!1;try{const n=za.verify(e.sig,t,e.pubkey);return e[To]=n,n}catch{return e[To]=!1,!1}}};function Gk(e){if(!Ab(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function uc(e){let t=yl(Mr.encode(Gk(e)));return an(t)}var Lf=new Wk,Zk=Lf.generateSecretKey,Yk=Lf.getPublicKey,Pr=Lf.finalizeEvent,Nf=Lf.verifyEvent,Qk={};xt(Qk,{Application:()=>QR,BadgeAward:()=>sR,BadgeDefinition:()=>KR,BlockedRelaysList:()=>TR,BookmarkList:()=>kR,Bookmarksets:()=>FR,Calendar:()=>iC,CalendarEventRSVP:()=>oC,ChannelCreation:()=>Mb,ChannelHideMessage:()=>Lb,ChannelMessage:()=>Ib,ChannelMetadata:()=>Pb,ChannelMuteUser:()=>Nb,ClassifiedListing:()=>eC,ClientAuth:()=>Ob,CommunitiesList:()=>RR,CommunityDefinition:()=>lC,CommunityPostApproval:()=>gR,Contacts:()=>nR,CreateOrUpdateProduct:()=>WR,CreateOrUpdateStall:()=>qR,Curationsets:()=>zR,Date:()=>nC,DraftClassifiedListing:()=>tC,DraftLong:()=>ZR,Emojisets:()=>YR,EncryptedDirectMessage:()=>rR,EncryptedDirectMessages:()=>iR,EventDeletion:()=>oR,FileMetadata:()=>uR,FileServerPreference:()=>PR,Followsets:()=>jR,GenericRepost:()=>aR,Genericlists:()=>UR,HTTPAuth:()=>xg,Handlerinformation:()=>aC,Handlerrecommendation:()=>sC,Highlights:()=>ER,InterestsList:()=>$R,Interestsets:()=>VR,JobFeedback:()=>vR,JobRequest:()=>yR,JobResult:()=>mR,Label:()=>pR,LightningPubRPC:()=>LR,LiveChatMessage:()=>cR,LiveEvent:()=>JR,LongFormArticle:()=>GR,Metadata:()=>Xk,Mutelist:()=>SR,NWCWalletInfo:()=>IR,NWCWalletRequest:()=>jb,NWCWalletResponse:()=>NR,NostrConnect:()=>OR,OpenTimestamps:()=>lR,Pinlist:()=>_R,ProblemTracker:()=>fR,ProfileBadges:()=>HR,PublicChatsList:()=>CR,Reaction:()=>wg,RecommendRelay:()=>tR,RelayList:()=>AR,Relaysets:()=>DR,Report:()=>dR,Reporting:()=>hR,Repost:()=>vg,SearchRelaysList:()=>BR,ShortTextNote:()=>eR,Time:()=>rC,UserEmojiList:()=>MR,UserStatuses:()=>XR,Zap:()=>bR,ZapGoal:()=>wR,ZapRequest:()=>xR,classifyKind:()=>Jk,isEphemeralKind:()=>Bb,isParameterizedReplaceableKind:()=>$b,isRegularKind:()=>Cb,isReplaceableKind:()=>Tb});function Cb(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function Tb(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function Bb(e){return 2e4<=e&&e<3e4}function $b(e){return 3e4<=e&&e<4e4}function Jk(e){return Cb(e)?"regular":Tb(e)?"replaceable":Bb(e)?"ephemeral":$b(e)?"parameterized":"unknown"}var Xk=0,eR=1,tR=2,nR=3,rR=4,iR=4,oR=5,vg=6,wg=7,sR=8,aR=16,Mb=40,Pb=41,Ib=42,Lb=43,Nb=44,lR=1040,uR=1063,cR=1311,fR=1971,dR=1984,hR=1984,pR=1985,gR=4550,yR=5999,mR=6999,vR=7e3,wR=9041,xR=9734,bR=9735,ER=9802,SR=1e4,_R=10001,AR=10002,kR=10003,RR=10004,CR=10005,TR=10006,BR=10007,$R=10015,MR=10030,PR=10096,IR=13194,LR=21e3,Ob=22242,jb=23194,NR=23195,OR=24133,xg=27235,jR=3e4,UR=30001,DR=30002,FR=30003,zR=30004,HR=30008,KR=30009,VR=30015,qR=30017,WR=30018,GR=30023,ZR=30024,YR=30030,QR=30078,JR=30311,XR=30315,eC=30402,tC=30403,nC=31922,rC=31923,iC=31924,oC=31925,sC=31989,aC=31990,lC=34550;function uC(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1&&!e.ids.some(n=>t.id.startsWith(n))||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1&&!e.authors.some(n=>t.pubkey.startsWith(n)))return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),i=e[`#${r}`];if(i&&!t.tags.find(([o,s])=>o===n.slice(1)&&i.indexOf(s)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function cC(e,t){for(let n=0;n<e.length;n++)if(uC(e[n],t))return!0;return!1}var fC={};xt(fC,{getHex64:()=>Of,getInt:()=>Ub,getSubscriptionId:()=>Db,matchEventId:()=>dC,matchEventKind:()=>pC,matchEventPubkey:()=>hC});function Of(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}function Ub(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,i=e.slice(r),o=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,o),10)}function Db(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(i===-1)return null;let o=r+1+i;return e.slice(r+1,o)}function dC(e,t){return t===Of(e,"id")}function hC(e,t){return t===Of(e,"pubkey")}function pC(e,t){return t===Ub(e,"kind")}var gC={};xt(gC,{makeAuthEvent:()=>Fb});function Fb(e,t){return{kind:Ob,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function yC(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var mC=e=>(e[To]=!0,!0),zb;try{zb=WebSocket}catch{}var Hb=class{constructor(e,t){we(this,"url"),we(this,"_connected",!1),we(this,"onclose",null),we(this,"onnotice",n=>console.debug(`NOTICE from ${this.url}: ${n}`)),we(this,"baseEoseTimeout",4400),we(this,"connectionTimeout",4400),we(this,"openSubs",new Map),we(this,"connectionTimeoutHandle"),we(this,"connectionPromise"),we(this,"openCountRequests",new Map),we(this,"openEventPublishes",new Map),we(this,"ws"),we(this,"incomingMessageQueue",new Rb),we(this,"queueRunning",!1),we(this,"challenge"),we(this,"serial",0),we(this,"verifyEvent"),this.url=Bs(e),this.verifyEvent=t.verifyEvent}static async connect(e,t){const n=new Hb(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new zb(this.url)}catch(n){t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var r;t(n.message),this._connected&&((r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"),this._connected=!1)},this.ws.onclose=async()=>{var n;this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection closed"),this._connected=!1},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await yC();this.queueRunning=!1}handleNext(){var e,t;const n=this.incomingMessageQueue.dequeue();if(!n)return!1;const r=Db(n);if(r){const i=this.openSubs.get(r);if(!i)return;const o=Of(n,"id"),s=(e=i.alreadyHaveEvent)==null?void 0:e.call(i,o);if((t=i.receivedEvent)==null||t.call(i,this,o),s)return}try{let i=JSON.parse(n);switch(i[0]){case"EVENT":{const o=this.openSubs.get(i[1]),s=i[2];this.verifyEvent(s)&&cC(o.filters,s)&&o.onevent(s);return}case"COUNT":{const o=i[1],s=i[2],a=this.openCountRequests.get(o);a&&(a.resolve(s.count),this.openCountRequests.delete(o));return}case"EOSE":{const o=this.openSubs.get(i[1]);if(!o)return;o.receivedEose();return}case"OK":{const o=i[1],s=i[2],a=i[3],l=this.openEventPublishes.get(o);s?l.resolve(a):l.reject(new Error(a)),this.openEventPublishes.delete(o);return}case"CLOSED":{const o=i[1],s=this.openSubs.get(o);if(!s)return;s.closed=!0,s.close(i[2]);return}case"NOTICE":this.onnotice(i[1]);return;case"AUTH":{this.challenge=i[1];return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new Error("sending on closed connection");this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){if(!this.challenge)throw new Error("can't perform auth, no challenge was received");const t=await e(Fb(this.url,this.challenge)),n=new Promise((r,i)=>{this.openEventPublishes.set(t.id,{resolve:r,reject:i})});return this.send('["AUTH",'+JSON.stringify(t)+"]"),n}async publish(e){const t=new Promise((n,r)=>{this.openEventPublishes.set(e.id,{resolve:n,reject:r})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,r=new Promise((i,o)=>{this.openCountRequests.set(n,{resolve:i,reject:o})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e)+"]"),r}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||"sub:"+this.serial,r=new vC(this,n,e,t);return this.openSubs.set(n,r),r}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},vC=class{constructor(e,t,n,r){we(this,"relay"),we(this,"id"),we(this,"closed",!1),we(this,"eosed",!1),we(this,"filters"),we(this,"alreadyHaveEvent"),we(this,"receivedEvent"),we(this,"onevent"),we(this,"oneose"),we(this,"onclose"),we(this,"eoseTimeout"),we(this,"eoseTimeoutHandle"),this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||e.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(i=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,i)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;this.closed||(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},wC=class{constructor(e){we(this,"relays",new Map),we(this,"seenOn",new Map),we(this,"trackRelays",!1),we(this,"verifyEvent"),we(this,"trustedRelayURLs",new Set),this.verifyEvent=e.verifyEvent}async ensureRelay(e,t){e=Bs(e);let n=this.relays.get(e);return n||(n=new Hb(e,{verifyEvent:this.trustedRelayURLs.has(e)?mC:this.verifyEvent}),t!=null&&t.connectionTimeout&&(n.connectionTimeout=t.connectionTimeout),this.relays.set(e,n)),await n.connect(),n}close(e){e.map(Bs).forEach(t=>{var n;(n=this.relays.get(t))==null||n.close()})}subscribeMany(e,t,n){this.trackRelays&&(n.receivedEvent=(f,p)=>{let E=this.seenOn.get(p);E||(E=new Set,this.seenOn.set(p,E)),E.add(f)});const r=new Set,i=[],o=[];let s=f=>{var p;o[f]=!0,o.filter(E=>E).length===e.length&&((p=n.oneose)==null||p.call(n),s=()=>{})};const a=[];let l=(f,p)=>{var E;s(f),a[f]=p,a.filter(_=>_).length===e.length&&((E=n.onclose)==null||E.call(n,a),l=()=>{})};const u=f=>{var p;if((p=n.alreadyHaveEvent)!=null&&p.call(n,f))return!0;const E=r.has(f);return r.add(f),E},c=Promise.all(e.map(Bs).map(async(f,p,E)=>{if(E.indexOf(f)!==p){l(p,"duplicate url");return}let _;try{_=await this.ensureRelay(f,{connectionTimeout:n.maxWait?Math.max(n.maxWait*.8,n.maxWait-1e3):void 0})}catch(A){l(p,(A==null?void 0:A.message)||String(A));return}let y=_.subscribe(t,{...n,oneose:()=>s(p),onclose:A=>l(p,A),alreadyHaveEvent:u,eoseTimeout:n.maxWait});i.push(y)}));return{async close(){await c,i.forEach(f=>{f.close()})}}}subscribeManyEose(e,t,n){const r=this.subscribeMany(e,t,{...n,oneose(){r.close()}});return r}async querySync(e,t,n){return new Promise(async r=>{const i=[];this.subscribeManyEose(e,[t],{...n,onevent(o){i.push(o)},onclose(o){r(i)}})})}async get(e,t,n){t.limit=1;const r=await this.querySync(e,t,n);return r.sort((i,o)=>o.created_at-i.created_at),r[0]||null}publish(e,t){return e.map(Bs).map(async(n,r,i)=>i.indexOf(n)!==r?Promise.reject("duplicate url"):(await this.ensureRelay(n)).publish(t))}},xC=class extends wC{constructor(){super({verifyEvent:Nf})}},bC={};xt(bC,{BECH32_REGEX:()=>Kb,Bech32MaxSize:()=>bg,decode:()=>jf,encodeBytes:()=>Uf,naddrEncode:()=>CC,neventEncode:()=>RC,noteEncode:()=>AC,nprofileEncode:()=>kC,npubEncode:()=>_C,nrelayEncode:()=>TC,nsecEncode:()=>SC});var bg=5e3,Kb=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function EC(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function jf(e){var t,n,r,i,o,s,a,l;let{prefix:u,words:c}=Js.decode(e,bg),f=new Uint8Array(Js.fromWords(c));switch(u){case"nprofile":{let p=Pu(f);if(!((t=p[0])!=null&&t[0]))throw new Error("missing TLV 0 for nprofile");if(p[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:an(p[0][0]),relays:p[1]?p[1].map(E=>qr.decode(E)):[]}}}case"nevent":{let p=Pu(f);if(!((n=p[0])!=null&&n[0]))throw new Error("missing TLV 0 for nevent");if(p[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(p[2]&&p[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(p[3]&&p[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:an(p[0][0]),relays:p[1]?p[1].map(E=>qr.decode(E)):[],author:(r=p[2])!=null&&r[0]?an(p[2][0]):void 0,kind:(i=p[3])!=null&&i[0]?parseInt(an(p[3][0]),16):void 0}}}case"naddr":{let p=Pu(f);if(!((o=p[0])!=null&&o[0]))throw new Error("missing TLV 0 for naddr");if(!((s=p[2])!=null&&s[0]))throw new Error("missing TLV 2 for naddr");if(p[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((a=p[3])!=null&&a[0]))throw new Error("missing TLV 3 for naddr");if(p[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:qr.decode(p[0][0]),pubkey:an(p[2][0]),kind:parseInt(an(p[3][0]),16),relays:p[1]?p[1].map(E=>qr.decode(E)):[]}}}case"nrelay":{let p=Pu(f);if(!((l=p[0])!=null&&l[0]))throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:qr.decode(p[0][0])}}case"nsec":return{type:u,data:f};case"npub":case"note":return{type:u,data:an(f)};default:throw new Error(`unknown prefix ${u}`)}}function Pu(e){let t={},n=e;for(;n.length>0;){let r=n[0],i=n[1],o=n.slice(2,2+i);if(n=n.slice(2+i),o.length<i)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(o)}return t}function SC(e){return Uf("nsec",e)}function _C(e){return Uf("npub",Qs(e))}function AC(e){return Uf("note",Qs(e))}function iu(e,t){let n=Js.toWords(t);return Js.encode(e,n,bg)}function Uf(e,t){return iu(e,t)}function kC(e){let t=Df({0:[Qs(e.pubkey)],1:(e.relays||[]).map(n=>Mr.encode(n))});return iu("nprofile",t)}function RC(e){let t;e.kind!==void 0&&(t=EC(e.kind));let n=Df({0:[Qs(e.id)],1:(e.relays||[]).map(r=>Mr.encode(r)),2:e.author?[Qs(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return iu("nevent",n)}function CC(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=Df({0:[Mr.encode(e.identifier)],1:(e.relays||[]).map(r=>Mr.encode(r)),2:[Qs(e.pubkey)],3:[new Uint8Array(t)]});return iu("naddr",n)}function TC(e){let t=Df({0:[Mr.encode(e)]});return iu("nrelay",t)}function Df(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(i=>{let o=new Uint8Array(i.length+2);o.set([parseInt(n)],0),o.set([i.length],1),o.set(i,2),t.push(o)})}),Vc(...t)}var nl={};xt(nl,{decrypt:()=>BC,encrypt:()=>Vb});async function Vb(e,t,n){const r=e instanceof Uint8Array?an(e):e,i=ha.getSharedSecret(r,"02"+t),o=qb(i);let s=Uint8Array.from(lb(16)),a=Mr.encode(n),l=bb(o,s).encrypt(a),u=oi.encode(new Uint8Array(l)),c=oi.encode(new Uint8Array(s.buffer));return`${u}?iv=${c}`}async function BC(e,t,n){const r=e instanceof Uint8Array?an(e):e;let[i,o]=n.split("?iv="),s=ha.getSharedSecret(r,"02"+t),a=qb(s),l=oi.decode(o),u=oi.decode(i),c=bb(a,l).decrypt(u);return qr.decode(c)}function qb(e){return e.slice(1,33)}var $C={};xt($C,{NIP05_REGEX:()=>Wb,isValid:()=>IC,queryProfile:()=>Gb,searchDomain:()=>PC,useFetchImplementation:()=>MC});var Wb=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,Ff;try{Ff=fetch}catch{}function MC(e){Ff=e}async function PC(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`;return(await(await Ff(n,{redirect:"error"})).json()).names}catch{return{}}}async function Gb(e){var t;const n=e.match(Wb);if(!n)return null;const[r,i="_",o]=n;try{const s=`https://${o}/.well-known/nostr.json?name=${i}`,a=await(await Ff(s,{redirect:"error"})).json();let l=a.names[i];return l?{pubkey:l,relays:(t=a.relays)==null?void 0:t[l]}:null}catch{return null}}async function IC(e,t){let n=await Gb(t);return n?n.pubkey===e:!1}var LC={};xt(LC,{parse:()=>NC});function NC(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const r of e.tags)r[0]==="e"&&r[1]&&n.push(r),r[0]==="p"&&r[1]&&t.profiles.push({pubkey:r[1],relays:r[2]?[r[2]]:[]});for(let r=0;r<n.length;r++){const i=n[r],[o,s,a,l]=i,u={id:s,relays:a?[a]:[]},c=r===0,f=r===n.length-1;if(l==="root"){t.root=u;continue}if(l==="reply"){t.reply=u;continue}if(l==="mention"){t.mentions.push(u);continue}if(c){t.root=u;continue}if(f){t.reply=u;continue}t.mentions.push(u)}return t}var OC={};xt(OC,{fetchRelayInformation:()=>UC,useFetchImplementation:()=>jC});var Zb;try{Zb=fetch}catch{}function jC(e){Zb=e}async function UC(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var DC={};xt(DC,{getPow:()=>Yb,minePow:()=>FC});function Yb(e){let t=0;for(let n=0;n<e.length;n++){const r=parseInt(e[n],16);if(r===0)t+=4;else{t+=Math.clz32(r)-28;break}}return t}function FC(e,t){let n=0;const r=e,i=["nonce",n.toString(),t.toString()];for(r.tags.push(i);;){const o=Math.floor(new Date().getTime()/1e3);if(o!==r.created_at&&(n=0,r.created_at=o),i[1]=(++n).toString(),r.id=uc(r),Yb(r.id)>=t)break}return r}var zC={};xt(zC,{finishRepostEvent:()=>HC,getRepostedEvent:()=>KC,getRepostedEventPointer:()=>Qb});function HC(e,t,n,r){return Pr({kind:vg,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:e.content===""?"":JSON.stringify(t),created_at:e.created_at},r)}function Qb(e){if(e.kind!==vg)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function KC(e,{skipVerification:t}={}){const n=Qb(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!Nf(r)))return r}var VC={};xt(VC,{NOSTR_URI_REGEX:()=>zf,parse:()=>WC,test:()=>qC});var zf=new RegExp(`nostr:(${Kb.source})`);function qC(e){return typeof e=="string"&&new RegExp(`^${zf.source}$`).test(e)}function WC(e){const t=e.match(new RegExp(`^${zf.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:jf(t[1])}}var GC={};xt(GC,{finishReactionEvent:()=>ZC,getReactedEventPointer:()=>YC});function ZC(e,t,n){const r=t.tags.filter(i=>i.length>=2&&(i[0]==="e"||i[0]==="p"));return Pr({...e,kind:wg,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function YC(e){if(e.kind!==wg)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var QC={};xt(QC,{matchAll:()=>JC,regex:()=>Eg,replaceAll:()=>XC});var Eg=()=>new RegExp(`\\b${zf.source}\\b`,"g");function*JC(e){const t=e.matchAll(Eg());for(const n of t)try{const[r,i]=n;yield{uri:r,value:i,decoded:jf(i),start:n.index,end:n.index+r.length}}catch{}}function XC(e,t){return e.replaceAll(Eg(),(n,r)=>t({uri:n,value:r,decoded:jf(r)}))}var eT={};xt(eT,{channelCreateEvent:()=>tT,channelHideMessageEvent:()=>iT,channelMessageEvent:()=>rT,channelMetadataEvent:()=>nT,channelMuteUserEvent:()=>oT});var tT=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Pr({kind:Mb,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},nT=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Pr({kind:Pb,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},rT=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Pr({kind:Ib,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},iT=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Pr({kind:Lb,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},oT=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Pr({kind:Nb,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},sT={};xt(sT,{EMOJI_SHORTCODE_REGEX:()=>Jb,matchAll:()=>aT,regex:()=>Sg,replaceAll:()=>lT});var Jb=/:(\w+):/,Sg=()=>new RegExp(`\\B${Jb.source}\\B`,"g");function*aT(e){const t=e.matchAll(Sg());for(const n of t)try{const[r,i]=n;yield{shortcode:r,name:i,start:n.index,end:n.index+r.length}}catch{}}function lT(e,t){return e.replaceAll(Sg(),(n,r)=>t({shortcode:n,name:r}))}var uT={};xt(uT,{useFetchImplementation:()=>cT,validateGithub:()=>fT});var _g;try{_g=fetch}catch{}function cT(e){_g=e}async function fT(e,t,n){try{return await(await _g(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var dT={};xt(dT,{default:()=>yT,v2:()=>Xb});var hT=new TextDecoder,Ut={minPlaintextSize:1,maxPlaintextSize:65535,utf8Encode:ob,utf8Decode(e){return hT.decode(e)},getConversationKey(e,t){const n=ha.getSharedSecret(e,"02"+t).subarray(1,33);return Dk(yl,n,"nip44-v2")},getMessageKeys(e,t){const n=Fk(yl,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}},calcPaddedLen(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)},writeU16BE(e){if(!Number.isSafeInteger(e)||e<Ut.minPlaintextSize||e>Ut.maxPlaintextSize)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t},pad(e){const t=Ut.utf8Encode(e),n=t.length,r=Ut.writeU16BE(n),i=new Uint8Array(Ut.calcPaddedLen(n)-n);return Vc(r,t,i)},unpad(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<Ut.minPlaintextSize||t>Ut.maxPlaintextSize||n.length!==t||e.length!==2+Ut.calcPaddedLen(t))throw new Error("invalid padding");return Ut.utf8Decode(n)},hmacAad(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=Vc(n,t);return If(yl,e,r)},decodePayload(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=oi.decode(e)}catch(o){throw new Error("invalid base64: "+o.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const i=n[0];if(i!==2)throw new Error("unknown encryption version "+i);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}};function pT(e,t,n=lb(32)){const{chacha_key:r,chacha_nonce:i,hmac_key:o}=Ut.getMessageKeys(t,n),s=Ut.pad(e),a=Sb(r,i,s),l=Ut.hmacAad(o,a,n);return oi.encode(Vc(new Uint8Array([2]),n,a,l))}function gT(e,t){const{nonce:n,ciphertext:r,mac:i}=Ut.decodePayload(e),{chacha_key:o,chacha_nonce:s,hmac_key:a}=Ut.getMessageKeys(t,n),l=Ut.hmacAad(a,r,n);if(!hk(l,i))throw new Error("invalid MAC");const u=Sb(o,s,r);return Ut.unpad(u)}var Xb={utils:Ut,encrypt:pT,decrypt:gT},yT={v2:Xb},mT={};xt(mT,{makeNwcRequestEvent:()=>wT,parseConnectionString:()=>vT});function vT(e){const{pathname:t,searchParams:n}=new URL(e),r=t,i=n.get("relay"),o=n.get("secret");if(!r||!i||!o)throw new Error("invalid connection string");return{pubkey:r,relay:i,secret:o}}async function wT(e,t,n){const r=await Vb(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),i={kind:jb,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",e]]};return Pr(i,t)}var xT={};xt(xT,{getZapEndpoint:()=>ET,makeZapReceipt:()=>AT,makeZapRequest:()=>ST,useFetchImplementation:()=>bT,validateZapRequest:()=>_T});var Ag;try{Ag=fetch}catch{}function bT(e){Ag=e}async function ET(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:o}=Js.decode(n,1e3),s=Js.fromWords(o);t=qr.decode(s)}else if(r){let[o,s]=r.split("@");t=new URL(`/.well-known/lnurlp/${o}`,`https://${s}`).toString()}else return null;let i=await(await Ag(t)).json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch{}return null}function ST({profile:e,event:t,amount:n,relays:r,comment:i=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",n.toString()],["relays",...r]]};return t&&o.tags.push(["e",t]),o}function _T(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!Ab(t))return"Zap request is not a valid Nostr event.";if(!Nf(t))return"Invalid signature on zap request.";let n=t.tags.find(([i,o])=>i==="p"&&o);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([i,o])=>i==="e"&&o);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([i,o])=>i==="relays"&&o)?null:"Zap request doesn't have a 'relays' tag."}function AT({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let i=JSON.parse(e),o=i.tags.filter(([a])=>a==="e"||a==="p"||a==="a"),s={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...o,["P",i.pubkey],["bolt11",n],["description",e]]};return t&&s.tags.push(["preimage",t]),s}var kT={};xt(kT,{getToken:()=>RT,hashPayload:()=>kg,unpackEventFromToken:()=>t4,validateEvent:()=>a4,validateEventKind:()=>r4,validateEventMethodTag:()=>o4,validateEventPayloadTag:()=>s4,validateEventTimestamp:()=>n4,validateEventUrlTag:()=>i4,validateToken:()=>CT});var e4="Nostr ";async function RT(e,t,n,r=!1,i){const o={kind:xg,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};i&&o.tags.push(["payload",kg(i)]);const s=await n(o);return(r?e4:"")+oi.encode(Mr.encode(JSON.stringify(s)))}async function CT(e,t,n){const r=await t4(e).catch(i=>{throw i});return await a4(r,t,n).catch(i=>{throw i})}async function t4(e){if(!e)throw new Error("Missing token");e=e.replace(e4,"");const t=qr.decode(oi.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function n4(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function r4(e){return e.kind===xg}function i4(e,t){const n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function o4(e,t){const n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function kg(e){const t=yl(Mr.encode(JSON.stringify(e)));return an(t)}function s4(e,t){const n=e.tags.find(i=>i[0]==="payload");if(!n)return!1;const r=kg(t);return n.length>0&&n[1]===r}async function a4(e,t,n,r){if(!Nf(e))throw new Error("Invalid nostr event, signature invalid");if(!r4(e))throw new Error("Invalid nostr event, kind invalid");if(!n4(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!i4(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!o4(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!s4(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}class l4{async signEvent(t){return window.nostr.signEvent(t)}}class u4{constructor(t,n){we(this,"isConnected",!1),we(this,"clientSecretKey"),we(this,"clientPublicKey"),we(this,"connectionString"),we(this,"signerKey"),we(this,"relay"),we(this,"pool"),this.pool=new xC,this.clientSecretKey=n||Zk(),this.clientPublicKey=Yk(this.clientSecretKey);const r=new URL(t);this.connectionString=r,this.signerKey=r.hostname||r.pathname.slice(2);const i=r.searchParams.get("relay");if(!i)throw new Error("Connection String is missing relay param...");this.relay=i}async signEvent(t){if(!this.isConnected)throw new Error("Not connected to signer. Please make sure to call connect() first");return this.createSignRequest(t)}async connect(){const t=Qm(),n=JSON.stringify({id:t,method:"connect",params:[this.clientPublicKey]}),r=await nl.encrypt(this.clientSecretKey,this.signerKey,n);let i={kind:24133,tags:[["p",this.signerKey]],content:r,created_at:Math.floor(Date.now()/1e3)};const o=Pr(i,this.clientSecretKey);return await new Promise((s,a)=>{const l=setTimeout(()=>{u.close(),a("Signer request timed out...")},6e4),u=this.pool.subscribeMany([this.relay],[{authors:[this.signerKey],"#p":[this.clientPublicKey]}],{onevent:async c=>{try{const f=await nl.decrypt(this.clientSecretKey,c.pubkey,c.content),p=JSON.parse(f);p.id===t&&p.result==="ack"&&(this.isConnected=!0,u.close(),clearTimeout(l),s("yay"))}catch(f){console.log(f)}}});this.pool.publish([this.relay],o)})}async createSignRequest(t){const n=Qm(),r=JSON.stringify({id:n,method:"sign_event",params:[JSON.stringify(t)]}),i=await nl.encrypt(this.clientSecretKey,this.signerKey,r),o={kind:24133,tags:[["p",this.signerKey]],content:i,created_at:Math.floor(Date.now()/1e3)};return new Promise(async(s,a)=>{const l=setTimeout(()=>{c.close(),a("Signer request timed out...")},6e4),u=Pr(o,this.clientSecretKey),c=this.pool.subscribeMany([this.relay],[{"#p":[this.clientPublicKey],authors:[this.signerKey]}],{onevent:async f=>{const p=await nl.decrypt(this.clientSecretKey,f.pubkey,f.content),E=JSON.parse(p);!E.error&&E.result&&E.id===n&&(c.close(),clearTimeout(l),s(JSON.parse(E.result)))}});this.pool.publish([this.relay],u)})}}async function TT(){const e=localStorage.getItem("sdk-method");if(console.log(e),e==="nip07")return new Dc("https://npub.cash",new l4);if(e==="nip46"){const t=localStorage.getItem("nip46-config");if(console.log("No config found..."),!t)return;const n=JSON.parse(t),r=new u4(n.connectionString,N3(n.clientSecret));return await r.connect(),new Dc("https://npub.cash",r)}}function BT(){const[e,t]=q.useState(!1),{setSdk:n}=q.useContext(lr);return q.useEffect(()=>{async function r(){const i=await TT();console.log(i),n(i),t(!0)}r()},[n]),e?U.jsxs(U.Fragment,{children:[U.jsx("svg",{width:"0",height:"0",children:U.jsxs("linearGradient",{id:"blue-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[U.jsx("stop",{stopColor:"#a855f7",offset:"0%"}),U.jsx("stop",{stopColor:"#d946ef",offset:"100%"})]})}),U.jsx(HA,{}),U.jsx("div",{className:"flex justify-center items-start min-h-svh",children:U.jsx(Q_,{})}),U.jsx(VA,{})]}):U.jsx("p",{children:"Loading..."})}function c4({address:e,onClick:t}){return U.jsx("button",{onClick:t,className:"p-0.5 w-full bg-gradient-to-tr from-purple-500 to-pink-500 rounded",children:U.jsx("div",{className:"bg-zinc-800 px-2 py-1 rounded",children:U.jsxs("p",{className:"flex gap-4 items-center justify-between text-sm bg-gradient-to-tr from-purple-500 to-pink-500 text-transparent bg-clip-text hover:text-purple-700 active:text-purple-700",children:[e,U.jsx(IA,{style:{fill:"url(#blue-gradient)"}})]})})})}function $T({username:e}){const t=yo();return e?U.jsx(c4,{address:`${e}@npub.cash`,onClick:()=>{window.navigator.clipboard.writeText(`${e}@npub.cash`)}}):U.jsx("button",{onClick:()=>{t("/username")},className:"w-full p-0.5 bg-gradient-to-tr from-purple-500 to-pink-500 rounded",children:U.jsx("div",{className:"bg-zinc-800 px-2 py-1 rounded",children:U.jsx("p",{className:"flex gap-1 items-center text-sm bg-gradient-to-tr from-purple-500 to-pink-500 text-transparent bg-clip-text hover:text-purple-700 active:text-purple-700",children:"No username... Claim one!"})})})}function MT({info:e}){return e?U.jsxs("div",{className:"flex w-full flex-col items-center gap-2",children:[U.jsx(c4,{address:`${e.npub.slice(0,10)}...@npub.cash`,onClick:()=>{window.navigator.clipboard.writeText(`${e.npub}@npub.cash`)}}),U.jsx($T,{username:e.username})]}):U.jsx("div",{className:"p-0.5 bg-gradient-to-tr from-purple-500 to-pink-500 rounded-full",children:U.jsx("div",{className:"bg-zinc-900 px-2 py-1 rounded-full",children:U.jsx("p",{className:"flex gap-1 items-center text-xs bg-gradient-to-tr from-purple-500 to-pink-500 text-transparent bg-clip-text active:text-purple-700",children:"Loading..."})})})}function PT(){const[e,t]=q.useState(),[n,r]=q.useState(),{sdk:i}=q.useContext(lr);return q.useEffect(()=>{i&&i.getBalance().then(o=>t(o)).catch(o=>r(o))},[i]),n?U.jsx("div",{className:"p-2 bg-zinc-800 rounded w-full m-2 max-w-xl flex flex-col items-center",children:U.jsx("p",{children:"Unable to get balance..."})}):U.jsx("div",{className:"rounded w-full max-w-xl flex flex-col items-center",children:U.jsx("p",{className:"bg-gradient-to-tr from-purple-500 to-pink-500 inline-block p-2 rounded text-transparent font-bold text-3xl bg-clip-text shadow-black",children:`${e||0} ${e&&e>1?"SATS":"SAT"}`})})}function xh({icon:e,title:t,onClick:n}){return U.jsxs("button",{onClick:n,className:"flex bg-zinc-900 rounded-full items-center hover:text-purple-700 active:text-purple-700",children:[U.jsx("div",{className:"bg-gradient-to-tr text-sm from-purple-500 to-pink-500 p-2 rounded-full",children:e}),U.jsx("p",{className:"px-4 text-center",children:t})]})}function zi({text:e,onClick:t}){return U.jsx("button",{className:"px-4 py-2 bg-gradient-to-tr from-purple-500 to-pink-500 text-white rounded hover:from-purple-700 hover:to-pink-700 transition",onClick:t,children:e})}function Wc({children:e}){return U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"inset-0 bg-black opacity-80 absolute"}),U.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:U.jsx("dialog",{open:!0,className:"flex flex-col justify-center items-center p-4 rounded bg-zinc-800",children:e})})]})}const f4=()=>{q.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[])};function IT(){const[e,t]=q.useState(),[n,r]=q.useState(),[i,o]=q.useState(!0),[,s]=eg(),{sdk:a}=q.useContext(lr);f4();async function l(){if(e)try{await navigator.clipboard.writeText(e)}catch(u){console.error(u)}}return q.useEffect(()=>{a&&a.getToken().then(u=>t(u)).catch(u=>r(u.message)).finally(()=>o(!1))},[a]),i?U.jsx(Wc,{children:U.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[U.jsx("p",{className:"text-white",children:"Loading Token..."}),U.jsx(zi,{text:"Close",onClick:()=>s(void 0)})]})}):n?U.jsx(Wc,{children:U.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[U.jsx("p",{className:"text-white",children:n}),U.jsx(zi,{text:"Close",onClick:()=>s(void 0)})]})}):U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"inset-0 bg-black opacity-80 absolute"}),U.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:U.jsxs("dialog",{open:!0,className:"flex flex-col justify-center items-center p-4 rounded bg-zinc-800",children:[U.jsxs("div",{children:[U.jsx("div",{className:"max-h-64 p-2 text-sm max-w-xs lg:max-w-lg bg-zinc-700 break-words overflow-auto rounded overflow-x-hidden",children:U.jsx("p",{children:e})}),U.jsxs("div",{className:"flex gap-2 w-full justify-center my-4",children:[U.jsx(zi,{text:"Copy",onClick:l}),U.jsx("a",{className:"bg-purple-500 px-4 py-2 rounded",href:`cashu:${e}`,children:"Claim in Wallet"})]})]}),U.jsx(zi,{text:"Close",onClick:()=>s(void 0)})]})})]})}function LT(){return ho.createPortal(U.jsx(IT,{}),document.getElementById("modal"))}var d4={};(function(e){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64url=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0;function t(k){if(!Number.isSafeInteger(k))throw new Error(`Wrong integer: ${k}`)}e.assertNumber=t;function n(...k){const d=(m,x)=>$=>m(x($)),g=Array.from(k).reverse().reduce((m,x)=>m?d(m,x.encode):x.encode,void 0),C=k.reduce((m,x)=>m?d(m,x.decode):x.decode,void 0);return{encode:g,decode:C}}function r(k){return{encode:d=>{if(!Array.isArray(d)||d.length&&typeof d[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return d.map(g=>{if(t(g),g<0||g>=k.length)throw new Error(`Digit index outside alphabet: ${g} (alphabet: ${k.length})`);return k[g]})},decode:d=>{if(!Array.isArray(d)||d.length&&typeof d[0]!="string")throw new Error("alphabet.decode input should be array of strings");return d.map(g=>{if(typeof g!="string")throw new Error(`alphabet.decode: not string element=${g}`);const C=k.indexOf(g);if(C===-1)throw new Error(`Unknown letter: "${g}". Allowed: ${k}`);return C})}}}function i(k=""){if(typeof k!="string")throw new Error("join separator should be string");return{encode:d=>{if(!Array.isArray(d)||d.length&&typeof d[0]!="string")throw new Error("join.encode input should be array of strings");for(let g of d)if(typeof g!="string")throw new Error(`join.encode: non-string input=${g}`);return d.join(k)},decode:d=>{if(typeof d!="string")throw new Error("join.decode input should be string");return d.split(k)}}}function o(k,d="="){if(t(k),typeof d!="string")throw new Error("padding chr should be string");return{encode(g){if(!Array.isArray(g)||g.length&&typeof g[0]!="string")throw new Error("padding.encode input should be array of strings");for(let C of g)if(typeof C!="string")throw new Error(`padding.encode: non-string input=${C}`);for(;g.length*k%8;)g.push(d);return g},decode(g){if(!Array.isArray(g)||g.length&&typeof g[0]!="string")throw new Error("padding.encode input should be array of strings");for(let m of g)if(typeof m!="string")throw new Error(`padding.decode: non-string input=${m}`);let C=g.length;if(C*k%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;C>0&&g[C-1]===d;C--)if(!((C-1)*k%8))throw new Error("Invalid padding: string has too much padding");return g.slice(0,C)}}}function s(k){if(typeof k!="function")throw new Error("normalize fn should be function");return{encode:d=>d,decode:d=>k(d)}}function a(k,d,g){if(d<2)throw new Error(`convertRadix: wrong from=${d}, base cannot be less than 2`);if(g<2)throw new Error(`convertRadix: wrong to=${g}, base cannot be less than 2`);if(!Array.isArray(k))throw new Error("convertRadix: data should be array");if(!k.length)return[];let C=0;const m=[],x=Array.from(k);for(x.forEach($=>{if(t($),$<0||$>=d)throw new Error(`Wrong integer: ${$}`)});;){let $=0,P=!0;for(let S=C;S<x.length;S++){const h=x[S],B=d*$+h;if(!Number.isSafeInteger(B)||d*$/d!==$||B-h!==d*$)throw new Error("convertRadix: carry overflow");if($=B%g,x[S]=Math.floor(B/g),!Number.isSafeInteger(x[S])||x[S]*g+$!==B)throw new Error("convertRadix: carry overflow");if(P)x[S]?P=!1:C=S;else continue}if(m.push($),P)break}for(let $=0;$<k.length-1&&k[$]===0;$++)m.push(0);return m.reverse()}const l=(k,d)=>d?l(d,k%d):k,u=(k,d)=>k+(d-l(k,d));function c(k,d,g,C){if(!Array.isArray(k))throw new Error("convertRadix2: data should be array");if(d<=0||d>32)throw new Error(`convertRadix2: wrong from=${d}`);if(g<=0||g>32)throw new Error(`convertRadix2: wrong to=${g}`);if(u(d,g)>32)throw new Error(`convertRadix2: carry overflow from=${d} to=${g} carryBits=${u(d,g)}`);let m=0,x=0;const $=2**g-1,P=[];for(const S of k){if(t(S),S>=2**d)throw new Error(`convertRadix2: invalid data word=${S} from=${d}`);if(m=m<<d|S,x+d>32)throw new Error(`convertRadix2: carry overflow pos=${x} from=${d}`);for(x+=d;x>=g;x-=g)P.push((m>>x-g&$)>>>0);m&=2**x-1}if(m=m<<g-x&$,!C&&x>=d)throw new Error("Excess padding");if(!C&&m)throw new Error(`Non-zero padding: ${m}`);return C&&x>0&&P.push(m>>>0),P}function f(k){return t(k),{encode:d=>{if(!(d instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return a(Array.from(d),2**8,k)},decode:d=>{if(!Array.isArray(d)||d.length&&typeof d[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(a(d,k,2**8))}}}function p(k,d=!1){if(t(k),k<=0||k>32)throw new Error("radix2: bits should be in (0..32]");if(u(8,k)>32||u(k,8)>32)throw new Error("radix2: carry overflow");return{encode:g=>{if(!(g instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return c(Array.from(g),8,k,!d)},decode:g=>{if(!Array.isArray(g)||g.length&&typeof g[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(c(g,k,8,d))}}}function E(k){if(typeof k!="function")throw new Error("unsafeWrapper fn should be function");return function(...d){try{return k.apply(null,d)}catch{}}}function _(k,d){if(t(k),typeof d!="function")throw new Error("checksum fn should be function");return{encode(g){if(!(g instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const C=d(g).slice(0,k),m=new Uint8Array(g.length+k);return m.set(g),m.set(C,g.length),m},decode(g){if(!(g instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const C=g.slice(0,-k),m=d(C).slice(0,k),x=g.slice(-k);for(let $=0;$<k;$++)if(m[$]!==x[$])throw new Error("Invalid checksum");return C}}}e.utils={alphabet:r,chain:n,checksum:_,radix:f,radix2:p,join:i,padding:o},e.base16=n(p(4),r("0123456789ABCDEF"),i("")),e.base32=n(p(5),r("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o(5),i("")),e.base32hex=n(p(5),r("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o(5),i("")),e.base32crockford=n(p(5),r("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),i(""),s(k=>k.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e.base64=n(p(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o(6),i("")),e.base64url=n(p(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(6),i(""));const y=k=>n(f(58),r(k),i(""));e.base58=y("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=y("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=y("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const A=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(k){let d="";for(let g=0;g<k.length;g+=8){const C=k.subarray(g,g+8);d+=e.base58.encode(C).padStart(A[C.length],"1")}return d},decode(k){let d=[];for(let g=0;g<k.length;g+=11){const C=k.slice(g,g+11),m=A.indexOf(C.length),x=e.base58.decode(C);for(let $=0;$<x.length-m;$++)if(x[$]!==0)throw new Error("base58xmr: wrong padding");d=d.concat(Array.from(x.slice(x.length-m)))}return Uint8Array.from(d)}};const w=k=>n(_(4,d=>k(k(d))),e.base58);e.base58check=w;const R=n(r("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),i("")),T=[996825010,642813549,513874426,1027748829,705979059];function L(k){const d=k>>25;let g=(k&33554431)<<5;for(let C=0;C<T.length;C++)(d>>C&1)===1&&(g^=T[C]);return g}function j(k,d,g=1){const C=k.length;let m=1;for(let x=0;x<C;x++){const $=k.charCodeAt(x);if($<33||$>126)throw new Error(`Invalid prefix (${k})`);m=L(m)^$>>5}m=L(m);for(let x=0;x<C;x++)m=L(m)^k.charCodeAt(x)&31;for(let x of d)m=L(m)^x;for(let x=0;x<6;x++)m=L(m);return m^=g,R.encode(c([m%2**30],30,5,!1))}function M(k){const d=k==="bech32"?1:734539939,g=p(5),C=g.decode,m=g.encode,x=E(C);function $(B,z,Q=90){if(typeof B!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof B}`);if(!Array.isArray(z)||z.length&&typeof z[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof z}`);const J=B.length+7+z.length;if(Q!==!1&&J>Q)throw new TypeError(`Length ${J} exceeds limit ${Q}`);return B=B.toLowerCase(),`${B}1${R.encode(z)}${j(B,z,d)}`}function P(B,z=90){if(typeof B!="string")throw new Error(`bech32.decode input should be string, not ${typeof B}`);if(B.length<8||z!==!1&&B.length>z)throw new TypeError(`Wrong string length: ${B.length} (${B}). Expected (8..${z})`);const Q=B.toLowerCase();if(B!==Q&&B!==B.toUpperCase())throw new Error("String must be lowercase or uppercase");B=Q;const J=B.lastIndexOf("1");if(J===0||J===-1)throw new Error('Letter "1" must be present between prefix and data only');const te=B.slice(0,J),re=B.slice(J+1);if(re.length<6)throw new Error("Data must be at least 6 characters long");const ie=R.decode(re).slice(0,-6),xe=j(te,ie,d);if(!re.endsWith(xe))throw new Error(`Invalid checksum in ${B}: expected "${xe}"`);return{prefix:te,words:ie}}const S=E(P);function h(B){const{prefix:z,words:Q}=P(B,!1);return{prefix:z,words:Q,bytes:C(Q)}}return{encode:$,decode:P,decodeToBytes:h,decodeUnsafe:S,fromWords:C,fromWordsUnsafe:x,toWords:m}}e.bech32=M("bech32"),e.bech32m=M("bech32m"),e.utf8={encode:k=>new TextDecoder().decode(k),decode:k=>new TextEncoder().encode(k)},e.hex=n(p(4),r("0123456789abcdef"),i(""),s(k=>{if(typeof k!="string"||k.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof k} with length ${k.length}`);return k.toLowerCase()}));const N={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},D=`Invalid encoding type. Available types: ${Object.keys(N).join(", ")}`,K=(k,d)=>{if(typeof k!="string"||!N.hasOwnProperty(k))throw new TypeError(D);if(!(d instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return N[k].encode(d)};e.bytesToString=K,e.str=e.bytesToString;const H=(k,d)=>{if(!N.hasOwnProperty(k))throw new TypeError(D);if(typeof d!="string")throw new TypeError("stringToBytes() expects string");return N[k].decode(d)};e.stringToBytes=H,e.bytes=e.stringToBytes})(d4);const{bech32:wr,hex:rr,utf8:NT}=d4,pv={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},gv={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},yv={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},mv={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},Iu=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],OT={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},jT=BigInt("2100000000000000000"),vv=BigInt(1e11),pp={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},h4={};for(let e=0,t=Object.keys(pp);e<t.length;e++){const n=t[e],r=pp[t[e]].toString();h4[r]=n}const UT={1:e=>rr.encode(wr.fromWordsUnsafe(e)),16:e=>rr.encode(wr.fromWordsUnsafe(e)),13:e=>NT.encode(wr.fromWordsUnsafe(e)),19:e=>rr.encode(wr.fromWordsUnsafe(e)),23:e=>rr.encode(wr.fromWordsUnsafe(e)),27:e=>rr.encode(wr.fromWordsUnsafe(e)),6:Gc,24:Gc,3:FT,5:zT};function DT(e){return t=>({tagCode:parseInt(e),words:wr.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function Gc(e){return e.reverse().reduce((t,n,r)=>t+n*Math.pow(32,r),0)}function FT(e){const t=[];let n,r,i,o,s,a=wr.fromWordsUnsafe(e);for(;a.length>0;)n=rr.encode(a.slice(0,33)),r=rr.encode(a.slice(33,41)),i=parseInt(rr.encode(a.slice(41,45)),16),o=parseInt(rr.encode(a.slice(45,49)),16),s=parseInt(rr.encode(a.slice(49,51)),16),a=a.slice(51),t.push({pubkey:n,short_channel_id:r,fee_base_msat:i,fee_proportional_millionths:o,cltv_expiry_delta:s});return t}function zT(e){const t=e.slice().reverse().map(i=>[!!(i&1),!!(i&2),!!(i&4),!!(i&8),!!(i&16)]).reduce((i,o)=>i.concat(o),[]);for(;t.length<Iu.length*2;)t.push(!1);const n={};Iu.forEach((i,o)=>{let s;t[o*2]?s="required":t[o*2+1]?s="supported":s="unsupported",n[i]=s});const r=t.slice(Iu.length*2);return n.extra_bits={start_bit:Iu.length*2,bits:r,has_required:r.reduce((i,o,s)=>s%2!==0?i||!1:i||o,!1)},n}function p4(e,t){let n,r;if(e.slice(-1).match(/^[munp]$/))n=e.slice(-1),r=e.slice(0,-1);else{if(e.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");r=e}if(!r.match(/^\d+$/))throw new Error("Not a valid human readable amount");const i=BigInt(r),o=n?i*vv/OT[n]:i*vv;if(n==="p"&&i%BigInt(10)!==BigInt(0)||o>jT)throw new Error("Amount is outside of valid range");return t?o.toString():o}function HT(e,t){if(typeof e!="string")throw new Error("Lightning Payment Request must be string");if(e.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");const n=[],r=wr.decode(e,Number.MAX_SAFE_INTEGER);e=e.toLowerCase();const i=r.prefix;let o=r.words,s=e.slice(i.length+1),a=o.slice(-104);o=o.slice(0,-104);let l=i.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(l&&!l[2]&&(l=i.match(/^ln(\S+)$/)),!l)throw new Error("Not a proper lightning payment request");n.push({name:"lightning_network",letters:"ln"});const u=l[1];let c;if(t){if(t.bech32===void 0||t.pubKeyHash===void 0||t.scriptHash===void 0||!Array.isArray(t.validWitnessVersions))throw new Error("Invalid network");c=t}else switch(u){case pv.bech32:c=pv;break;case gv.bech32:c=gv;break;case yv.bech32:c=yv;break;case mv.bech32:c=mv;break}if(!c||c.bech32!==u)throw new Error("Unknown coin bech32 prefix");n.push({name:"coin_network",letters:u,value:c});const f=l[2];let p;if(f){const L=l[3];p=p4(f+L,!0),n.push({name:"amount",letters:l[2]+l[3],value:p})}else p=null;n.push({name:"separator",letters:"1"});const E=Gc(o.slice(0,7));o=o.slice(7),n.push({name:"timestamp",letters:s.slice(0,7),value:E}),s=s.slice(7);let _,y,A,w;for(;o.length>0;){const L=o[0].toString();_=h4[L]||"unknown_tag",y=UT[L]||DT(L),o=o.slice(1),A=Gc(o.slice(0,2)),o=o.slice(2),w=o.slice(0,A),o=o.slice(A),n.push({name:_,tag:s[0],letters:s.slice(0,3+A),value:y(w)}),s=s.slice(3+A)}n.push({name:"signature",letters:s.slice(0,104),value:rr.encode(wr.fromWordsUnsafe(a))}),s=s.slice(104),n.push({name:"checksum",letters:s});let R={paymentRequest:e,sections:n,get expiry(){let L=n.find(j=>j.name==="expiry");if(L)return T("timestamp")+L.value},get route_hints(){return n.filter(L=>L.name==="route_hint").map(L=>L.value)}};for(let L in pp)L!=="route_hint"&&Object.defineProperty(R,L,{get(){return T(L)}});return R;function T(L){let j=n.find(M=>M.name===L);return j?j.value:void 0}}var KT={decode:HT,hrpToMillisat:p4};function VT(e){const{sections:t}=KT.decode(e);for(let n=0;n<t.length;n++)if(t[n].name==="amount")return t[n].value/1e3}var ga={},Hf={};Hf.byteLength=GT;Hf.toByteArray=YT;Hf.fromByteArray=XT;var Er=[],Mn=[],qT=typeof Uint8Array<"u"?Uint8Array:Array,bh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var fs=0,WT=bh.length;fs<WT;++fs)Er[fs]=bh[fs],Mn[bh.charCodeAt(fs)]=fs;Mn[45]=62;Mn[95]=63;function g4(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function GT(e){var t=g4(e),n=t[0],r=t[1];return(n+r)*3/4-r}function ZT(e,t,n){return(t+n)*3/4-n}function YT(e){var t,n=g4(e),r=n[0],i=n[1],o=new qT(ZT(e,r,i)),s=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)t=Mn[e.charCodeAt(l)]<<18|Mn[e.charCodeAt(l+1)]<<12|Mn[e.charCodeAt(l+2)]<<6|Mn[e.charCodeAt(l+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=t&255;return i===2&&(t=Mn[e.charCodeAt(l)]<<2|Mn[e.charCodeAt(l+1)]>>4,o[s++]=t&255),i===1&&(t=Mn[e.charCodeAt(l)]<<10|Mn[e.charCodeAt(l+1)]<<4|Mn[e.charCodeAt(l+2)]>>2,o[s++]=t>>8&255,o[s++]=t&255),o}function QT(e){return Er[e>>18&63]+Er[e>>12&63]+Er[e>>6&63]+Er[e&63]}function JT(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(QT(r));return i.join("")}function XT(e){for(var t,n=e.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(JT(e,s,s+o>a?a:s+o));return r===1?(t=e[n-1],i.push(Er[t>>2]+Er[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Er[t>>10]+Er[t>>4&63]+Er[t<<2&63]+"=")),i.join("")}var Rg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Rg.read=function(e,t,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,u=l>>1,c=-7,f=n?i-1:0,p=n?-1:1,E=e[t+f];for(f+=p,o=E&(1<<-c)-1,E>>=-c,c+=a;c>0;o=o*256+e[t+f],f+=p,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=s*256+e[t+f],f+=p,c-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:(E?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-u}return(E?-1:1)*s*Math.pow(2,o-r)};Rg.write=function(e,t,n,r,i,o){var s,a,l,u=o*8-i-1,c=(1<<u)-1,f=c>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=r?0:o-1,_=r?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+f>=1?t+=p/l:t+=p*Math.pow(2,1-f),t*l>=2&&(s++,l/=2),s+f>=c?(a=0,s=c):s+f>=1?(a=(t*l-1)*Math.pow(2,i),s=s+f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+E]=a&255,E+=_,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+E]=s&255,E+=_,s/=256,u-=8);e[n+E-_]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Hf,n=Rg,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=R,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const I=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(I,v),I.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(I){if(I>i)throw new RangeError('The value "'+I+'" is invalid for option "size"');const v=new Uint8Array(I);return Object.setPrototypeOf(v,a.prototype),v}function a(I,v,b){if(typeof I=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(I)}return l(I,v,b)}a.poolSize=8192;function l(I,v,b){if(typeof I=="string")return p(I,v);if(ArrayBuffer.isView(I))return _(I);if(I==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I);if($e(I,ArrayBuffer)||I&&$e(I.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($e(I,SharedArrayBuffer)||I&&$e(I.buffer,SharedArrayBuffer)))return y(I,v,b);if(typeof I=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const O=I.valueOf&&I.valueOf();if(O!=null&&O!==I)return a.from(O,v,b);const F=A(I);if(F)return F;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof I[Symbol.toPrimitive]=="function")return a.from(I[Symbol.toPrimitive]("string"),v,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}a.from=function(I,v,b){return l(I,v,b)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(I){if(typeof I!="number")throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function c(I,v,b){return u(I),I<=0?s(I):v!==void 0?typeof b=="string"?s(I).fill(v,b):s(I).fill(v):s(I)}a.alloc=function(I,v,b){return c(I,v,b)};function f(I){return u(I),s(I<0?0:w(I)|0)}a.allocUnsafe=function(I){return f(I)},a.allocUnsafeSlow=function(I){return f(I)};function p(I,v){if((typeof v!="string"||v==="")&&(v="utf8"),!a.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const b=T(I,v)|0;let O=s(b);const F=O.write(I,v);return F!==b&&(O=O.slice(0,F)),O}function E(I){const v=I.length<0?0:w(I.length)|0,b=s(v);for(let O=0;O<v;O+=1)b[O]=I[O]&255;return b}function _(I){if($e(I,Uint8Array)){const v=new Uint8Array(I);return y(v.buffer,v.byteOffset,v.byteLength)}return E(I)}function y(I,v,b){if(v<0||I.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(I.byteLength<v+(b||0))throw new RangeError('"length" is outside of buffer bounds');let O;return v===void 0&&b===void 0?O=new Uint8Array(I):b===void 0?O=new Uint8Array(I,v):O=new Uint8Array(I,v,b),Object.setPrototypeOf(O,a.prototype),O}function A(I){if(a.isBuffer(I)){const v=w(I.length)|0,b=s(v);return b.length===0||I.copy(b,0,0,v),b}if(I.length!==void 0)return typeof I.length!="number"||ur(I.length)?s(0):E(I);if(I.type==="Buffer"&&Array.isArray(I.data))return E(I.data)}function w(I){if(I>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return I|0}function R(I){return+I!=I&&(I=0),a.alloc(+I)}a.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==a.prototype},a.compare=function(v,b){if($e(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),$e(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength)),!a.isBuffer(v)||!a.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===b)return 0;let O=v.length,F=b.length;for(let W=0,Z=Math.min(O,F);W<Z;++W)if(v[W]!==b[W]){O=v[W],F=b[W];break}return O<F?-1:F<O?1:0},a.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(v,b){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return a.alloc(0);let O;if(b===void 0)for(b=0,O=0;O<v.length;++O)b+=v[O].length;const F=a.allocUnsafe(b);let W=0;for(O=0;O<v.length;++O){let Z=v[O];if($e(Z,Uint8Array))W+Z.length>F.length?(a.isBuffer(Z)||(Z=a.from(Z)),Z.copy(F,W)):Uint8Array.prototype.set.call(F,Z,W);else if(a.isBuffer(Z))Z.copy(F,W);else throw new TypeError('"list" argument must be an Array of Buffers');W+=Z.length}return F};function T(I,v){if(a.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||$e(I,ArrayBuffer))return I.byteLength;if(typeof I!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);const b=I.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&b===0)return 0;let F=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return gi(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return bo(I).length;default:if(F)return O?-1:gi(I).length;v=(""+v).toLowerCase(),F=!0}}a.byteLength=T;function L(I,v,b){let O=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,v>>>=0,b<=v))return"";for(I||(I="utf8");;)switch(I){case"hex":return S(this,v,b);case"utf8":case"utf-8":return C(this,v,b);case"ascii":return $(this,v,b);case"latin1":case"binary":return P(this,v,b);case"base64":return g(this,v,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,v,b);default:if(O)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),O=!0}}a.prototype._isBuffer=!0;function j(I,v,b){const O=I[v];I[v]=I[b],I[b]=O}a.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<v;b+=2)j(this,b,b+1);return this},a.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<v;b+=4)j(this,b,b+3),j(this,b+1,b+2);return this},a.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<v;b+=8)j(this,b,b+7),j(this,b+1,b+6),j(this,b+2,b+5),j(this,b+3,b+4);return this},a.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?C(this,0,v):L.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(v){if(!a.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:a.compare(this,v)===0},a.prototype.inspect=function(){let v="";const b=e.INSPECT_MAX_BYTES;return v=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(v+=" ... "),"<Buffer "+v+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(v,b,O,F,W){if($e(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),!a.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(b===void 0&&(b=0),O===void 0&&(O=v?v.length:0),F===void 0&&(F=0),W===void 0&&(W=this.length),b<0||O>v.length||F<0||W>this.length)throw new RangeError("out of range index");if(F>=W&&b>=O)return 0;if(F>=W)return-1;if(b>=O)return 1;if(b>>>=0,O>>>=0,F>>>=0,W>>>=0,this===v)return 0;let Z=W-F,ue=O-b;const Fe=Math.min(Z,ue),ve=this.slice(F,W),be=v.slice(b,O);for(let Le=0;Le<Fe;++Le)if(ve[Le]!==be[Le]){Z=ve[Le],ue=be[Le];break}return Z<ue?-1:ue<Z?1:0};function M(I,v,b,O,F){if(I.length===0)return-1;if(typeof b=="string"?(O=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,ur(b)&&(b=F?0:I.length-1),b<0&&(b=I.length+b),b>=I.length){if(F)return-1;b=I.length-1}else if(b<0)if(F)b=0;else return-1;if(typeof v=="string"&&(v=a.from(v,O)),a.isBuffer(v))return v.length===0?-1:N(I,v,b,O,F);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(I,v,b):Uint8Array.prototype.lastIndexOf.call(I,v,b):N(I,[v],b,O,F);throw new TypeError("val must be string, number or Buffer")}function N(I,v,b,O,F){let W=1,Z=I.length,ue=v.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(I.length<2||v.length<2)return-1;W=2,Z/=2,ue/=2,b/=2}function Fe(be,Le){return W===1?be[Le]:be.readUInt16BE(Le*W)}let ve;if(F){let be=-1;for(ve=b;ve<Z;ve++)if(Fe(I,ve)===Fe(v,be===-1?0:ve-be)){if(be===-1&&(be=ve),ve-be+1===ue)return be*W}else be!==-1&&(ve-=ve-be),be=-1}else for(b+ue>Z&&(b=Z-ue),ve=b;ve>=0;ve--){let be=!0;for(let Le=0;Le<ue;Le++)if(Fe(I,ve+Le)!==Fe(v,Le)){be=!1;break}if(be)return ve}return-1}a.prototype.includes=function(v,b,O){return this.indexOf(v,b,O)!==-1},a.prototype.indexOf=function(v,b,O){return M(this,v,b,O,!0)},a.prototype.lastIndexOf=function(v,b,O){return M(this,v,b,O,!1)};function D(I,v,b,O){b=Number(b)||0;const F=I.length-b;O?(O=Number(O),O>F&&(O=F)):O=F;const W=v.length;O>W/2&&(O=W/2);let Z;for(Z=0;Z<O;++Z){const ue=parseInt(v.substr(Z*2,2),16);if(ur(ue))return Z;I[b+Z]=ue}return Z}function K(I,v,b,O){return je(gi(v,I.length-b),I,b,O)}function H(I,v,b,O){return je(Je(v),I,b,O)}function k(I,v,b,O){return je(bo(v),I,b,O)}function d(I,v,b,O){return je(Xe(v,I.length-b),I,b,O)}a.prototype.write=function(v,b,O,F){if(b===void 0)F="utf8",O=this.length,b=0;else if(O===void 0&&typeof b=="string")F=b,O=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(O)?(O=O>>>0,F===void 0&&(F="utf8")):(F=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const W=this.length-b;if((O===void 0||O>W)&&(O=W),v.length>0&&(O<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");let Z=!1;for(;;)switch(F){case"hex":return D(this,v,b,O);case"utf8":case"utf-8":return K(this,v,b,O);case"ascii":case"latin1":case"binary":return H(this,v,b,O);case"base64":return k(this,v,b,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,v,b,O);default:if(Z)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),Z=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function g(I,v,b){return v===0&&b===I.length?t.fromByteArray(I):t.fromByteArray(I.slice(v,b))}function C(I,v,b){b=Math.min(I.length,b);const O=[];let F=v;for(;F<b;){const W=I[F];let Z=null,ue=W>239?4:W>223?3:W>191?2:1;if(F+ue<=b){let Fe,ve,be,Le;switch(ue){case 1:W<128&&(Z=W);break;case 2:Fe=I[F+1],(Fe&192)===128&&(Le=(W&31)<<6|Fe&63,Le>127&&(Z=Le));break;case 3:Fe=I[F+1],ve=I[F+2],(Fe&192)===128&&(ve&192)===128&&(Le=(W&15)<<12|(Fe&63)<<6|ve&63,Le>2047&&(Le<55296||Le>57343)&&(Z=Le));break;case 4:Fe=I[F+1],ve=I[F+2],be=I[F+3],(Fe&192)===128&&(ve&192)===128&&(be&192)===128&&(Le=(W&15)<<18|(Fe&63)<<12|(ve&63)<<6|be&63,Le>65535&&Le<1114112&&(Z=Le))}}Z===null?(Z=65533,ue=1):Z>65535&&(Z-=65536,O.push(Z>>>10&1023|55296),Z=56320|Z&1023),O.push(Z),F+=ue}return x(O)}const m=4096;function x(I){const v=I.length;if(v<=m)return String.fromCharCode.apply(String,I);let b="",O=0;for(;O<v;)b+=String.fromCharCode.apply(String,I.slice(O,O+=m));return b}function $(I,v,b){let O="";b=Math.min(I.length,b);for(let F=v;F<b;++F)O+=String.fromCharCode(I[F]&127);return O}function P(I,v,b){let O="";b=Math.min(I.length,b);for(let F=v;F<b;++F)O+=String.fromCharCode(I[F]);return O}function S(I,v,b){const O=I.length;(!v||v<0)&&(v=0),(!b||b<0||b>O)&&(b=O);let F="";for(let W=v;W<b;++W)F+=Ue[I[W]];return F}function h(I,v,b){const O=I.slice(v,b);let F="";for(let W=0;W<O.length-1;W+=2)F+=String.fromCharCode(O[W]+O[W+1]*256);return F}a.prototype.slice=function(v,b){const O=this.length;v=~~v,b=b===void 0?O:~~b,v<0?(v+=O,v<0&&(v=0)):v>O&&(v=O),b<0?(b+=O,b<0&&(b=0)):b>O&&(b=O),b<v&&(b=v);const F=this.subarray(v,b);return Object.setPrototypeOf(F,a.prototype),F};function B(I,v,b){if(I%1!==0||I<0)throw new RangeError("offset is not uint");if(I+v>b)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(v,b,O){v=v>>>0,b=b>>>0,O||B(v,b,this.length);let F=this[v],W=1,Z=0;for(;++Z<b&&(W*=256);)F+=this[v+Z]*W;return F},a.prototype.readUintBE=a.prototype.readUIntBE=function(v,b,O){v=v>>>0,b=b>>>0,O||B(v,b,this.length);let F=this[v+--b],W=1;for(;b>0&&(W*=256);)F+=this[v+--b]*W;return F},a.prototype.readUint8=a.prototype.readUInt8=function(v,b){return v=v>>>0,b||B(v,1,this.length),this[v]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(v,b){return v=v>>>0,b||B(v,2,this.length),this[v]|this[v+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(v,b){return v=v>>>0,b||B(v,2,this.length),this[v]<<8|this[v+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(v,b){return v=v>>>0,b||B(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(v,b){return v=v>>>0,b||B(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},a.prototype.readBigUInt64LE=Be(function(v){v=v>>>0,fe(v,"offset");const b=this[v],O=this[v+7];(b===void 0||O===void 0)&&He(v,this.length-8);const F=b+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,W=this[++v]+this[++v]*2**8+this[++v]*2**16+O*2**24;return BigInt(F)+(BigInt(W)<<BigInt(32))}),a.prototype.readBigUInt64BE=Be(function(v){v=v>>>0,fe(v,"offset");const b=this[v],O=this[v+7];(b===void 0||O===void 0)&&He(v,this.length-8);const F=b*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],W=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+O;return(BigInt(F)<<BigInt(32))+BigInt(W)}),a.prototype.readIntLE=function(v,b,O){v=v>>>0,b=b>>>0,O||B(v,b,this.length);let F=this[v],W=1,Z=0;for(;++Z<b&&(W*=256);)F+=this[v+Z]*W;return W*=128,F>=W&&(F-=Math.pow(2,8*b)),F},a.prototype.readIntBE=function(v,b,O){v=v>>>0,b=b>>>0,O||B(v,b,this.length);let F=b,W=1,Z=this[v+--F];for(;F>0&&(W*=256);)Z+=this[v+--F]*W;return W*=128,Z>=W&&(Z-=Math.pow(2,8*b)),Z},a.prototype.readInt8=function(v,b){return v=v>>>0,b||B(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},a.prototype.readInt16LE=function(v,b){v=v>>>0,b||B(v,2,this.length);const O=this[v]|this[v+1]<<8;return O&32768?O|4294901760:O},a.prototype.readInt16BE=function(v,b){v=v>>>0,b||B(v,2,this.length);const O=this[v+1]|this[v]<<8;return O&32768?O|4294901760:O},a.prototype.readInt32LE=function(v,b){return v=v>>>0,b||B(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},a.prototype.readInt32BE=function(v,b){return v=v>>>0,b||B(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},a.prototype.readBigInt64LE=Be(function(v){v=v>>>0,fe(v,"offset");const b=this[v],O=this[v+7];(b===void 0||O===void 0)&&He(v,this.length-8);const F=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(O<<24);return(BigInt(F)<<BigInt(32))+BigInt(b+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),a.prototype.readBigInt64BE=Be(function(v){v=v>>>0,fe(v,"offset");const b=this[v],O=this[v+7];(b===void 0||O===void 0)&&He(v,this.length-8);const F=(b<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(F)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+O)}),a.prototype.readFloatLE=function(v,b){return v=v>>>0,b||B(v,4,this.length),n.read(this,v,!0,23,4)},a.prototype.readFloatBE=function(v,b){return v=v>>>0,b||B(v,4,this.length),n.read(this,v,!1,23,4)},a.prototype.readDoubleLE=function(v,b){return v=v>>>0,b||B(v,8,this.length),n.read(this,v,!0,52,8)},a.prototype.readDoubleBE=function(v,b){return v=v>>>0,b||B(v,8,this.length),n.read(this,v,!1,52,8)};function z(I,v,b,O,F,W){if(!a.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>F||v<W)throw new RangeError('"value" argument is out of bounds');if(b+O>I.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(v,b,O,F){if(v=+v,b=b>>>0,O=O>>>0,!F){const ue=Math.pow(2,8*O)-1;z(this,v,b,O,ue,0)}let W=1,Z=0;for(this[b]=v&255;++Z<O&&(W*=256);)this[b+Z]=v/W&255;return b+O},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(v,b,O,F){if(v=+v,b=b>>>0,O=O>>>0,!F){const ue=Math.pow(2,8*O)-1;z(this,v,b,O,ue,0)}let W=O-1,Z=1;for(this[b+W]=v&255;--W>=0&&(Z*=256);)this[b+W]=v/Z&255;return b+O},a.prototype.writeUint8=a.prototype.writeUInt8=function(v,b,O){return v=+v,b=b>>>0,O||z(this,v,b,1,255,0),this[b]=v&255,b+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(v,b,O){return v=+v,b=b>>>0,O||z(this,v,b,2,65535,0),this[b]=v&255,this[b+1]=v>>>8,b+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(v,b,O){return v=+v,b=b>>>0,O||z(this,v,b,2,65535,0),this[b]=v>>>8,this[b+1]=v&255,b+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(v,b,O){return v=+v,b=b>>>0,O||z(this,v,b,4,4294967295,0),this[b+3]=v>>>24,this[b+2]=v>>>16,this[b+1]=v>>>8,this[b]=v&255,b+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(v,b,O){return v=+v,b=b>>>0,O||z(this,v,b,4,4294967295,0),this[b]=v>>>24,this[b+1]=v>>>16,this[b+2]=v>>>8,this[b+3]=v&255,b+4};function Q(I,v,b,O,F){ge(v,O,F,I,b,7);let W=Number(v&BigInt(4294967295));I[b++]=W,W=W>>8,I[b++]=W,W=W>>8,I[b++]=W,W=W>>8,I[b++]=W;let Z=Number(v>>BigInt(32)&BigInt(4294967295));return I[b++]=Z,Z=Z>>8,I[b++]=Z,Z=Z>>8,I[b++]=Z,Z=Z>>8,I[b++]=Z,b}function J(I,v,b,O,F){ge(v,O,F,I,b,7);let W=Number(v&BigInt(4294967295));I[b+7]=W,W=W>>8,I[b+6]=W,W=W>>8,I[b+5]=W,W=W>>8,I[b+4]=W;let Z=Number(v>>BigInt(32)&BigInt(4294967295));return I[b+3]=Z,Z=Z>>8,I[b+2]=Z,Z=Z>>8,I[b+1]=Z,Z=Z>>8,I[b]=Z,b+8}a.prototype.writeBigUInt64LE=Be(function(v,b=0){return Q(this,v,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Be(function(v,b=0){return J(this,v,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(v,b,O,F){if(v=+v,b=b>>>0,!F){const Fe=Math.pow(2,8*O-1);z(this,v,b,O,Fe-1,-Fe)}let W=0,Z=1,ue=0;for(this[b]=v&255;++W<O&&(Z*=256);)v<0&&ue===0&&this[b+W-1]!==0&&(ue=1),this[b+W]=(v/Z>>0)-ue&255;return b+O},a.prototype.writeIntBE=function(v,b,O,F){if(v=+v,b=b>>>0,!F){const Fe=Math.pow(2,8*O-1);z(this,v,b,O,Fe-1,-Fe)}let W=O-1,Z=1,ue=0;for(this[b+W]=v&255;--W>=0&&(Z*=256);)v<0&&ue===0&&this[b+W+1]!==0&&(ue=1),this[b+W]=(v/Z>>0)-ue&255;return b+O},a.prototype.writeInt8=function(v,b,O){return v=+v,b=b>>>0,O||z(this,v,b,1,127,-128),v<0&&(v=255+v+1),this[b]=v&255,b+1},a.prototype.writeInt16LE=function(v,b,O){return v=+v,b=b>>>0,O||z(this,v,b,2,32767,-32768),this[b]=v&255,this[b+1]=v>>>8,b+2},a.prototype.writeInt16BE=function(v,b,O){return v=+v,b=b>>>0,O||z(this,v,b,2,32767,-32768),this[b]=v>>>8,this[b+1]=v&255,b+2},a.prototype.writeInt32LE=function(v,b,O){return v=+v,b=b>>>0,O||z(this,v,b,4,2147483647,-2147483648),this[b]=v&255,this[b+1]=v>>>8,this[b+2]=v>>>16,this[b+3]=v>>>24,b+4},a.prototype.writeInt32BE=function(v,b,O){return v=+v,b=b>>>0,O||z(this,v,b,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[b]=v>>>24,this[b+1]=v>>>16,this[b+2]=v>>>8,this[b+3]=v&255,b+4},a.prototype.writeBigInt64LE=Be(function(v,b=0){return Q(this,v,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Be(function(v,b=0){return J(this,v,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function te(I,v,b,O,F,W){if(b+O>I.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function re(I,v,b,O,F){return v=+v,b=b>>>0,F||te(I,v,b,4),n.write(I,v,b,O,23,4),b+4}a.prototype.writeFloatLE=function(v,b,O){return re(this,v,b,!0,O)},a.prototype.writeFloatBE=function(v,b,O){return re(this,v,b,!1,O)};function ie(I,v,b,O,F){return v=+v,b=b>>>0,F||te(I,v,b,8),n.write(I,v,b,O,52,8),b+8}a.prototype.writeDoubleLE=function(v,b,O){return ie(this,v,b,!0,O)},a.prototype.writeDoubleBE=function(v,b,O){return ie(this,v,b,!1,O)},a.prototype.copy=function(v,b,O,F){if(!a.isBuffer(v))throw new TypeError("argument should be a Buffer");if(O||(O=0),!F&&F!==0&&(F=this.length),b>=v.length&&(b=v.length),b||(b=0),F>0&&F<O&&(F=O),F===O||v.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),v.length-b<F-O&&(F=v.length-b+O);const W=F-O;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,O,F):Uint8Array.prototype.set.call(v,this.subarray(O,F),b),W},a.prototype.fill=function(v,b,O,F){if(typeof v=="string"){if(typeof b=="string"?(F=b,b=0,O=this.length):typeof O=="string"&&(F=O,O=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!a.isEncoding(F))throw new TypeError("Unknown encoding: "+F);if(v.length===1){const Z=v.charCodeAt(0);(F==="utf8"&&Z<128||F==="latin1")&&(v=Z)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(b<0||this.length<b||this.length<O)throw new RangeError("Out of range index");if(O<=b)return this;b=b>>>0,O=O===void 0?this.length:O>>>0,v||(v=0);let W;if(typeof v=="number")for(W=b;W<O;++W)this[W]=v;else{const Z=a.isBuffer(v)?v:a.from(v,F),ue=Z.length;if(ue===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(W=0;W<O-b;++W)this[W+b]=Z[W%ue]}return this};const xe={};function se(I,v,b){xe[I]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${I}]`,this.stack,delete this.name}get code(){return I}set code(F){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:F,writable:!0})}toString(){return`${this.name} [${I}]: ${this.message}`}}}se("ERR_BUFFER_OUT_OF_BOUNDS",function(I){return I?`${I} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),se("ERR_INVALID_ARG_TYPE",function(I,v){return`The "${I}" argument must be of type number. Received type ${typeof v}`},TypeError),se("ERR_OUT_OF_RANGE",function(I,v,b){let O=`The value of "${I}" is out of range.`,F=b;return Number.isInteger(b)&&Math.abs(b)>2**32?F=me(String(b)):typeof b=="bigint"&&(F=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(F=me(F)),F+="n"),O+=` It must be ${v}. Received ${F}`,O},RangeError);function me(I){let v="",b=I.length;const O=I[0]==="-"?1:0;for(;b>=O+4;b-=3)v=`_${I.slice(b-3,b)}${v}`;return`${I.slice(0,b)}${v}`}function ze(I,v,b){fe(v,"offset"),(I[v]===void 0||I[v+b]===void 0)&&He(v,I.length-(b+1))}function ge(I,v,b,O,F,W){if(I>b||I<v){const Z=typeof v=="bigint"?"n":"";let ue;throw W>3?v===0||v===BigInt(0)?ue=`>= 0${Z} and < 2${Z} ** ${(W+1)*8}${Z}`:ue=`>= -(2${Z} ** ${(W+1)*8-1}${Z}) and < 2 ** ${(W+1)*8-1}${Z}`:ue=`>= ${v}${Z} and <= ${b}${Z}`,new xe.ERR_OUT_OF_RANGE("value",ue,I)}ze(O,F,W)}function fe(I,v){if(typeof I!="number")throw new xe.ERR_INVALID_ARG_TYPE(v,"number",I)}function He(I,v,b){throw Math.floor(I)!==I?(fe(I,b),new xe.ERR_OUT_OF_RANGE(b||"offset","an integer",I)):v<0?new xe.ERR_BUFFER_OUT_OF_BOUNDS:new xe.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${v}`,I)}const ke=/[^+/0-9A-Za-z-_]/g;function Me(I){if(I=I.split("=")[0],I=I.trim().replace(ke,""),I.length<2)return"";for(;I.length%4!==0;)I=I+"=";return I}function gi(I,v){v=v||1/0;let b;const O=I.length;let F=null;const W=[];for(let Z=0;Z<O;++Z){if(b=I.charCodeAt(Z),b>55295&&b<57344){if(!F){if(b>56319){(v-=3)>-1&&W.push(239,191,189);continue}else if(Z+1===O){(v-=3)>-1&&W.push(239,191,189);continue}F=b;continue}if(b<56320){(v-=3)>-1&&W.push(239,191,189),F=b;continue}b=(F-55296<<10|b-56320)+65536}else F&&(v-=3)>-1&&W.push(239,191,189);if(F=null,b<128){if((v-=1)<0)break;W.push(b)}else if(b<2048){if((v-=2)<0)break;W.push(b>>6|192,b&63|128)}else if(b<65536){if((v-=3)<0)break;W.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((v-=4)<0)break;W.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return W}function Je(I){const v=[];for(let b=0;b<I.length;++b)v.push(I.charCodeAt(b)&255);return v}function Xe(I,v){let b,O,F;const W=[];for(let Z=0;Z<I.length&&!((v-=2)<0);++Z)b=I.charCodeAt(Z),O=b>>8,F=b%256,W.push(F),W.push(O);return W}function bo(I){return t.toByteArray(Me(I))}function je(I,v,b,O){let F;for(F=0;F<O&&!(F+b>=v.length||F>=I.length);++F)v[F+b]=I[F];return F}function $e(I,v){return I instanceof v||I!=null&&I.constructor!=null&&I.constructor.name!=null&&I.constructor.name===v.name}function ur(I){return I!==I}const Ue=function(){const I="0123456789abcdef",v=new Array(256);for(let b=0;b<16;++b){const O=b*16;for(let F=0;F<16;++F)v[O+F]=I[b]+I[F]}return v}();function Be(I){return typeof BigInt>"u"?Eo:I}function Eo(){throw new Error("BigInt not supported")}})(ga);function y4(e){return ga.Buffer.from(e).toString("base64")}function eB(e){return ga.Buffer.from(e,"base64")}function tB(e){var t=JSON.stringify(e);return iB(ga.Buffer.from(t).toString("base64"))}function nB(e){var t=ga.Buffer.from(rB(e),"base64").toString(),n=JSON.parse(t);return n}function rB(e){return e.replace(/-/g,"+").replace(/_/g,"/")}function iB(e){return e.replace(/\+/g,"-").replace(/\//g,"_").split("=")[0]}var oB="A",sB="cashu";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const m4=BigInt(0),Kf=BigInt(1),aB=BigInt(2);function Ir(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}const lB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function oo(e){if(!Ir(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=lB[e[n]];return t}function v4(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Vf(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const Ur={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function wv(e){if(e>=Ur._0&&e<=Ur._9)return e-Ur._0;if(e>=Ur._A&&e<=Ur._F)return e-(Ur._A-10);if(e>=Ur._a&&e<=Ur._f)return e-(Ur._a-10)}function ea(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=wv(e.charCodeAt(o)),a=wv(e.charCodeAt(o+1));if(s===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function Qo(e){return Vf(oo(e))}function Cg(e){if(!Ir(e))throw new Error("Uint8Array expected");return Vf(oo(Uint8Array.from(e).reverse()))}function ta(e,t){return ea(e.toString(16).padStart(t*2,"0"))}function Tg(e,t){return ta(e,t).reverse()}function uB(e){return ea(v4(e))}function Xn(e,t,n){let r;if(typeof t=="string")try{r=ea(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(Ir(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function Hl(...e){let t=0;for(let i=0;i<e.length;i++){const o=e[i];if(!Ir(o))throw new Error("Uint8Array expected");t+=o.length}let n=new Uint8Array(t),r=0;for(let i=0;i<e.length;i++){const o=e[i];n.set(o,r),r+=o.length}return n}function cB(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function fB(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function dB(e){let t;for(t=0;e>m4;e>>=Kf,t+=1);return t}function hB(e,t){return e>>BigInt(t)&Kf}const pB=(e,t,n)=>e|(n?Kf:m4)<<BigInt(t),Bg=e=>(aB<<BigInt(e-1))-Kf,Eh=e=>new Uint8Array(e),xv=e=>Uint8Array.from(e);function w4(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Eh(e),i=Eh(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...f)=>n(i,r,...f),l=(f=Eh())=>{i=a(xv([0]),f),r=a(),f.length!==0&&(i=a(xv([1]),f),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<t;){r=a();const E=r.slice();p.push(E),f+=r.length}return Hl(...p)};return(f,p)=>{s(),l(f);let E;for(;!(E=p(u()));)l();return s(),E}}const gB={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Ir(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function ou(e,t,n={}){const r=(i,o,s)=>{const a=gB[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=e[i];if(!(s&&l===void 0)&&!a(l,e))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}const yB=Object.freeze(Object.defineProperty({__proto__:null,bitGet:hB,bitLen:dB,bitMask:Bg,bitSet:pB,bytesToHex:oo,bytesToNumberBE:Qo,bytesToNumberLE:Cg,concatBytes:Hl,createHmacDrbg:w4,ensureBytes:Xn,equalBytes:cB,hexToBytes:ea,hexToNumber:Vf,isBytes:Ir,numberToBytesBE:ta,numberToBytesLE:Tg,numberToHexUnpadded:v4,numberToVarBytesBE:uB,utf8ToBytes:fB,validateObject:ou},Symbol.toStringTag,{value:"Module"}));function ml(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function mB(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Io(e,...t){if(!mB(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function x4(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ml(e.outputLen),ml(e.blockLen)}function Zc(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function vB(e,t){Io(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}function wB(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,u=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+u,a,r)}let $g=class extends j3{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Yo(this.buffer)}update(t){Zc(this);const{view:n,buffer:r,blockLen:i}=this;t=Dl(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Yo(t);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Zc(this),vB(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let f=s;f<i;f++)n[f]=0;wB(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Yo(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,c[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%n&&t.buffer.set(r),t}};const xB=(e,t,n)=>e&t^~e&n,bB=(e,t,n)=>e&t^e&n^t&n,EB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Si=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_i=new Uint32Array(64);let SB=class extends $g{constructor(){super(64,32,8,!1),this.A=Si[0]|0,this.B=Si[1]|0,this.C=Si[2]|0,this.D=Si[3]|0,this.E=Si[4]|0,this.F=Si[5]|0,this.G=Si[6]|0,this.H=Si[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[t,n,r,i,o,s,a,l]}set(t,n,r,i,o,s,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)_i[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const p=_i[f-15],E=_i[f-2],_=dr(p,7)^dr(p,18)^p>>>3,y=dr(E,17)^dr(E,19)^E>>>10;_i[f]=y+_i[f-7]+_+_i[f-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:u,H:c}=this;for(let f=0;f<64;f++){const p=dr(a,6)^dr(a,11)^dr(a,25),E=c+p+xB(a,l,u)+EB[f]+_i[f]|0,y=(dr(r,2)^dr(r,13)^dr(r,22))+bB(r,i,o)|0;c=u,u=l,l=a,a=s+E|0,s=o,o=i,i=r,r=E+y|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,i,o,s,a,l,u,c)}roundClean(){_i.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const na=ng(()=>new SB);var Yc=function(){return Yc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Yc.apply(this,arguments)},bv=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};function b4(e,t){var n=[];t&&(n.push.apply(n,AB(e,t)),e=e-n.reduce(function(o,s){return o+s},0));for(var r=0;r<32;r++){var i=1<<r;e&i&&n.push(Math.pow(2,r))}return n}function _B(e){return e&&!(e&e-1)}function AB(e,t){var n=[],r=0;return t.forEach(function(i){if(!_B(i.amount))throw new Error("Provided amount preferences contain non-power-of-2 numbers. Use only ^2 numbers");for(var o=1;o<=i.count;o++){if(r+=i.amount,r>e)return;n.push(i.amount)}}),n}function kB(e){var t=b4(e);return t.map(function(n){return{amount:n,count:1}})}function Mg(e){return RB(oo(e))}function RB(e){return BigInt("0x".concat(e))}function CB(e){return sB+oB+tB(e)}function gp(e){var t=["web+cashu://","cashu://","cashu:","cashuA"];return t.forEach(function(n){e.startsWith(n)&&(e=e.slice(n.length))}),TB(e)}function TB(e){var t,n,r=nB(e);return"token"in r?r:Array.isArray(r)?{token:[{proofs:r,mint:""}]}:{token:[{proofs:r.proofs,mint:(n=(t=r==null?void 0:r.mints[0])===null||t===void 0?void 0:t.url)!==null&&n!==void 0?n:""}]}}function Lu(e){var t=Object.entries(e).sort(function(r,i){return+r[0]-+i[0]}).map(function(r){var i=r[1];return i}).join(""),n=na(new TextEncoder().encode(t));return ga.Buffer.from(n).toString("base64").slice(0,12)}function BB(e){for(var t,n,r={},i=0,o=e.token;i<o.length;i++){var s=o[i];if(!(!(!((n=s==null?void 0:s.proofs)===null||n===void 0)&&n.length)||!(s!=null&&s.mint))){if(r[s.mint]){(t=r[s.mint].proofs).push.apply(t,bv([],s.proofs,!0));continue}r[s.mint]={mint:s.mint,proofs:bv([],s.proofs,!0)}}}return{memo:e==null?void 0:e.memo,token:Object.values(r).map(function(a){return Yc(Yc({},a),{proofs:$B(a.proofs)})})}}function $B(e){return e.sort(function(t,n){return t.id.localeCompare(n.id)})}function Bo(e){return typeof e=="object"}function MB(e){if(Bo(e)){if("error"in e&&e.error)throw new Error(e.error);if("detail"in e&&e.detail)throw new Error(e.detail)}}function Zn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map(function(n){return n.replace(/(^\/+|\/+$)/g,"")}).join("/")}var Jo=function(){return Jo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Jo.apply(this,arguments)},E4=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})},S4=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},PB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},IB={};function LB(e){var t=e.endpoint,n=e.requestBody,r=e.headers,i=PB(e,["endpoint","requestBody","headers"]);return E4(this,void 0,void 0,function(){var o,s,a,l,u,c,f;return S4(this,function(p){switch(p.label){case 0:return o=n?JSON.stringify(n):void 0,s=Jo(Jo({Accept:"application/json, text/plain, */*"},o?{"Content-Type":"application/json"}:void 0),r),[4,fetch(t,Jo({body:o,headers:s},i))];case 1:return a=p.sent(),a.ok?[3,3]:[4,a.json()];case 2:throw l=p.sent(),u=l.error,c=l.detail,f=u||c||"bad response",new Error(f);case 3:return[2,a]}})})}function gr(e){return E4(this,void 0,void 0,function(){var t,n;return S4(this,function(r){switch(r.label){case 0:return[4,LB(Jo(Jo({},e),IB))];case 1:return t=r.sent(),[4,t.json().catch(function(){return{error:"bad response"}})];case 2:return n=r.sent(),MB(n),[2,n]}})})}var St=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})},_t=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},yp=function(){function e(t){this._mintUrl=t}return Object.defineProperty(e.prototype,"mintUrl",{get:function(){return this._mintUrl},enumerable:!1,configurable:!0}),e.getInfo=function(t){return St(this,void 0,void 0,function(){return _t(this,function(n){return[2,gr({endpoint:Zn(t,"info")})]})})},e.prototype.getInfo=function(){return St(this,void 0,void 0,function(){return _t(this,function(t){return[2,e.getInfo(this._mintUrl)]})})},e.requestMint=function(t,n){return St(this,void 0,void 0,function(){return _t(this,function(r){return[2,gr({endpoint:"".concat(Zn(t,"mint"),"?amount=").concat(n)})]})})},e.prototype.requestMint=function(t){return St(this,void 0,void 0,function(){return _t(this,function(n){return[2,e.requestMint(this._mintUrl,t)]})})},e.mint=function(t,n,r){return St(this,void 0,void 0,function(){var i;return _t(this,function(o){switch(o.label){case 0:return[4,gr({endpoint:"".concat(Zn(t,"mint"),"?hash=").concat(r),method:"POST",requestBody:n})];case 1:if(i=o.sent(),!Bo(i)||!Array.isArray(i==null?void 0:i.promises))throw new Error("bad response");return[2,i]}})})},e.prototype.mint=function(t,n){return St(this,void 0,void 0,function(){return _t(this,function(r){return[2,e.mint(this._mintUrl,t,n)]})})},e.getKeys=function(t,n){return St(this,void 0,void 0,function(){return _t(this,function(r){return n&&(n=n.replace(/\//g,"_").replace(/\+/g,"-")),[2,gr({endpoint:n?Zn(t,"keys",n):Zn(t,"keys")})]})})},e.prototype.getKeys=function(t){return St(this,void 0,void 0,function(){return _t(this,function(n){return[2,e.getKeys(this._mintUrl,t)]})})},e.getKeySets=function(t){return St(this,void 0,void 0,function(){return _t(this,function(n){return[2,gr({endpoint:Zn(t,"keysets")})]})})},e.prototype.getKeySets=function(){return St(this,void 0,void 0,function(){return _t(this,function(t){return[2,e.getKeySets(this._mintUrl)]})})},e.split=function(t,n){return St(this,void 0,void 0,function(){var r;return _t(this,function(i){switch(i.label){case 0:return[4,gr({endpoint:Zn(t,"split"),method:"POST",requestBody:n})];case 1:if(r=i.sent(),!Bo(r)||!Array.isArray(r==null?void 0:r.promises))throw new Error("bad response");return[2,r]}})})},e.prototype.split=function(t){return St(this,void 0,void 0,function(){return _t(this,function(n){return[2,e.split(this._mintUrl,t)]})})},e.melt=function(t,n){return St(this,void 0,void 0,function(){var r;return _t(this,function(i){switch(i.label){case 0:return[4,gr({endpoint:Zn(t,"melt"),method:"POST",requestBody:n})];case 1:if(r=i.sent(),!Bo(r)||typeof(r==null?void 0:r.paid)!="boolean"||(r==null?void 0:r.preimage)!==null&&typeof(r==null?void 0:r.preimage)!="string")throw new Error("bad response");return[2,r]}})})},e.prototype.melt=function(t){return St(this,void 0,void 0,function(){return _t(this,function(n){return[2,e.melt(this._mintUrl,t)]})})},e.checkFees=function(t,n){return St(this,void 0,void 0,function(){var r;return _t(this,function(i){switch(i.label){case 0:return[4,gr({endpoint:Zn(t,"checkfees"),method:"POST",requestBody:n})];case 1:if(r=i.sent(),!Bo(r)||typeof(r==null?void 0:r.fee)!="number")throw new Error("bad response");return[2,r]}})})},e.prototype.checkFees=function(t){return St(this,void 0,void 0,function(){return _t(this,function(n){return[2,e.checkFees(this._mintUrl,t)]})})},e.check=function(t,n){return St(this,void 0,void 0,function(){var r;return _t(this,function(i){switch(i.label){case 0:return[4,gr({endpoint:Zn(t,"check"),method:"POST",requestBody:n})];case 1:if(r=i.sent(),!Bo(r)||!Array.isArray(r==null?void 0:r.spendable))throw new Error("bad response");return[2,r]}})})},e.prototype.check=function(t){return St(this,void 0,void 0,function(){return _t(this,function(n){return[2,e.check(this._mintUrl,t)]})})},e.restore=function(t,n){return St(this,void 0,void 0,function(){var r;return _t(this,function(i){switch(i.label){case 0:return[4,gr({endpoint:Zn(t,"restore"),method:"POST",requestBody:n})];case 1:if(r=i.sent(),!Bo(r)||!Array.isArray(r==null?void 0:r.outputs)||!Array.isArray(r==null?void 0:r.promises))throw new Error("bad response");return[2,r]}})})},e.prototype.restore=function(t){return St(this,void 0,void 0,function(){return _t(this,function(n){return[2,e.restore(this._mintUrl,t)]})})},e}();/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $t=BigInt(0),yt=BigInt(1),Lo=BigInt(2),NB=BigInt(3),mp=BigInt(4),Ev=BigInt(5),Sv=BigInt(8);BigInt(9);BigInt(16);function en(e,t){const n=e%t;return n>=$t?n:t+n}function OB(e,t,n){if(n<=$t||t<$t)throw new Error("Expected power/modulo > 0");if(n===yt)return $t;let r=yt;for(;t>$t;)t&yt&&(r=r*e%n),e=e*e%n,t>>=yt;return r}function Cn(e,t,n){let r=e;for(;t-- >$t;)r*=r,r%=n;return r}function vp(e,t){if(e===$t||t<=$t)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=en(e,t),r=t,i=$t,o=yt;for(;n!==$t;){const a=r/n,l=r%n,u=i-o*a;r=n,n=l,i=o,o=u}if(r!==yt)throw new Error("invert: does not exist");return en(i,t)}function jB(e){const t=(e-yt)/Lo;let n,r,i;for(n=e-yt,r=0;n%Lo===$t;n/=Lo,r++);for(i=Lo;i<e&&OB(i,t,e)!==e-yt;i++);if(r===1){const s=(e+yt)/mp;return function(l,u){const c=l.pow(u,s);if(!l.eql(l.sqr(c),u))throw new Error("Cannot find square root");return c}}const o=(n+yt)/Lo;return function(a,l){if(a.pow(l,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,c=a.pow(a.mul(a.ONE,i),n),f=a.pow(l,o),p=a.pow(l,n);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let E=1;for(let y=a.sqr(p);E<u&&!a.eql(y,a.ONE);E++)y=a.sqr(y);const _=a.pow(c,yt<<BigInt(u-E-1));c=a.sqr(_),f=a.mul(f,_),p=a.mul(p,c),u=E}return f}}function UB(e){if(e%mp===NB){const t=(e+yt)/mp;return function(r,i){const o=r.pow(i,t);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%Sv===Ev){const t=(e-Ev)/Sv;return function(r,i){const o=r.mul(i,Lo),s=r.pow(o,t),a=r.mul(i,s),l=r.mul(r.mul(a,Lo),s),u=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return jB(e)}const DB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function FB(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=DB.reduce((r,i)=>(r[i]="function",r),t);return ou(e,n)}function zB(e,t,n){if(n<$t)throw new Error("Expected power > 0");if(n===$t)return e.ONE;if(n===yt)return t;let r=e.ONE,i=t;for(;n>$t;)n&yt&&(r=e.mul(r,i)),i=e.sqr(i),n>>=yt;return r}function HB(e,t){const n=new Array(t.length),r=t.reduce((o,s,a)=>e.is0(s)?o:(n[a]=o,e.mul(o,s)),e.ONE),i=e.inv(r);return t.reduceRight((o,s,a)=>e.is0(s)?o:(n[a]=e.mul(o,n[a]),e.mul(o,s)),i),n}function _4(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function KB(e,t,n=!1,r={}){if(e<=$t)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=_4(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=UB(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:Bg(i),ZERO:$t,ONE:yt,create:l=>en(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return $t<=l&&l<e},is0:l=>l===$t,isOdd:l=>(l&yt)===yt,neg:l=>en(-l,e),eql:(l,u)=>l===u,sqr:l=>en(l*l,e),add:(l,u)=>en(l+u,e),sub:(l,u)=>en(l-u,e),mul:(l,u)=>en(l*u,e),pow:(l,u)=>zB(a,l,u),div:(l,u)=>en(l*vp(u,e),e),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>vp(l,e),sqrt:r.sqrt||(l=>s(a,l)),invertBatch:l=>HB(a,l),cmov:(l,u,c)=>c?u:l,toBytes:l=>n?Tg(l,o):ta(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?Cg(l):Qo(l)}});return Object.freeze(a)}function A4(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function k4(e){const t=A4(e);return t+Math.ceil(t/2)}function VB(e,t,n=!1){const r=e.length,i=A4(t),o=k4(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=n?Qo(e):Cg(e),a=en(s,t-yt)+yt;return n?Tg(a,i):ta(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qB=BigInt(0),Sh=BigInt(1);function WB(e,t){const n=(i,o)=>{const s=o.negate();return i?s:o},r=i=>{const o=Math.ceil(t/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:n,unsafeLadder(i,o){let s=e.ZERO,a=i;for(;o>qB;)o&Sh&&(s=s.add(a)),a=a.double(),o>>=Sh;return s},precomputeWindow(i,o){const{windows:s,windowSize:a}=r(o),l=[];let u=i,c=u;for(let f=0;f<s;f++){c=u,l.push(c);for(let p=1;p<a;p++)c=c.add(u),l.push(c);u=c.double()}return l},wNAF(i,o,s){const{windows:a,windowSize:l}=r(i);let u=e.ZERO,c=e.BASE;const f=BigInt(2**i-1),p=2**i,E=BigInt(i);for(let _=0;_<a;_++){const y=_*l;let A=Number(s&f);s>>=E,A>l&&(A-=p,s+=Sh);const w=y,R=y+Math.abs(A)-1,T=_%2!==0,L=A<0;A===0?c=c.add(n(T,o[w])):u=u.add(n(L,o[R]))}return{p:u,f:c}},wNAFCached(i,o,s,a){const l=i._WINDOW_SIZE||1;let u=o.get(i);return u||(u=this.precomputeWindow(i,l),l!==1&&o.set(i,a(u))),this.wNAF(l,u,s)}}}function R4(e){return FB(e.Fp),ou(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({..._4(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function GB(e){const t=R4(e);ou(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:ZB,hexToBytes:YB}=yB,Vo={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Vo;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:ZB(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Vo,n=typeof e=="string"?YB(e):e;if(!Ir(n))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=Vo._parseInt(n.subarray(2)),{d:s,l:a}=Vo._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const c=u.toString(16);return c.length&1?`0${c}`:c},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,s=i.length/2,a=n(o),l=n(s);return`30${n(s+o+4)}02${l}${i}02${a}${r}`}},Wr=BigInt(0),Nn=BigInt(1);BigInt(2);const _v=BigInt(3);BigInt(4);function QB(e){const t=GB(e),{Fp:n}=t,r=t.toBytes||((_,y,A)=>{const w=y.toAffine();return Hl(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),i=t.fromBytes||(_=>{const y=_.subarray(1),A=n.fromBytes(y.subarray(0,n.BYTES)),w=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:A,y:w}});function o(_){const{a:y,b:A}=t,w=n.sqr(_),R=n.mul(w,_);return n.add(n.add(R,n.mul(_,y)),A)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(_){return typeof _=="bigint"&&Wr<_&&_<t.n}function a(_){if(!s(_))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(_){const{allowedPrivateKeyLengths:y,nByteLength:A,wrapPrivateKey:w,n:R}=t;if(y&&typeof _!="bigint"){if(Ir(_)&&(_=oo(_)),typeof _!="string"||!y.includes(_.length))throw new Error("Invalid key");_=_.padStart(A*2,"0")}let T;try{T=typeof _=="bigint"?_:Qo(Xn("private key",_,A))}catch{throw new Error(`private key must be ${A} bytes, hex or bigint, not ${typeof _}`)}return w&&(T=en(T,R)),a(T),T}const u=new Map;function c(_){if(!(_ instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(y,A,w){if(this.px=y,this.py=A,this.pz=w,y==null||!n.isValid(y))throw new Error("x required");if(A==null||!n.isValid(A))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required")}static fromAffine(y){const{x:A,y:w}=y||{};if(!y||!n.isValid(A)||!n.isValid(w))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const R=T=>n.eql(T,n.ZERO);return R(A)&&R(w)?f.ZERO:new f(A,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const A=n.invertBatch(y.map(w=>w.pz));return y.map((w,R)=>w.toAffine(A[R])).map(f.fromAffine)}static fromHex(y){const A=f.fromAffine(i(Xn("pointHex",y)));return A.assertValidity(),A}static fromPrivateKey(y){return f.BASE.multiply(l(y))}_setWindowSize(y){this._WINDOW_SIZE=y,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:A}=this.toAffine();if(!n.isValid(y)||!n.isValid(A))throw new Error("bad point: x or y not FE");const w=n.sqr(A),R=o(y);if(!n.eql(w,R))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){c(y);const{px:A,py:w,pz:R}=this,{px:T,py:L,pz:j}=y,M=n.eql(n.mul(A,j),n.mul(T,R)),N=n.eql(n.mul(w,j),n.mul(L,R));return M&&N}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:A}=t,w=n.mul(A,_v),{px:R,py:T,pz:L}=this;let j=n.ZERO,M=n.ZERO,N=n.ZERO,D=n.mul(R,R),K=n.mul(T,T),H=n.mul(L,L),k=n.mul(R,T);return k=n.add(k,k),N=n.mul(R,L),N=n.add(N,N),j=n.mul(y,N),M=n.mul(w,H),M=n.add(j,M),j=n.sub(K,M),M=n.add(K,M),M=n.mul(j,M),j=n.mul(k,j),N=n.mul(w,N),H=n.mul(y,H),k=n.sub(D,H),k=n.mul(y,k),k=n.add(k,N),N=n.add(D,D),D=n.add(N,D),D=n.add(D,H),D=n.mul(D,k),M=n.add(M,D),H=n.mul(T,L),H=n.add(H,H),D=n.mul(H,k),j=n.sub(j,D),N=n.mul(H,K),N=n.add(N,N),N=n.add(N,N),new f(j,M,N)}add(y){c(y);const{px:A,py:w,pz:R}=this,{px:T,py:L,pz:j}=y;let M=n.ZERO,N=n.ZERO,D=n.ZERO;const K=t.a,H=n.mul(t.b,_v);let k=n.mul(A,T),d=n.mul(w,L),g=n.mul(R,j),C=n.add(A,w),m=n.add(T,L);C=n.mul(C,m),m=n.add(k,d),C=n.sub(C,m),m=n.add(A,R);let x=n.add(T,j);return m=n.mul(m,x),x=n.add(k,g),m=n.sub(m,x),x=n.add(w,R),M=n.add(L,j),x=n.mul(x,M),M=n.add(d,g),x=n.sub(x,M),D=n.mul(K,m),M=n.mul(H,g),D=n.add(M,D),M=n.sub(d,D),D=n.add(d,D),N=n.mul(M,D),d=n.add(k,k),d=n.add(d,k),g=n.mul(K,g),m=n.mul(H,m),d=n.add(d,g),g=n.sub(k,g),g=n.mul(K,g),m=n.add(m,g),k=n.mul(d,m),N=n.add(N,k),k=n.mul(x,m),M=n.mul(C,M),M=n.sub(M,k),k=n.mul(C,d),D=n.mul(x,D),D=n.add(D,k),new f(M,N,D)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return E.wNAFCached(this,u,y,A=>{const w=n.invertBatch(A.map(R=>R.pz));return A.map((R,T)=>R.toAffine(w[T])).map(f.fromAffine)})}multiplyUnsafe(y){const A=f.ZERO;if(y===Wr)return A;if(a(y),y===Nn)return this;const{endo:w}=t;if(!w)return E.unsafeLadder(this,y);let{k1neg:R,k1:T,k2neg:L,k2:j}=w.splitScalar(y),M=A,N=A,D=this;for(;T>Wr||j>Wr;)T&Nn&&(M=M.add(D)),j&Nn&&(N=N.add(D)),D=D.double(),T>>=Nn,j>>=Nn;return R&&(M=M.negate()),L&&(N=N.negate()),N=new f(n.mul(N.px,w.beta),N.py,N.pz),M.add(N)}multiply(y){a(y);let A=y,w,R;const{endo:T}=t;if(T){const{k1neg:L,k1:j,k2neg:M,k2:N}=T.splitScalar(A);let{p:D,f:K}=this.wNAF(j),{p:H,f:k}=this.wNAF(N);D=E.constTimeNegate(L,D),H=E.constTimeNegate(M,H),H=new f(n.mul(H.px,T.beta),H.py,H.pz),w=D.add(H),R=K.add(k)}else{const{p:L,f:j}=this.wNAF(A);w=L,R=j}return f.normalizeZ([w,R])[0]}multiplyAndAddUnsafe(y,A,w){const R=f.BASE,T=(j,M)=>M===Wr||M===Nn||!j.equals(R)?j.multiplyUnsafe(M):j.multiply(M),L=T(this,A).add(T(y,w));return L.is0()?void 0:L}toAffine(y){const{px:A,py:w,pz:R}=this,T=this.is0();y==null&&(y=T?n.ONE:n.inv(R));const L=n.mul(A,y),j=n.mul(w,y),M=n.mul(R,y);if(T)return{x:n.ZERO,y:n.ZERO};if(!n.eql(M,n.ONE))throw new Error("invZ was invalid");return{x:L,y:j}}isTorsionFree(){const{h:y,isTorsionFree:A}=t;if(y===Nn)return!0;if(A)return A(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:A}=t;return y===Nn?this:A?A(f,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return this.assertValidity(),r(f,this,y)}toHex(y=!0){return oo(this.toRawBytes(y))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const p=t.nBitLength,E=WB(f,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function JB(e){const t=R4(e);return ou(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function XB(e){const t=JB(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(m){return Wr<m&&m<n.ORDER}function a(m){return en(m,r)}function l(m){return vp(m,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:p}=QB({...t,toBytes(m,x,$){const P=x.toAffine(),S=n.toBytes(P.x),h=Hl;return $?h(Uint8Array.from([x.hasEvenY()?2:3]),S):h(Uint8Array.from([4]),S,n.toBytes(P.y))},fromBytes(m){const x=m.length,$=m[0],P=m.subarray(1);if(x===i&&($===2||$===3)){const S=Qo(P);if(!s(S))throw new Error("Point is not on curve");const h=f(S);let B=n.sqrt(h);const z=(B&Nn)===Nn;return($&1)===1!==z&&(B=n.neg(B)),{x:S,y:B}}else if(x===o&&$===4){const S=n.fromBytes(P.subarray(0,n.BYTES)),h=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:S,y:h}}else throw new Error(`Point of length ${x} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),E=m=>oo(ta(m,t.nByteLength));function _(m){const x=r>>Nn;return m>x}function y(m){return _(m)?a(-m):m}const A=(m,x,$)=>Qo(m.slice(x,$));class w{constructor(x,$,P){this.r=x,this.s=$,this.recovery=P,this.assertValidity()}static fromCompact(x){const $=t.nByteLength;return x=Xn("compactSignature",x,$*2),new w(A(x,0,$),A(x,$,2*$))}static fromDER(x){const{r:$,s:P}=Vo.toSig(Xn("DER",x));return new w($,P)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(x){return new w(this.r,this.s,x)}recoverPublicKey(x){const{r:$,s:P,recovery:S}=this,h=N(Xn("msgHash",x));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");const B=S===2||S===3?$+t.n:$;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const z=S&1?"03":"02",Q=u.fromHex(z+E(B)),J=l(B),te=a(-h*J),re=a(P*J),ie=u.BASE.multiplyAndAddUnsafe(Q,te,re);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ea(this.toDERHex())}toDERHex(){return Vo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ea(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}const R={isValidPrivateKey(m){try{return c(m),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const m=k4(t.n);return VB(t.randomBytes(m),t.n)},precompute(m=8,x=u.BASE){return x._setWindowSize(m),x.multiply(BigInt(3)),x}};function T(m,x=!0){return u.fromPrivateKey(m).toRawBytes(x)}function L(m){const x=Ir(m),$=typeof m=="string",P=(x||$)&&m.length;return x?P===i||P===o:$?P===2*i||P===2*o:m instanceof u}function j(m,x,$=!0){if(L(m))throw new Error("first arg must be private key");if(!L(x))throw new Error("second arg must be public key");return u.fromHex(x).multiply(c(m)).toRawBytes($)}const M=t.bits2int||function(m){const x=Qo(m),$=m.length*8-t.nBitLength;return $>0?x>>BigInt($):x},N=t.bits2int_modN||function(m){return a(M(m))},D=Bg(t.nBitLength);function K(m){if(typeof m!="bigint")throw new Error("bigint expected");if(!(Wr<=m&&m<D))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ta(m,t.nByteLength)}function H(m,x,$=k){if(["recovered","canonical"].some(se=>se in $))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:S}=t;let{lowS:h,prehash:B,extraEntropy:z}=$;h==null&&(h=!0),m=Xn("msgHash",m),B&&(m=Xn("prehashed msgHash",P(m)));const Q=N(m),J=c(x),te=[K(J),K(Q)];if(z!=null){const se=z===!0?S(n.BYTES):z;te.push(Xn("extraEntropy",se))}const re=Hl(...te),ie=Q;function xe(se){const me=M(se);if(!p(me))return;const ze=l(me),ge=u.BASE.multiply(me).toAffine(),fe=a(ge.x);if(fe===Wr)return;const He=a(ze*a(ie+fe*J));if(He===Wr)return;let ke=(ge.x===fe?0:2)|Number(ge.y&Nn),Me=He;return h&&_(He)&&(Me=y(He),ke^=1),new w(fe,Me,ke)}return{seed:re,k2sig:xe}}const k={lowS:t.lowS,prehash:!1},d={lowS:t.lowS,prehash:!1};function g(m,x,$=k){const{seed:P,k2sig:S}=H(m,x,$),h=t;return w4(h.hash.outputLen,h.nByteLength,h.hmac)(P,S)}u.BASE._setWindowSize(8);function C(m,x,$,P=d){var ge;const S=m;if(x=Xn("msgHash",x),$=Xn("publicKey",$),"strict"in P)throw new Error("options.strict was renamed to lowS");const{lowS:h,prehash:B}=P;let z,Q;try{if(typeof S=="string"||Ir(S))try{z=w.fromDER(S)}catch(fe){if(!(fe instanceof Vo.Err))throw fe;z=w.fromCompact(S)}else if(typeof S=="object"&&typeof S.r=="bigint"&&typeof S.s=="bigint"){const{r:fe,s:He}=S;z=new w(fe,He)}else throw new Error("PARSE");Q=u.fromHex($)}catch(fe){if(fe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(h&&z.hasHighS())return!1;B&&(x=t.hash(x));const{r:J,s:te}=z,re=N(x),ie=l(te),xe=a(re*ie),se=a(J*ie),me=(ge=u.BASE.multiplyAndAddUnsafe(Q,xe,se))==null?void 0:ge.toAffine();return me?a(me.x)===J:!1}return{CURVE:t,getPublicKey:T,getSharedSecret:j,sign:g,verify:C,ProjectivePoint:u,Signature:w,utils:R}}let C4=class extends j3{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,x4(t);const r=Dl(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return Zc(this),this.iHash.update(t),this}digestInto(t){Zc(this),Io(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Kl=(e,t,n)=>new C4(e,t).update(n).digest();Kl.create=(e,t)=>new C4(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function e$(e){return{hash:e,hmac:(t,...n)=>Kl(e,t,tl(...n)),randomBytes:U3}}function t$(e,t){const n=r=>XB({...e,...e$(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const T4=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Av=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),n$=BigInt(1),wp=BigInt(2),kv=(e,t)=>(e+t/wp)/t;function r$(e){const t=T4,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),u=e*e*e%t,c=u*u*e%t,f=Cn(c,n,t)*c%t,p=Cn(f,n,t)*c%t,E=Cn(p,wp,t)*u%t,_=Cn(E,i,t)*E%t,y=Cn(_,o,t)*_%t,A=Cn(y,a,t)*y%t,w=Cn(A,l,t)*A%t,R=Cn(w,a,t)*y%t,T=Cn(R,n,t)*c%t,L=Cn(T,s,t)*_%t,j=Cn(L,r,t)*u%t,M=Cn(j,wp,t);if(!xp.eql(xp.sqr(M),e))throw new Error("Cannot find square root");return M}const xp=KB(T4,void 0,void 0,{sqrt:r$}),mn=t$({a:BigInt(0),b:BigInt(7),Fp:xp,n:Av,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Av,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-n$*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=kv(o*e,t),l=kv(-r*e,t);let u=en(e-a*n-l*i,t),c=en(-a*r-l*o,t);const f=u>s,p=c>s;if(f&&(u=t-u),p&&(c=t-c),u>s||c>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:p,k2:c}}}},na);BigInt(0);mn.ProjectivePoint;function B4(e){for(var t;!t;){var n=na(e),r=oo(n),i="02"+r;try{t=Qc(i)}catch{e=na(e)}}return t}function Qc(e){return mn.ProjectivePoint.fromHex(e)}function $4(e,t){var n=y4(e),r=new TextEncoder().encode(n),i=B4(r);t||(t=Mg(mn.utils.randomPrivateKey()));var o=mn.ProjectivePoint.BASE.multiply(t),s=i.add(o);return{B_:s,r:t}}function M4(e,t,n){var r=e.subtract(n.multiply(t));return r}function i$(e,t,n,r){return e.map(function(i,o){var s=Qc(i.C_),a=Qc(r[i.amount]),l=M4(s,t[o],a),u={id:i.id,amount:i.amount,secret:y4(n[o]),C:l.toHex(!0)};return u})}const Ka=Object.freeze(Object.defineProperty({__proto__:null,blindMessage:$4,constructProofs:i$,hashToCurve:B4,pointFromHex:Qc,unblindSignature:M4},Symbol.toStringTag,{value:"Module"}));var o$=function(){function e(t,n){this.amount=t,this.B_=n}return e.prototype.getSerializedBlindedMessage=function(){return{amount:this.amount,B_:this.B_.toHex(!0)}},e}();const s$=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),P4=Uint8Array.from({length:16},(e,t)=>t),a$=P4.map(e=>(9*e+5)%16);let Pg=[P4],Ig=[a$];for(let e=0;e<4;e++)for(let t of[Pg,Ig])t.push(t[e].map(n=>s$[n]));const I4=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),l$=Pg.map((e,t)=>e.map(n=>I4[t][n])),u$=Ig.map((e,t)=>e.map(n=>I4[t][n])),c$=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),f$=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Nu=(e,t)=>e<<t|e>>>32-t;function Rv(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const Ou=new Uint32Array(16);class d$ extends $g{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:i,h4:o}=this;return[t,n,r,i,o]}set(t,n,r,i,o){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=i|0,this.h4=o|0}process(t,n){for(let E=0;E<16;E++,n+=4)Ou[E]=t.getUint32(n,!0);let r=this.h0|0,i=r,o=this.h1|0,s=o,a=this.h2|0,l=a,u=this.h3|0,c=u,f=this.h4|0,p=f;for(let E=0;E<5;E++){const _=4-E,y=c$[E],A=f$[E],w=Pg[E],R=Ig[E],T=l$[E],L=u$[E];for(let j=0;j<16;j++){const M=Nu(r+Rv(E,o,a,u)+Ou[w[j]]+y,T[j])+f|0;r=f,f=u,u=Nu(a,10)|0,a=o,o=M}for(let j=0;j<16;j++){const M=Nu(i+Rv(_,s,l,c)+Ou[R[j]]+A,L[j])+p|0;i=p,p=c,c=Nu(l,10)|0,l=s,s=M}}this.set(this.h1+a+c|0,this.h2+u+p|0,this.h3+f+i|0,this.h4+r+s|0,this.h0+o+l|0)}roundClean(){Ou.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const h$=ng(()=>new d$),ju=BigInt(2**32-1),bp=BigInt(32);function L4(e,t=!1){return t?{h:Number(e&ju),l:Number(e>>bp&ju)}:{h:Number(e>>bp&ju)|0,l:Number(e&ju)|0}}function p$(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=L4(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const g$=(e,t)=>BigInt(e>>>0)<<bp|BigInt(t>>>0),y$=(e,t,n)=>e>>>n,m$=(e,t,n)=>e<<32-n|t>>>n,v$=(e,t,n)=>e>>>n|t<<32-n,w$=(e,t,n)=>e<<32-n|t>>>n,x$=(e,t,n)=>e<<64-n|t>>>n-32,b$=(e,t,n)=>e>>>n-32|t<<64-n,E$=(e,t)=>t,S$=(e,t)=>e,_$=(e,t,n)=>e<<n|t>>>32-n,A$=(e,t,n)=>t<<n|e>>>32-n,k$=(e,t,n)=>t<<n-32|e>>>64-n,R$=(e,t,n)=>e<<n-32|t>>>64-n;function C$(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const T$=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),B$=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,$$=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),M$=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,P$=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),I$=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,Ae={fromBig:L4,split:p$,toBig:g$,shrSH:y$,shrSL:m$,rotrSH:v$,rotrSL:w$,rotrBH:x$,rotrBL:b$,rotr32H:E$,rotr32L:S$,rotlSH:_$,rotlSL:A$,rotlBH:k$,rotlBL:R$,add:C$,add3L:T$,add3H:B$,add4L:$$,add4H:M$,add5H:I$,add5L:P$},[L$,N$]=Ae.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Ai=new Uint32Array(80),ki=new Uint32Array(80);class O$ extends $g{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:u,El:c,Fh:f,Fl:p,Gh:E,Gl:_,Hh:y,Hl:A}=this;return[t,n,r,i,o,s,a,l,u,c,f,p,E,_,y,A]}set(t,n,r,i,o,s,a,l,u,c,f,p,E,_,y,A){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=c|0,this.Fh=f|0,this.Fl=p|0,this.Gh=E|0,this.Gl=_|0,this.Hh=y|0,this.Hl=A|0}process(t,n){for(let T=0;T<16;T++,n+=4)Ai[T]=t.getUint32(n),ki[T]=t.getUint32(n+=4);for(let T=16;T<80;T++){const L=Ai[T-15]|0,j=ki[T-15]|0,M=Ae.rotrSH(L,j,1)^Ae.rotrSH(L,j,8)^Ae.shrSH(L,j,7),N=Ae.rotrSL(L,j,1)^Ae.rotrSL(L,j,8)^Ae.shrSL(L,j,7),D=Ai[T-2]|0,K=ki[T-2]|0,H=Ae.rotrSH(D,K,19)^Ae.rotrBH(D,K,61)^Ae.shrSH(D,K,6),k=Ae.rotrSL(D,K,19)^Ae.rotrBL(D,K,61)^Ae.shrSL(D,K,6),d=Ae.add4L(N,k,ki[T-7],ki[T-16]),g=Ae.add4H(d,M,H,Ai[T-7],Ai[T-16]);Ai[T]=g|0,ki[T]=d|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:u,Dl:c,Eh:f,El:p,Fh:E,Fl:_,Gh:y,Gl:A,Hh:w,Hl:R}=this;for(let T=0;T<80;T++){const L=Ae.rotrSH(f,p,14)^Ae.rotrSH(f,p,18)^Ae.rotrBH(f,p,41),j=Ae.rotrSL(f,p,14)^Ae.rotrSL(f,p,18)^Ae.rotrBL(f,p,41),M=f&E^~f&y,N=p&_^~p&A,D=Ae.add5L(R,j,N,N$[T],ki[T]),K=Ae.add5H(D,w,L,M,L$[T],Ai[T]),H=D|0,k=Ae.rotrSH(r,i,28)^Ae.rotrBH(r,i,34)^Ae.rotrBH(r,i,39),d=Ae.rotrSL(r,i,28)^Ae.rotrBL(r,i,34)^Ae.rotrBL(r,i,39),g=r&o^r&a^o&a,C=i&s^i&l^s&l;w=y|0,R=A|0,y=E|0,A=_|0,E=f|0,_=p|0,{h:f,l:p}=Ae.add(u|0,c|0,K|0,H|0),u=a|0,c=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const m=Ae.add3L(H,d,C);r=Ae.add3H(m,K,k,g),i=m|0}({h:r,l:i}=Ae.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Ae.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=Ae.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:c}=Ae.add(this.Dh|0,this.Dl|0,u|0,c|0),{h:f,l:p}=Ae.add(this.Eh|0,this.El|0,f|0,p|0),{h:E,l:_}=Ae.add(this.Fh|0,this.Fl|0,E|0,_|0),{h:y,l:A}=Ae.add(this.Gh|0,this.Gl|0,y|0,A|0),{h:w,l:R}=Ae.add(this.Hh|0,this.Hl|0,w|0,R|0),this.set(r,i,o,s,a,l,u,c,f,p,E,_,y,A,w,R)}roundClean(){Ai.fill(0),ki.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Ep=ng(()=>new O$);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Sp(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function N4(...e){const t=o=>o,n=(o,s)=>a=>o(s(a)),r=e.map(o=>o.encode).reduceRight(n,t),i=e.map(o=>o.decode).reduce(n,t);return{encode:r,decode:i}}function j$(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function U$(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function Cv(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],o=Array.from(e);for(o.forEach(s=>{if(s<0||s>=t)throw new Error(`Wrong integer: ${s}`)});;){let s=0,a=!0;for(let l=r;l<o.length;l++){const u=o[l],c=t*s+u;if(!Number.isSafeInteger(c)||t*s/t!==s||c-u!==t*s)throw new Error("convertRadix: carry overflow");s=c%n;const f=Math.floor(c/n);if(o[l]=f,!Number.isSafeInteger(f)||f*n+s!==c)throw new Error("convertRadix: carry overflow");if(a)f?a=!1:r=l;else continue}if(i.push(s),a)break}for(let s=0;s<e.length-1&&e[s]===0;s++)i.push(0);return i.reverse()}function D$(e){return{encode:t=>{if(!Sp(t))throw new Error("radix.encode input should be Uint8Array");return Cv(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(Cv(t,e,2**8))}}}function F$(e,t){if(typeof t!="function")throw new Error("checksum fn should be function");return{encode(n){if(!Sp(n))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),i=new Uint8Array(n.length+e);return i.set(n),i.set(r,n.length),i},decode(n){if(!Sp(n))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),i=t(r).slice(0,e),o=n.slice(-e);for(let s=0;s<e;s++)if(i[s]!==o[s])throw new Error("Invalid checksum");return r}}}const z$=e=>N4(D$(58),j$(e),U$("")),H$=z$("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),K$=e=>N4(F$(4,t=>e(e(t))),H$);/*! scure-bip32 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const Uu=mn.ProjectivePoint,_h=K$(na);function Tv(e){return BigInt(`0x${L3(e)}`)}function V$(e){return N3(e.toString(16).padStart(64,"0"))}const q$=O3("Bitcoin seed"),Ah={private:76066276,public:76067358},kh=2147483648,W$=e=>h$(na(e)),G$=e=>Yo(e).getUint32(0,!1),Du=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return Yo(t).setUint32(0,e,!1),t};class No{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return G$(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const t=this.privateKey;if(!t)throw new Error("No private key");return _h.encode(this.serialize(this.versions.private,tl(new Uint8Array([0]),t)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return _h.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(t,n=Ah){if(Io(t),8*t.length<128||8*t.length>512)throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const r=Kl(Ep,q$,t);return new No({versions:n,chainCode:r.slice(32),privateKey:r.slice(0,32)})}static fromExtendedKey(t,n=Ah){const r=_h.decode(t),i=Yo(r),o=i.getUint32(0,!1),s={versions:n,depth:r[4],parentFingerprint:i.getUint32(5,!1),index:i.getUint32(9,!1),chainCode:r.slice(13,45)},a=r.slice(45),l=a[0]===0;if(o!==n[l?"private":"public"])throw new Error("Version mismatch");return l?new No({...s,privateKey:a.slice(1)}):new No({...s,publicKey:a})}static fromJSON(t){return No.fromExtendedKey(t.xpriv)}constructor(t){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!t||typeof t!="object")throw new Error("HDKey.constructor must not be called directly");if(this.versions=t.versions||Ah,this.depth=t.depth||0,this.chainCode=t.chainCode,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(t.publicKey&&t.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(t.privateKey){if(!mn.utils.isValidPrivateKey(t.privateKey))throw new Error("Invalid private key");this.privKey=typeof t.privateKey=="bigint"?t.privateKey:Tv(t.privateKey),this.privKeyBytes=V$(this.privKey),this.pubKey=mn.getPublicKey(t.privateKey,!0)}else if(t.publicKey)this.pubKey=Uu.fromHex(t.publicKey).toRawBytes(!0);else throw new Error("HDKey: no public or private key provided");this.pubHash=W$(this.pubKey)}derive(t){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;const n=t.replace(/^[mM]'?\//,"").split("/");let r=this;for(const i of n){const o=/^(\d+)('?)$/.exec(i),s=o&&o[1];if(!o||o.length!==3||typeof s!="string")throw new Error(`Invalid child index: ${i}`);let a=+s;if(!Number.isSafeInteger(a)||a>=kh)throw new Error("Invalid index");o[2]==="'"&&(a+=kh),r=r.deriveChild(a)}return r}deriveChild(t){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let n=Du(t);if(t>=kh){const a=this.privateKey;if(!a)throw new Error("Could not derive hardened child key");n=tl(new Uint8Array([0]),a,n)}else n=tl(this.pubKey,n);const r=Kl(Ep,this.chainCode,n),i=Tv(r.slice(0,32)),o=r.slice(32);if(!mn.utils.isValidPrivateKey(i))throw new Error("Tweak bigger than curve order");const s={versions:this.versions,chainCode:o,depth:this.depth+1,parentFingerprint:this.fingerprint,index:t};try{if(this.privateKey){const a=en(this.privKey+i,mn.CURVE.n);if(!mn.utils.isValidPrivateKey(a))throw new Error("The tweak was out of range or the resulted private key is invalid");s.privateKey=a}else{const a=Uu.fromHex(this.pubKey).add(Uu.fromPrivateKey(i));if(a.equals(Uu.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");s.publicKey=a.toRawBytes(!0)}return new No(s)}catch{return this.deriveChild(t+1)}}sign(t){if(!this.privateKey)throw new Error("No privateKey set!");return Io(t,32),mn.sign(t,this.privKey).toCompactRawBytes()}verify(t,n){if(Io(t,32),Io(n,64),!this.publicKey)throw new Error("No publicKey set!");let r;try{r=mn.Signature.fromCompact(n)}catch{return!1}return mn.verify(r,t,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(t,n){if(!this.chainCode)throw new Error("No chainCode set");return Io(n,33),tl(Du(t),new Uint8Array([this.depth]),Du(this.parentFingerprint),Du(this.index),this.chainCode,n)}}function Z$(e,t,n,r){x4(e);const i=ZA({dkLen:32,asyncTick:10},r),{c:o,dkLen:s,asyncTick:a}=i;if(ml(o),ml(s),ml(a),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=Dl(t),u=Dl(n),c=new Uint8Array(s),f=Kl.create(e,l),p=f._cloneInto().update(u);return{c:o,dkLen:s,asyncTick:a,DK:c,PRF:f,PRFSalt:p}}function Y$(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}function Q$(e,t,n,r){const{c:i,dkLen:o,DK:s,PRF:a,PRFSalt:l}=Z$(e,t,n,r);let u;const c=new Uint8Array(4),f=Yo(c),p=new Uint8Array(a.outputLen);for(let E=1,_=0;_<o;E++,_+=a.outputLen){const y=s.subarray(_,_+a.outputLen);f.setInt32(0,E,!1),(u=l._cloneInto(u)).update(c).digestInto(p),y.set(p.subarray(0,y.length));for(let A=1;A<i;A++){a._cloneInto(u).update(p).digestInto(p);for(let w=0;w<y.length;w++)y[w]^=p[w]}}return Y$(a,l,s,u,p)}/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */function O4(e){if(typeof e!="string")throw new TypeError(`Invalid mnemonic type: ${typeof e}`);return e.normalize("NFKD")}function J$(e){const t=O4(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}const X$=e=>O4(`mnemonic${e}`);function eM(e,t=""){return Q$(Ep,J$(e).nfkd,X$(t),{c:2048,dkLen:64})}var tM=function(e){var t=eM(e);return t},nM=function(e,t,n){return j4(e,t,n,0)},rM=function(e,t,n){return j4(e,t,n,1)},j4=function(e,t,n,r){var i=No.fromMasterSeed(e),o=iM(t),s="m/129372'/0'/".concat(o,"'/").concat(n,"'/").concat(r),a=i.derive(s);if(a.privateKey===null)throw new Error("Could not derive private key");return a.privateKey},iM=function(e){var t;return/^[a-fA-F0-9]+$/.test(e)?t=Vf(e)%BigInt(Math.pow(2,31)-1):t=Mg(eB(e))%BigInt(Math.pow(2,31)-1),t},Jc=function(){return Jc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Jc.apply(this,arguments)},Yn=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})},Qn=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},sn=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},oM=function(){function e(t,n,r){this._keysetId="",this._keys=n||{},this.mint=t,n&&(this._keysetId=Lu(this._keys)),r&&(this._seed=tM(r))}return Object.defineProperty(e.prototype,"keys",{get:function(){return this._keys},set:function(t){this._keys=t,this._keysetId=Lu(this._keys)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keysetId",{get:function(){return this._keysetId},enumerable:!1,configurable:!0}),e.prototype.checkProofsSpent=function(t){return Yn(this,void 0,void 0,function(){var n,r;return Qn(this,function(i){switch(i.label){case 0:return n={proofs:t.map(function(o){return{secret:o.secret}})},[4,this.mint.check(n)];case 1:return r=i.sent().spendable,[2,t.filter(function(o,s){return!r[s]})]}})})},e.prototype.requestMint=function(t){return this.mint.requestMint(t)},e.prototype.payLnInvoice=function(t,n,r,i){var o;return Yn(this,void 0,void 0,function(){var s,a,l,u,c,f,p,E,_,y,A;return Qn(this,function(w){switch(w.label){case 0:return s=this.createPaymentPayload(t,n),r?[3,2]:[4,this.getFee(t)];case 1:r=w.sent(),w.label=2;case 2:return a=this.createBlankOutputs(r,i),l=a.blindedMessages,u=a.secrets,c=a.rs,[4,this.mint.melt(Jc(Jc({},s),{outputs:l}))];case 3:return f=w.sent(),A={isPaid:(o=f.paid)!==null&&o!==void 0?o:!1,preimage:f.preimage},f!=null&&f.change?(_=(E=Ka).constructProofs,y=[f.change,c,u],[4,this.getKeys(f.change)]):[3,5];case 4:return p=_.apply(E,y.concat([w.sent()])),[3,6];case 5:p=[],w.label=6;case 6:return A.change=p,[4,this.changedKeys(f==null?void 0:f.change)];case 7:return[2,(A.newKeys=w.sent(),A)]}})})},e.prototype.getFee=function(t){return Yn(this,void 0,void 0,function(){var n;return Qn(this,function(r){switch(r.label){case 0:return[4,this.mint.checkFees({pr:t})];case 1:return n=r.sent().fee,[2,n]}})})},e.prototype.createPaymentPayload=function(t,n){return{pr:t,proofs:n}},e.prototype.payLnInvoiceWithToken=function(t,n,r){var i=this,o=gp(n),s=o.token.filter(function(a){return a.mint===i.mint.mintUrl}).flatMap(function(a){return a.proofs});return this.payLnInvoice(t,s,void 0,r)},e.prototype.receive=function(t,n,r){var i;return Yn(this,void 0,void 0,function(){var o,s,a,l,u,c,f,p,E,_,y,A;return Qn(this,function(w){switch(w.label){case 0:o=BB(gp(t)).token,s=[],a=[],u=0,c=o,w.label=1;case 1:if(!(u<c.length))return[3,6];if(f=c[u],!(!((i=f==null?void 0:f.proofs)===null||i===void 0)&&i.length))return[3,5];w.label=2;case 2:return w.trys.push([2,4,,5]),[4,this.receiveTokenEntry(f,n,r)];case 3:return p=w.sent(),E=p.proofsWithError,_=p.proofs,y=p.newKeys,E!=null&&E.length?(a.push(f),[3,5]):(s.push({mint:f.mint,proofs:sn([],_,!0)}),l||(l=y),[3,5]);case 4:return A=w.sent(),console.error(A),a.push(f),[3,5];case 5:return u++,[3,1];case 6:return[2,{token:{token:s},tokensWithErrors:a.length?{token:a}:void 0,newKeys:l}]}})})},e.prototype.receiveTokenEntry=function(t,n,r){return Yn(this,void 0,void 0,function(){var i,o,s,a,l,u,c,f,p,E,_,y,A,w,R;return Qn(this,function(T){switch(T.label){case 0:i=[],o=[],T.label=1;case 1:return T.trys.push([1,7,,8]),a=t.proofs.reduce(function(L,j){return L+j.amount},0),n||(n=kB(a)),l=this.createSplitPayload(a,t.proofs,n,r),u=l.payload,c=l.blindedMessages,[4,yp.split(t.mint,u)];case 2:return f=T.sent(),p=f.promises,f.error,y=(_=Ka).constructProofs,A=[p,c.rs,c.secrets],[4,this.getKeys(p,t.mint)];case 3:return E=y.apply(_,A.concat([T.sent()])),o.push.apply(o,E),t.mint!==this.mint.mintUrl?[3,5]:[4,this.changedKeys(sn([],p||[],!0))];case 4:return w=T.sent(),[3,6];case 5:w=void 0,T.label=6;case 6:return s=w,[3,8];case 7:return R=T.sent(),console.error(R),i.push.apply(i,t.proofs),[3,8];case 8:return[2,{proofs:o,proofsWithError:i.length?i:void 0,newKeys:s}]}})})},e.prototype.send=function(t,n,r,i){return Yn(this,void 0,void 0,function(){var o,s,a,l,u,c,f,p,E,_,y,A,w,R,T,L,j,M;return Qn(this,function(N){switch(N.label){case 0:if(r&&(t=r==null?void 0:r.reduce(function(D,K){return D+K.amount*K.count},0)),o=0,s=[],a=[],n.forEach(function(D){if(o>=t){a.push(D);return}o=o+D.amount,s.push(D)}),t>o)throw new Error("Not enough funds available");return t<o||r?(l=this.splitReceive(t,o),u=l.amountKeep,c=l.amountSend,f=this.createSplitPayload(c,s,r,i),p=f.payload,E=f.blindedMessages,[4,this.mint.split(p)]):[3,4];case 1:return _=N.sent().promises,w=(A=Ka).constructProofs,R=[_,E.rs,E.secrets],[4,this.getKeys(_)];case 2:return y=w.apply(A,R.concat([N.sent()])),T=[],L=[],j=0,y.forEach(function(D){if(j<u){j+=D.amount,T.push(D);return}L.push(D)}),M={returnChange:sn(sn([],T,!0),a,!0),send:L},[4,this.changedKeys(sn([],_||[],!0))];case 3:return[2,(M.newKeys=N.sent(),M)];case 4:return[2,{returnChange:a,send:s}]}})})},e.prototype.requestTokens=function(t,n,r,i){return Yn(this,void 0,void 0,function(){var o,s,a,l,u,c,f,p,E,_;return Qn(this,function(y){switch(y.label){case 0:return o=this.createRandomBlindedMessages(t,r,i),s=o.blindedMessages,a=o.secrets,l=o.rs,u={outputs:s},[4,this.mint.mint(u,n)];case 1:return c=y.sent().promises,_={},p=(f=Ka).constructProofs,E=[c,l,a],[4,this.getKeys(c)];case 2:return _.proofs=p.apply(f,E.concat([y.sent()])),[4,this.changedKeys(c)];case 3:return[2,(_.newKeys=y.sent(),_)]}})})},e.prototype.restore=function(t,n,r){return n===void 0&&(n=0),Yn(this,void 0,void 0,function(){var i,o,s,a,l,u,c,f,p,E,_,y,A,w;return Qn(this,function(R){switch(R.label){case 0:if(!this._seed)throw new Error("CashuWallet must be initialized with mnemonic to use restore");return i=Array(t).fill(0),o=this.createBlindedMessages(i,n,r),s=o.blindedMessages,a=o.rs,l=o.secrets,[4,this.mint.restore({outputs:s})];case 1:return u=R.sent(),c=u.outputs,f=u.promises,p=a.filter(function(T,L){return c.map(function(j){return j.B_}).includes(s[L].B_)}),E=l.filter(function(T,L){return c.map(function(j){return j.B_}).includes(s[L].B_)}),w={},y=(_=Ka).constructProofs,A=[f,p,E],[4,this.getKeys(f)];case 2:return w.proofs=y.apply(_,A.concat([R.sent()])),[4,this.changedKeys(f)];case 3:return[2,(w.newKeys=R.sent(),w)]}})})},e.prototype.initKeys=function(){return Yn(this,void 0,void 0,function(){var t;return Qn(this,function(n){switch(n.label){case 0:return!this.keysetId||!Object.keys(this.keys).length?(t=this,[4,this.mint.getKeys()]):[3,2];case 1:t.keys=n.sent(),this._keysetId=Lu(this.keys),n.label=2;case 2:return[2]}})})},e.prototype.changedKeys=function(t){return t===void 0&&(t=[]),Yn(this,void 0,void 0,function(){var n,r,i=this;return Qn(this,function(o){switch(o.label){case 0:return[4,this.initKeys()];case 1:return o.sent(),t!=null&&t.length?t.some(function(s){return s.id!==i.keysetId})?[4,this.mint.getKeys()]:[2,void 0]:[2,void 0];case 2:return n=o.sent(),r=Lu(n),[2,r===this.keysetId?void 0:n]}})})},e.prototype.getKeys=function(t,n){var r;return Yn(this,void 0,void 0,function(){var i,o,s;return Qn(this,function(a){switch(a.label){case 0:return[4,this.initKeys()];case 1:return a.sent(),!(t!=null&&t.length)||!(!((r=t[0])===null||r===void 0)&&r.id)?[2,this.keys]:(i=t[0].id,this.keysetId===i?[2,this.keys]:!n||n===this.mint.mintUrl?[4,this.mint.getKeys(t[0].id)]:[3,3]);case 2:return s=a.sent(),[3,5];case 3:return[4,yp.getKeys(n,t[0].id)];case 4:s=a.sent(),a.label=5;case 5:return o=s,[2,o]}})})},e.prototype.createSplitPayload=function(t,n,r,i){var o=n.reduce(function(c,f){return c+f.amount},0),s=this.createRandomBlindedMessages(o-t,void 0,i);this._seed&&i&&(i=i+s.secrets.length);var a=this.createRandomBlindedMessages(t,r,i),l={blindedMessages:sn(sn([],s.blindedMessages,!0),a.blindedMessages,!0),secrets:sn(sn([],s.secrets,!0),a.secrets,!0),rs:sn(sn([],s.rs,!0),a.rs,!0),amounts:sn(sn([],s.amounts,!0),a.amounts,!0)},u={proofs:n,outputs:sn([],l.blindedMessages,!0)};return{payload:u,blindedMessages:l}},e.prototype.splitReceive=function(t,n){var r=n-t,i=t;return{amountKeep:r,amountSend:i}},e.prototype.createRandomBlindedMessages=function(t,n,r){var i=b4(t,n);return this.createBlindedMessages(i,r)},e.prototype.createBlindedMessages=function(t,n,r){for(var i=[],o=[],s=[],a=0;a<t.length;a++){var l=void 0,u=void 0;this._seed&&n!=null?(u=nM(this._seed,r??this.keysetId,n+a),l=Mg(rM(this._seed,r??this.keysetId,n+a))):u=U3(32),o.push(u);var c=$4(u,l),f=c.B_,p=c.r;s.push(p);var E=new o$(t[a],f);i.push(E.getSerializedBlindedMessage())}return{amounts:t,blindedMessages:i,rs:s,secrets:o}},e.prototype.createBlankOutputs=function(t,n){var r=Math.ceil(Math.log2(t))||1;r<0&&(r=0);var i=r?Array(r).fill(1):[],o=this.createBlindedMessages(i,n),s=o.blindedMessages,a=o.rs,l=o.secrets;return{blindedMessages:s,secrets:l,rs:a}},e}(),Bv="qpzry9x8gf2tvdw0s3jn54khce6mua7l",$v={};for(var Fu=0;Fu<Bv.length;Fu++){var Rh=Bv.charAt(Fu);if($v[Rh]!==void 0)throw new TypeError(Rh+" is ambiguous");$v[Rh]=Fu}var Lg={exports:{}};const sM={},aM=Object.freeze(Object.defineProperty({__proto__:null,default:sM},Symbol.toStringTag,{value:"Module"})),lM=v6(aM);Lg.exports;(function(e){(function(t,n){function r(k,d){if(!k)throw new Error(d||"Assertion failed")}function i(k,d){k.super_=d;var g=function(){};g.prototype=d.prototype,k.prototype=new g,k.prototype.constructor=k}function o(k,d,g){if(o.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&((d==="le"||d==="be")&&(g=d,d=10),this._init(k||0,d||10,g||"be"))}typeof t=="object"?t.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=lM.Buffer}catch{}o.isBN=function(d){return d instanceof o?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===o.wordSize&&Array.isArray(d.words)},o.max=function(d,g){return d.cmp(g)>0?d:g},o.min=function(d,g){return d.cmp(g)<0?d:g},o.prototype._init=function(d,g,C){if(typeof d=="number")return this._initNumber(d,g,C);if(typeof d=="object")return this._initArray(d,g,C);g==="hex"&&(g=16),r(g===(g|0)&&g>=2&&g<=36),d=d.toString().replace(/\s+/g,"");var m=0;d[0]==="-"&&(m++,this.negative=1),m<d.length&&(g===16?this._parseHex(d,m,C):(this._parseBase(d,g,m),C==="le"&&this._initArray(this.toArray(),g,C)))},o.prototype._initNumber=function(d,g,C){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(r(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),g,C)},o.prototype._initArray=function(d,g,C){if(r(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var x,$,P=0;if(C==="be")for(m=d.length-1,x=0;m>=0;m-=3)$=d[m]|d[m-1]<<8|d[m-2]<<16,this.words[x]|=$<<P&67108863,this.words[x+1]=$>>>26-P&67108863,P+=24,P>=26&&(P-=26,x++);else if(C==="le")for(m=0,x=0;m<d.length;m+=3)$=d[m]|d[m+1]<<8|d[m+2]<<16,this.words[x]|=$<<P&67108863,this.words[x+1]=$>>>26-P&67108863,P+=24,P>=26&&(P-=26,x++);return this.strip()};function a(k,d){var g=k.charCodeAt(d);return g>=65&&g<=70?g-55:g>=97&&g<=102?g-87:g-48&15}function l(k,d,g){var C=a(k,g);return g-1>=d&&(C|=a(k,g-1)<<4),C}o.prototype._parseHex=function(d,g,C){this.length=Math.ceil((d.length-g)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var x=0,$=0,P;if(C==="be")for(m=d.length-1;m>=g;m-=2)P=l(d,g,m)<<x,this.words[$]|=P&67108863,x>=18?(x-=18,$+=1,this.words[$]|=P>>>26):x+=8;else{var S=d.length-g;for(m=S%2===0?g+1:g;m<d.length;m+=2)P=l(d,g,m)<<x,this.words[$]|=P&67108863,x>=18?(x-=18,$+=1,this.words[$]|=P>>>26):x+=8}this.strip()};function u(k,d,g,C){for(var m=0,x=Math.min(k.length,g),$=d;$<x;$++){var P=k.charCodeAt($)-48;m*=C,P>=49?m+=P-49+10:P>=17?m+=P-17+10:m+=P}return m}o.prototype._parseBase=function(d,g,C){this.words=[0],this.length=1;for(var m=0,x=1;x<=67108863;x*=g)m++;m--,x=x/g|0;for(var $=d.length-C,P=$%m,S=Math.min($,$-P)+C,h=0,B=C;B<S;B+=m)h=u(d,B,B+m,g),this.imuln(x),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(P!==0){var z=1;for(h=u(d,B,d.length,g),B=0;B<P;B++)z*=g;this.imuln(z),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},o.prototype.copy=function(d){d.words=new Array(this.length);for(var g=0;g<this.length;g++)d.words[g]=this.words[g];d.length=this.length,d.negative=this.negative,d.red=this.red},o.prototype.clone=function(){var d=new o(null);return this.copy(d),d},o.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(d,g){d=d||10,g=g|0||1;var C;if(d===16||d==="hex"){C="";for(var m=0,x=0,$=0;$<this.length;$++){var P=this.words[$],S=((P<<m|x)&16777215).toString(16);x=P>>>24-m&16777215,x!==0||$!==this.length-1?C=c[6-S.length]+S+C:C=S+C,m+=2,m>=26&&(m-=26,$--)}for(x!==0&&(C=x.toString(16)+C);C.length%g!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(d===(d|0)&&d>=2&&d<=36){var h=f[d],B=p[d];C="";var z=this.clone();for(z.negative=0;!z.isZero();){var Q=z.modn(B).toString(d);z=z.idivn(B),z.isZero()?C=Q+C:C=c[h-Q.length]+Q+C}for(this.isZero()&&(C="0"+C);C.length%g!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(d,g){return r(typeof s<"u"),this.toArrayLike(s,d,g)},o.prototype.toArray=function(d,g){return this.toArrayLike(Array,d,g)},o.prototype.toArrayLike=function(d,g,C){var m=this.byteLength(),x=C||Math.max(1,m);r(m<=x,"byte array longer than desired length"),r(x>0,"Requested array length <= 0"),this.strip();var $=g==="le",P=new d(x),S,h,B=this.clone();if($){for(h=0;!B.isZero();h++)S=B.andln(255),B.iushrn(8),P[h]=S;for(;h<x;h++)P[h]=0}else{for(h=0;h<x-m;h++)P[h]=0;for(h=0;!B.isZero();h++)S=B.andln(255),B.iushrn(8),P[x-h-1]=S}return P},Math.clz32?o.prototype._countBits=function(d){return 32-Math.clz32(d)}:o.prototype._countBits=function(d){var g=d,C=0;return g>=4096&&(C+=13,g>>>=13),g>=64&&(C+=7,g>>>=7),g>=8&&(C+=4,g>>>=4),g>=2&&(C+=2,g>>>=2),C+g},o.prototype._zeroBits=function(d){if(d===0)return 26;var g=d,C=0;return g&8191||(C+=13,g>>>=13),g&127||(C+=7,g>>>=7),g&15||(C+=4,g>>>=4),g&3||(C+=2,g>>>=2),g&1||C++,C},o.prototype.bitLength=function(){var d=this.words[this.length-1],g=this._countBits(d);return(this.length-1)*26+g};function E(k){for(var d=new Array(k.bitLength()),g=0;g<d.length;g++){var C=g/26|0,m=g%26;d[g]=(k.words[C]&1<<m)>>>m}return d}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,g=0;g<this.length;g++){var C=this._zeroBits(this.words[g]);if(d+=C,C!==26)break}return d},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},o.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var g=0;g<d.length;g++)this.words[g]=this.words[g]|d.words[g];return this.strip()},o.prototype.ior=function(d){return r((this.negative|d.negative)===0),this.iuor(d)},o.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},o.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},o.prototype.iuand=function(d){var g;this.length>d.length?g=d:g=this;for(var C=0;C<g.length;C++)this.words[C]=this.words[C]&d.words[C];return this.length=g.length,this.strip()},o.prototype.iand=function(d){return r((this.negative|d.negative)===0),this.iuand(d)},o.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},o.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},o.prototype.iuxor=function(d){var g,C;this.length>d.length?(g=this,C=d):(g=d,C=this);for(var m=0;m<C.length;m++)this.words[m]=g.words[m]^C.words[m];if(this!==g)for(;m<g.length;m++)this.words[m]=g.words[m];return this.length=g.length,this.strip()},o.prototype.ixor=function(d){return r((this.negative|d.negative)===0),this.iuxor(d)},o.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},o.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},o.prototype.inotn=function(d){r(typeof d=="number"&&d>=0);var g=Math.ceil(d/26)|0,C=d%26;this._expand(g),C>0&&g--;for(var m=0;m<g;m++)this.words[m]=~this.words[m]&67108863;return C>0&&(this.words[m]=~this.words[m]&67108863>>26-C),this.strip()},o.prototype.notn=function(d){return this.clone().inotn(d)},o.prototype.setn=function(d,g){r(typeof d=="number"&&d>=0);var C=d/26|0,m=d%26;return this._expand(C+1),g?this.words[C]=this.words[C]|1<<m:this.words[C]=this.words[C]&~(1<<m),this.strip()},o.prototype.iadd=function(d){var g;if(this.negative!==0&&d.negative===0)return this.negative=0,g=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,g=this.isub(d),d.negative=1,g._normSign();var C,m;this.length>d.length?(C=this,m=d):(C=d,m=this);for(var x=0,$=0;$<m.length;$++)g=(C.words[$]|0)+(m.words[$]|0)+x,this.words[$]=g&67108863,x=g>>>26;for(;x!==0&&$<C.length;$++)g=(C.words[$]|0)+x,this.words[$]=g&67108863,x=g>>>26;if(this.length=C.length,x!==0)this.words[this.length]=x,this.length++;else if(C!==this)for(;$<C.length;$++)this.words[$]=C.words[$];return this},o.prototype.add=function(d){var g;return d.negative!==0&&this.negative===0?(d.negative=0,g=this.sub(d),d.negative^=1,g):d.negative===0&&this.negative!==0?(this.negative=0,g=d.sub(this),this.negative=1,g):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},o.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var g=this.iadd(d);return d.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var C=this.cmp(d);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,x;C>0?(m=this,x=d):(m=d,x=this);for(var $=0,P=0;P<x.length;P++)g=(m.words[P]|0)-(x.words[P]|0)+$,$=g>>26,this.words[P]=g&67108863;for(;$!==0&&P<m.length;P++)g=(m.words[P]|0)+$,$=g>>26,this.words[P]=g&67108863;if($===0&&P<m.length&&m!==this)for(;P<m.length;P++)this.words[P]=m.words[P];return this.length=Math.max(this.length,P),m!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(d){return this.clone().isub(d)};function _(k,d,g){g.negative=d.negative^k.negative;var C=k.length+d.length|0;g.length=C,C=C-1|0;var m=k.words[0]|0,x=d.words[0]|0,$=m*x,P=$&67108863,S=$/67108864|0;g.words[0]=P;for(var h=1;h<C;h++){for(var B=S>>>26,z=S&67108863,Q=Math.min(h,d.length-1),J=Math.max(0,h-k.length+1);J<=Q;J++){var te=h-J|0;m=k.words[te]|0,x=d.words[J]|0,$=m*x+z,B+=$/67108864|0,z=$&67108863}g.words[h]=z|0,S=B|0}return S!==0?g.words[h]=S|0:g.length--,g.strip()}var y=function(d,g,C){var m=d.words,x=g.words,$=C.words,P=0,S,h,B,z=m[0]|0,Q=z&8191,J=z>>>13,te=m[1]|0,re=te&8191,ie=te>>>13,xe=m[2]|0,se=xe&8191,me=xe>>>13,ze=m[3]|0,ge=ze&8191,fe=ze>>>13,He=m[4]|0,ke=He&8191,Me=He>>>13,gi=m[5]|0,Je=gi&8191,Xe=gi>>>13,bo=m[6]|0,je=bo&8191,$e=bo>>>13,ur=m[7]|0,Ue=ur&8191,Be=ur>>>13,Eo=m[8]|0,I=Eo&8191,v=Eo>>>13,b=m[9]|0,O=b&8191,F=b>>>13,W=x[0]|0,Z=W&8191,ue=W>>>13,Fe=x[1]|0,ve=Fe&8191,be=Fe>>>13,Le=x[2]|0,nt=Le&8191,at=Le>>>13,ka=x[3]|0,lt=ka&8191,V=ka>>>13,G=x[4]|0,Y=G&8191,ee=G>>>13,ce=x[5]|0,he=ce&8191,ae=ce>>>13,ye=x[6]|0,oe=ye&8191,pe=ye>>>13,dt=x[7]|0,de=dt&8191,Ee=dt>>>13,Et=x[8]|0,Pe=Et&8191,Re=Et>>>13,Or=x[9]|0,et=Or&8191,We=Or>>>13;C.negative=d.negative^g.negative,C.length=19,S=Math.imul(Q,Z),h=Math.imul(Q,ue),h=h+Math.imul(J,Z)|0,B=Math.imul(J,ue);var kn=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(kn>>>26)|0,kn&=67108863,S=Math.imul(re,Z),h=Math.imul(re,ue),h=h+Math.imul(ie,Z)|0,B=Math.imul(ie,ue),S=S+Math.imul(Q,ve)|0,h=h+Math.imul(Q,be)|0,h=h+Math.imul(J,ve)|0,B=B+Math.imul(J,be)|0;var Wn=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,S=Math.imul(se,Z),h=Math.imul(se,ue),h=h+Math.imul(me,Z)|0,B=Math.imul(me,ue),S=S+Math.imul(re,ve)|0,h=h+Math.imul(re,be)|0,h=h+Math.imul(ie,ve)|0,B=B+Math.imul(ie,be)|0,S=S+Math.imul(Q,nt)|0,h=h+Math.imul(Q,at)|0,h=h+Math.imul(J,nt)|0,B=B+Math.imul(J,at)|0;var So=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(So>>>26)|0,So&=67108863,S=Math.imul(ge,Z),h=Math.imul(ge,ue),h=h+Math.imul(fe,Z)|0,B=Math.imul(fe,ue),S=S+Math.imul(se,ve)|0,h=h+Math.imul(se,be)|0,h=h+Math.imul(me,ve)|0,B=B+Math.imul(me,be)|0,S=S+Math.imul(re,nt)|0,h=h+Math.imul(re,at)|0,h=h+Math.imul(ie,nt)|0,B=B+Math.imul(ie,at)|0,S=S+Math.imul(Q,lt)|0,h=h+Math.imul(Q,V)|0,h=h+Math.imul(J,lt)|0,B=B+Math.imul(J,V)|0;var _o=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(_o>>>26)|0,_o&=67108863,S=Math.imul(ke,Z),h=Math.imul(ke,ue),h=h+Math.imul(Me,Z)|0,B=Math.imul(Me,ue),S=S+Math.imul(ge,ve)|0,h=h+Math.imul(ge,be)|0,h=h+Math.imul(fe,ve)|0,B=B+Math.imul(fe,be)|0,S=S+Math.imul(se,nt)|0,h=h+Math.imul(se,at)|0,h=h+Math.imul(me,nt)|0,B=B+Math.imul(me,at)|0,S=S+Math.imul(re,lt)|0,h=h+Math.imul(re,V)|0,h=h+Math.imul(ie,lt)|0,B=B+Math.imul(ie,V)|0,S=S+Math.imul(Q,Y)|0,h=h+Math.imul(Q,ee)|0,h=h+Math.imul(J,Y)|0,B=B+Math.imul(J,ee)|0;var Ao=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,S=Math.imul(Je,Z),h=Math.imul(Je,ue),h=h+Math.imul(Xe,Z)|0,B=Math.imul(Xe,ue),S=S+Math.imul(ke,ve)|0,h=h+Math.imul(ke,be)|0,h=h+Math.imul(Me,ve)|0,B=B+Math.imul(Me,be)|0,S=S+Math.imul(ge,nt)|0,h=h+Math.imul(ge,at)|0,h=h+Math.imul(fe,nt)|0,B=B+Math.imul(fe,at)|0,S=S+Math.imul(se,lt)|0,h=h+Math.imul(se,V)|0,h=h+Math.imul(me,lt)|0,B=B+Math.imul(me,V)|0,S=S+Math.imul(re,Y)|0,h=h+Math.imul(re,ee)|0,h=h+Math.imul(ie,Y)|0,B=B+Math.imul(ie,ee)|0,S=S+Math.imul(Q,he)|0,h=h+Math.imul(Q,ae)|0,h=h+Math.imul(J,he)|0,B=B+Math.imul(J,ae)|0;var cr=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(cr>>>26)|0,cr&=67108863,S=Math.imul(je,Z),h=Math.imul(je,ue),h=h+Math.imul($e,Z)|0,B=Math.imul($e,ue),S=S+Math.imul(Je,ve)|0,h=h+Math.imul(Je,be)|0,h=h+Math.imul(Xe,ve)|0,B=B+Math.imul(Xe,be)|0,S=S+Math.imul(ke,nt)|0,h=h+Math.imul(ke,at)|0,h=h+Math.imul(Me,nt)|0,B=B+Math.imul(Me,at)|0,S=S+Math.imul(ge,lt)|0,h=h+Math.imul(ge,V)|0,h=h+Math.imul(fe,lt)|0,B=B+Math.imul(fe,V)|0,S=S+Math.imul(se,Y)|0,h=h+Math.imul(se,ee)|0,h=h+Math.imul(me,Y)|0,B=B+Math.imul(me,ee)|0,S=S+Math.imul(re,he)|0,h=h+Math.imul(re,ae)|0,h=h+Math.imul(ie,he)|0,B=B+Math.imul(ie,ae)|0,S=S+Math.imul(Q,oe)|0,h=h+Math.imul(Q,pe)|0,h=h+Math.imul(J,oe)|0,B=B+Math.imul(J,pe)|0;var yi=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(yi>>>26)|0,yi&=67108863,S=Math.imul(Ue,Z),h=Math.imul(Ue,ue),h=h+Math.imul(Be,Z)|0,B=Math.imul(Be,ue),S=S+Math.imul(je,ve)|0,h=h+Math.imul(je,be)|0,h=h+Math.imul($e,ve)|0,B=B+Math.imul($e,be)|0,S=S+Math.imul(Je,nt)|0,h=h+Math.imul(Je,at)|0,h=h+Math.imul(Xe,nt)|0,B=B+Math.imul(Xe,at)|0,S=S+Math.imul(ke,lt)|0,h=h+Math.imul(ke,V)|0,h=h+Math.imul(Me,lt)|0,B=B+Math.imul(Me,V)|0,S=S+Math.imul(ge,Y)|0,h=h+Math.imul(ge,ee)|0,h=h+Math.imul(fe,Y)|0,B=B+Math.imul(fe,ee)|0,S=S+Math.imul(se,he)|0,h=h+Math.imul(se,ae)|0,h=h+Math.imul(me,he)|0,B=B+Math.imul(me,ae)|0,S=S+Math.imul(re,oe)|0,h=h+Math.imul(re,pe)|0,h=h+Math.imul(ie,oe)|0,B=B+Math.imul(ie,pe)|0,S=S+Math.imul(Q,de)|0,h=h+Math.imul(Q,Ee)|0,h=h+Math.imul(J,de)|0,B=B+Math.imul(J,Ee)|0;var De=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(De>>>26)|0,De&=67108863,S=Math.imul(I,Z),h=Math.imul(I,ue),h=h+Math.imul(v,Z)|0,B=Math.imul(v,ue),S=S+Math.imul(Ue,ve)|0,h=h+Math.imul(Ue,be)|0,h=h+Math.imul(Be,ve)|0,B=B+Math.imul(Be,be)|0,S=S+Math.imul(je,nt)|0,h=h+Math.imul(je,at)|0,h=h+Math.imul($e,nt)|0,B=B+Math.imul($e,at)|0,S=S+Math.imul(Je,lt)|0,h=h+Math.imul(Je,V)|0,h=h+Math.imul(Xe,lt)|0,B=B+Math.imul(Xe,V)|0,S=S+Math.imul(ke,Y)|0,h=h+Math.imul(ke,ee)|0,h=h+Math.imul(Me,Y)|0,B=B+Math.imul(Me,ee)|0,S=S+Math.imul(ge,he)|0,h=h+Math.imul(ge,ae)|0,h=h+Math.imul(fe,he)|0,B=B+Math.imul(fe,ae)|0,S=S+Math.imul(se,oe)|0,h=h+Math.imul(se,pe)|0,h=h+Math.imul(me,oe)|0,B=B+Math.imul(me,pe)|0,S=S+Math.imul(re,de)|0,h=h+Math.imul(re,Ee)|0,h=h+Math.imul(ie,de)|0,B=B+Math.imul(ie,Ee)|0,S=S+Math.imul(Q,Pe)|0,h=h+Math.imul(Q,Re)|0,h=h+Math.imul(J,Pe)|0,B=B+Math.imul(J,Re)|0;var qe=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(qe>>>26)|0,qe&=67108863,S=Math.imul(O,Z),h=Math.imul(O,ue),h=h+Math.imul(F,Z)|0,B=Math.imul(F,ue),S=S+Math.imul(I,ve)|0,h=h+Math.imul(I,be)|0,h=h+Math.imul(v,ve)|0,B=B+Math.imul(v,be)|0,S=S+Math.imul(Ue,nt)|0,h=h+Math.imul(Ue,at)|0,h=h+Math.imul(Be,nt)|0,B=B+Math.imul(Be,at)|0,S=S+Math.imul(je,lt)|0,h=h+Math.imul(je,V)|0,h=h+Math.imul($e,lt)|0,B=B+Math.imul($e,V)|0,S=S+Math.imul(Je,Y)|0,h=h+Math.imul(Je,ee)|0,h=h+Math.imul(Xe,Y)|0,B=B+Math.imul(Xe,ee)|0,S=S+Math.imul(ke,he)|0,h=h+Math.imul(ke,ae)|0,h=h+Math.imul(Me,he)|0,B=B+Math.imul(Me,ae)|0,S=S+Math.imul(ge,oe)|0,h=h+Math.imul(ge,pe)|0,h=h+Math.imul(fe,oe)|0,B=B+Math.imul(fe,pe)|0,S=S+Math.imul(se,de)|0,h=h+Math.imul(se,Ee)|0,h=h+Math.imul(me,de)|0,B=B+Math.imul(me,Ee)|0,S=S+Math.imul(re,Pe)|0,h=h+Math.imul(re,Re)|0,h=h+Math.imul(ie,Pe)|0,B=B+Math.imul(ie,Re)|0,S=S+Math.imul(Q,et)|0,h=h+Math.imul(Q,We)|0,h=h+Math.imul(J,et)|0,B=B+Math.imul(J,We)|0;var on=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(on>>>26)|0,on&=67108863,S=Math.imul(O,ve),h=Math.imul(O,be),h=h+Math.imul(F,ve)|0,B=Math.imul(F,be),S=S+Math.imul(I,nt)|0,h=h+Math.imul(I,at)|0,h=h+Math.imul(v,nt)|0,B=B+Math.imul(v,at)|0,S=S+Math.imul(Ue,lt)|0,h=h+Math.imul(Ue,V)|0,h=h+Math.imul(Be,lt)|0,B=B+Math.imul(Be,V)|0,S=S+Math.imul(je,Y)|0,h=h+Math.imul(je,ee)|0,h=h+Math.imul($e,Y)|0,B=B+Math.imul($e,ee)|0,S=S+Math.imul(Je,he)|0,h=h+Math.imul(Je,ae)|0,h=h+Math.imul(Xe,he)|0,B=B+Math.imul(Xe,ae)|0,S=S+Math.imul(ke,oe)|0,h=h+Math.imul(ke,pe)|0,h=h+Math.imul(Me,oe)|0,B=B+Math.imul(Me,pe)|0,S=S+Math.imul(ge,de)|0,h=h+Math.imul(ge,Ee)|0,h=h+Math.imul(fe,de)|0,B=B+Math.imul(fe,Ee)|0,S=S+Math.imul(se,Pe)|0,h=h+Math.imul(se,Re)|0,h=h+Math.imul(me,Pe)|0,B=B+Math.imul(me,Re)|0,S=S+Math.imul(re,et)|0,h=h+Math.imul(re,We)|0,h=h+Math.imul(ie,et)|0,B=B+Math.imul(ie,We)|0;var mi=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(mi>>>26)|0,mi&=67108863,S=Math.imul(O,nt),h=Math.imul(O,at),h=h+Math.imul(F,nt)|0,B=Math.imul(F,at),S=S+Math.imul(I,lt)|0,h=h+Math.imul(I,V)|0,h=h+Math.imul(v,lt)|0,B=B+Math.imul(v,V)|0,S=S+Math.imul(Ue,Y)|0,h=h+Math.imul(Ue,ee)|0,h=h+Math.imul(Be,Y)|0,B=B+Math.imul(Be,ee)|0,S=S+Math.imul(je,he)|0,h=h+Math.imul(je,ae)|0,h=h+Math.imul($e,he)|0,B=B+Math.imul($e,ae)|0,S=S+Math.imul(Je,oe)|0,h=h+Math.imul(Je,pe)|0,h=h+Math.imul(Xe,oe)|0,B=B+Math.imul(Xe,pe)|0,S=S+Math.imul(ke,de)|0,h=h+Math.imul(ke,Ee)|0,h=h+Math.imul(Me,de)|0,B=B+Math.imul(Me,Ee)|0,S=S+Math.imul(ge,Pe)|0,h=h+Math.imul(ge,Re)|0,h=h+Math.imul(fe,Pe)|0,B=B+Math.imul(fe,Re)|0,S=S+Math.imul(se,et)|0,h=h+Math.imul(se,We)|0,h=h+Math.imul(me,et)|0,B=B+Math.imul(me,We)|0;var Ra=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Ra>>>26)|0,Ra&=67108863,S=Math.imul(O,lt),h=Math.imul(O,V),h=h+Math.imul(F,lt)|0,B=Math.imul(F,V),S=S+Math.imul(I,Y)|0,h=h+Math.imul(I,ee)|0,h=h+Math.imul(v,Y)|0,B=B+Math.imul(v,ee)|0,S=S+Math.imul(Ue,he)|0,h=h+Math.imul(Ue,ae)|0,h=h+Math.imul(Be,he)|0,B=B+Math.imul(Be,ae)|0,S=S+Math.imul(je,oe)|0,h=h+Math.imul(je,pe)|0,h=h+Math.imul($e,oe)|0,B=B+Math.imul($e,pe)|0,S=S+Math.imul(Je,de)|0,h=h+Math.imul(Je,Ee)|0,h=h+Math.imul(Xe,de)|0,B=B+Math.imul(Xe,Ee)|0,S=S+Math.imul(ke,Pe)|0,h=h+Math.imul(ke,Re)|0,h=h+Math.imul(Me,Pe)|0,B=B+Math.imul(Me,Re)|0,S=S+Math.imul(ge,et)|0,h=h+Math.imul(ge,We)|0,h=h+Math.imul(fe,et)|0,B=B+Math.imul(fe,We)|0;var Rd=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Rd>>>26)|0,Rd&=67108863,S=Math.imul(O,Y),h=Math.imul(O,ee),h=h+Math.imul(F,Y)|0,B=Math.imul(F,ee),S=S+Math.imul(I,he)|0,h=h+Math.imul(I,ae)|0,h=h+Math.imul(v,he)|0,B=B+Math.imul(v,ae)|0,S=S+Math.imul(Ue,oe)|0,h=h+Math.imul(Ue,pe)|0,h=h+Math.imul(Be,oe)|0,B=B+Math.imul(Be,pe)|0,S=S+Math.imul(je,de)|0,h=h+Math.imul(je,Ee)|0,h=h+Math.imul($e,de)|0,B=B+Math.imul($e,Ee)|0,S=S+Math.imul(Je,Pe)|0,h=h+Math.imul(Je,Re)|0,h=h+Math.imul(Xe,Pe)|0,B=B+Math.imul(Xe,Re)|0,S=S+Math.imul(ke,et)|0,h=h+Math.imul(ke,We)|0,h=h+Math.imul(Me,et)|0,B=B+Math.imul(Me,We)|0;var Cd=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Cd>>>26)|0,Cd&=67108863,S=Math.imul(O,he),h=Math.imul(O,ae),h=h+Math.imul(F,he)|0,B=Math.imul(F,ae),S=S+Math.imul(I,oe)|0,h=h+Math.imul(I,pe)|0,h=h+Math.imul(v,oe)|0,B=B+Math.imul(v,pe)|0,S=S+Math.imul(Ue,de)|0,h=h+Math.imul(Ue,Ee)|0,h=h+Math.imul(Be,de)|0,B=B+Math.imul(Be,Ee)|0,S=S+Math.imul(je,Pe)|0,h=h+Math.imul(je,Re)|0,h=h+Math.imul($e,Pe)|0,B=B+Math.imul($e,Re)|0,S=S+Math.imul(Je,et)|0,h=h+Math.imul(Je,We)|0,h=h+Math.imul(Xe,et)|0,B=B+Math.imul(Xe,We)|0;var Td=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Td>>>26)|0,Td&=67108863,S=Math.imul(O,oe),h=Math.imul(O,pe),h=h+Math.imul(F,oe)|0,B=Math.imul(F,pe),S=S+Math.imul(I,de)|0,h=h+Math.imul(I,Ee)|0,h=h+Math.imul(v,de)|0,B=B+Math.imul(v,Ee)|0,S=S+Math.imul(Ue,Pe)|0,h=h+Math.imul(Ue,Re)|0,h=h+Math.imul(Be,Pe)|0,B=B+Math.imul(Be,Re)|0,S=S+Math.imul(je,et)|0,h=h+Math.imul(je,We)|0,h=h+Math.imul($e,et)|0,B=B+Math.imul($e,We)|0;var Bd=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Bd>>>26)|0,Bd&=67108863,S=Math.imul(O,de),h=Math.imul(O,Ee),h=h+Math.imul(F,de)|0,B=Math.imul(F,Ee),S=S+Math.imul(I,Pe)|0,h=h+Math.imul(I,Re)|0,h=h+Math.imul(v,Pe)|0,B=B+Math.imul(v,Re)|0,S=S+Math.imul(Ue,et)|0,h=h+Math.imul(Ue,We)|0,h=h+Math.imul(Be,et)|0,B=B+Math.imul(Be,We)|0;var $d=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+($d>>>26)|0,$d&=67108863,S=Math.imul(O,Pe),h=Math.imul(O,Re),h=h+Math.imul(F,Pe)|0,B=Math.imul(F,Re),S=S+Math.imul(I,et)|0,h=h+Math.imul(I,We)|0,h=h+Math.imul(v,et)|0,B=B+Math.imul(v,We)|0;var Md=(P+S|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Md>>>26)|0,Md&=67108863,S=Math.imul(O,et),h=Math.imul(O,We),h=h+Math.imul(F,et)|0,B=Math.imul(F,We);var Pd=(P+S|0)+((h&8191)<<13)|0;return P=(B+(h>>>13)|0)+(Pd>>>26)|0,Pd&=67108863,$[0]=kn,$[1]=Wn,$[2]=So,$[3]=_o,$[4]=Ao,$[5]=cr,$[6]=yi,$[7]=De,$[8]=qe,$[9]=on,$[10]=mi,$[11]=Ra,$[12]=Rd,$[13]=Cd,$[14]=Td,$[15]=Bd,$[16]=$d,$[17]=Md,$[18]=Pd,P!==0&&($[19]=P,C.length++),C};Math.imul||(y=_);function A(k,d,g){g.negative=d.negative^k.negative,g.length=k.length+d.length;for(var C=0,m=0,x=0;x<g.length-1;x++){var $=m;m=0;for(var P=C&67108863,S=Math.min(x,d.length-1),h=Math.max(0,x-k.length+1);h<=S;h++){var B=x-h,z=k.words[B]|0,Q=d.words[h]|0,J=z*Q,te=J&67108863;$=$+(J/67108864|0)|0,te=te+P|0,P=te&67108863,$=$+(te>>>26)|0,m+=$>>>26,$&=67108863}g.words[x]=P,C=$,$=m}return C!==0?g.words[x]=C:g.length--,g.strip()}function w(k,d,g){var C=new R;return C.mulp(k,d,g)}o.prototype.mulTo=function(d,g){var C,m=this.length+d.length;return this.length===10&&d.length===10?C=y(this,d,g):m<63?C=_(this,d,g):m<1024?C=A(this,d,g):C=w(this,d,g),C};function R(k,d){this.x=k,this.y=d}R.prototype.makeRBT=function(d){for(var g=new Array(d),C=o.prototype._countBits(d)-1,m=0;m<d;m++)g[m]=this.revBin(m,C,d);return g},R.prototype.revBin=function(d,g,C){if(d===0||d===C-1)return d;for(var m=0,x=0;x<g;x++)m|=(d&1)<<g-x-1,d>>=1;return m},R.prototype.permute=function(d,g,C,m,x,$){for(var P=0;P<$;P++)m[P]=g[d[P]],x[P]=C[d[P]]},R.prototype.transform=function(d,g,C,m,x,$){this.permute($,d,g,C,m,x);for(var P=1;P<x;P<<=1)for(var S=P<<1,h=Math.cos(2*Math.PI/S),B=Math.sin(2*Math.PI/S),z=0;z<x;z+=S)for(var Q=h,J=B,te=0;te<P;te++){var re=C[z+te],ie=m[z+te],xe=C[z+te+P],se=m[z+te+P],me=Q*xe-J*se;se=Q*se+J*xe,xe=me,C[z+te]=re+xe,m[z+te]=ie+se,C[z+te+P]=re-xe,m[z+te+P]=ie-se,te!==S&&(me=h*Q-B*J,J=h*J+B*Q,Q=me)}},R.prototype.guessLen13b=function(d,g){var C=Math.max(g,d)|1,m=C&1,x=0;for(C=C/2|0;C;C=C>>>1)x++;return 1<<x+1+m},R.prototype.conjugate=function(d,g,C){if(!(C<=1))for(var m=0;m<C/2;m++){var x=d[m];d[m]=d[C-m-1],d[C-m-1]=x,x=g[m],g[m]=-g[C-m-1],g[C-m-1]=-x}},R.prototype.normalize13b=function(d,g){for(var C=0,m=0;m<g/2;m++){var x=Math.round(d[2*m+1]/g)*8192+Math.round(d[2*m]/g)+C;d[m]=x&67108863,x<67108864?C=0:C=x/67108864|0}return d},R.prototype.convert13b=function(d,g,C,m){for(var x=0,$=0;$<g;$++)x=x+(d[$]|0),C[2*$]=x&8191,x=x>>>13,C[2*$+1]=x&8191,x=x>>>13;for($=2*g;$<m;++$)C[$]=0;r(x===0),r((x&-8192)===0)},R.prototype.stub=function(d){for(var g=new Array(d),C=0;C<d;C++)g[C]=0;return g},R.prototype.mulp=function(d,g,C){var m=2*this.guessLen13b(d.length,g.length),x=this.makeRBT(m),$=this.stub(m),P=new Array(m),S=new Array(m),h=new Array(m),B=new Array(m),z=new Array(m),Q=new Array(m),J=C.words;J.length=m,this.convert13b(d.words,d.length,P,m),this.convert13b(g.words,g.length,B,m),this.transform(P,$,S,h,m,x),this.transform(B,$,z,Q,m,x);for(var te=0;te<m;te++){var re=S[te]*z[te]-h[te]*Q[te];h[te]=S[te]*Q[te]+h[te]*z[te],S[te]=re}return this.conjugate(S,h,m),this.transform(S,h,J,$,m,x),this.conjugate(J,$,m),this.normalize13b(J,m),C.negative=d.negative^g.negative,C.length=d.length+g.length,C.strip()},o.prototype.mul=function(d){var g=new o(null);return g.words=new Array(this.length+d.length),this.mulTo(d,g)},o.prototype.mulf=function(d){var g=new o(null);return g.words=new Array(this.length+d.length),w(this,d,g)},o.prototype.imul=function(d){return this.clone().mulTo(d,this)},o.prototype.imuln=function(d){r(typeof d=="number"),r(d<67108864);for(var g=0,C=0;C<this.length;C++){var m=(this.words[C]|0)*d,x=(m&67108863)+(g&67108863);g>>=26,g+=m/67108864|0,g+=x>>>26,this.words[C]=x&67108863}return g!==0&&(this.words[C]=g,this.length++),this},o.prototype.muln=function(d){return this.clone().imuln(d)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(d){var g=E(d);if(g.length===0)return new o(1);for(var C=this,m=0;m<g.length&&g[m]===0;m++,C=C.sqr());if(++m<g.length)for(var x=C.sqr();m<g.length;m++,x=x.sqr())g[m]!==0&&(C=C.mul(x));return C},o.prototype.iushln=function(d){r(typeof d=="number"&&d>=0);var g=d%26,C=(d-g)/26,m=67108863>>>26-g<<26-g,x;if(g!==0){var $=0;for(x=0;x<this.length;x++){var P=this.words[x]&m,S=(this.words[x]|0)-P<<g;this.words[x]=S|$,$=P>>>26-g}$&&(this.words[x]=$,this.length++)}if(C!==0){for(x=this.length-1;x>=0;x--)this.words[x+C]=this.words[x];for(x=0;x<C;x++)this.words[x]=0;this.length+=C}return this.strip()},o.prototype.ishln=function(d){return r(this.negative===0),this.iushln(d)},o.prototype.iushrn=function(d,g,C){r(typeof d=="number"&&d>=0);var m;g?m=(g-g%26)/26:m=0;var x=d%26,$=Math.min((d-x)/26,this.length),P=67108863^67108863>>>x<<x,S=C;if(m-=$,m=Math.max(0,m),S){for(var h=0;h<$;h++)S.words[h]=this.words[h];S.length=$}if($!==0)if(this.length>$)for(this.length-=$,h=0;h<this.length;h++)this.words[h]=this.words[h+$];else this.words[0]=0,this.length=1;var B=0;for(h=this.length-1;h>=0&&(B!==0||h>=m);h--){var z=this.words[h]|0;this.words[h]=B<<26-x|z>>>x,B=z&P}return S&&B!==0&&(S.words[S.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(d,g,C){return r(this.negative===0),this.iushrn(d,g,C)},o.prototype.shln=function(d){return this.clone().ishln(d)},o.prototype.ushln=function(d){return this.clone().iushln(d)},o.prototype.shrn=function(d){return this.clone().ishrn(d)},o.prototype.ushrn=function(d){return this.clone().iushrn(d)},o.prototype.testn=function(d){r(typeof d=="number"&&d>=0);var g=d%26,C=(d-g)/26,m=1<<g;if(this.length<=C)return!1;var x=this.words[C];return!!(x&m)},o.prototype.imaskn=function(d){r(typeof d=="number"&&d>=0);var g=d%26,C=(d-g)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(g!==0&&C++,this.length=Math.min(C,this.length),g!==0){var m=67108863^67108863>>>g<<g;this.words[this.length-1]&=m}return this.strip()},o.prototype.maskn=function(d){return this.clone().imaskn(d)},o.prototype.iaddn=function(d){return r(typeof d=="number"),r(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},o.prototype._iaddn=function(d){this.words[0]+=d;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},o.prototype.isubn=function(d){if(r(typeof d=="number"),r(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this.strip()},o.prototype.addn=function(d){return this.clone().iaddn(d)},o.prototype.subn=function(d){return this.clone().isubn(d)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(d,g,C){var m=d.length+C,x;this._expand(m);var $,P=0;for(x=0;x<d.length;x++){$=(this.words[x+C]|0)+P;var S=(d.words[x]|0)*g;$-=S&67108863,P=($>>26)-(S/67108864|0),this.words[x+C]=$&67108863}for(;x<this.length-C;x++)$=(this.words[x+C]|0)+P,P=$>>26,this.words[x+C]=$&67108863;if(P===0)return this.strip();for(r(P===-1),P=0,x=0;x<this.length;x++)$=-(this.words[x]|0)+P,P=$>>26,this.words[x]=$&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(d,g){var C=this.length-d.length,m=this.clone(),x=d,$=x.words[x.length-1]|0,P=this._countBits($);C=26-P,C!==0&&(x=x.ushln(C),m.iushln(C),$=x.words[x.length-1]|0);var S=m.length-x.length,h;if(g!=="mod"){h=new o(null),h.length=S+1,h.words=new Array(h.length);for(var B=0;B<h.length;B++)h.words[B]=0}var z=m.clone()._ishlnsubmul(x,1,S);z.negative===0&&(m=z,h&&(h.words[S]=1));for(var Q=S-1;Q>=0;Q--){var J=(m.words[x.length+Q]|0)*67108864+(m.words[x.length+Q-1]|0);for(J=Math.min(J/$|0,67108863),m._ishlnsubmul(x,J,Q);m.negative!==0;)J--,m.negative=0,m._ishlnsubmul(x,1,Q),m.isZero()||(m.negative^=1);h&&(h.words[Q]=J)}return h&&h.strip(),m.strip(),g!=="div"&&C!==0&&m.iushrn(C),{div:h||null,mod:m}},o.prototype.divmod=function(d,g,C){if(r(!d.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var m,x,$;return this.negative!==0&&d.negative===0?($=this.neg().divmod(d,g),g!=="mod"&&(m=$.div.neg()),g!=="div"&&(x=$.mod.neg(),C&&x.negative!==0&&x.iadd(d)),{div:m,mod:x}):this.negative===0&&d.negative!==0?($=this.divmod(d.neg(),g),g!=="mod"&&(m=$.div.neg()),{div:m,mod:$.mod}):this.negative&d.negative?($=this.neg().divmod(d.neg(),g),g!=="div"&&(x=$.mod.neg(),C&&x.negative!==0&&x.isub(d)),{div:$.div,mod:x}):d.length>this.length||this.cmp(d)<0?{div:new o(0),mod:this}:d.length===1?g==="div"?{div:this.divn(d.words[0]),mod:null}:g==="mod"?{div:null,mod:new o(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new o(this.modn(d.words[0]))}:this._wordDiv(d,g)},o.prototype.div=function(d){return this.divmod(d,"div",!1).div},o.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},o.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},o.prototype.divRound=function(d){var g=this.divmod(d);if(g.mod.isZero())return g.div;var C=g.div.negative!==0?g.mod.isub(d):g.mod,m=d.ushrn(1),x=d.andln(1),$=C.cmp(m);return $<0||x===1&&$===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},o.prototype.modn=function(d){r(d<=67108863);for(var g=(1<<26)%d,C=0,m=this.length-1;m>=0;m--)C=(g*C+(this.words[m]|0))%d;return C},o.prototype.idivn=function(d){r(d<=67108863);for(var g=0,C=this.length-1;C>=0;C--){var m=(this.words[C]|0)+g*67108864;this.words[C]=m/d|0,g=m%d}return this.strip()},o.prototype.divn=function(d){return this.clone().idivn(d)},o.prototype.egcd=function(d){r(d.negative===0),r(!d.isZero());var g=this,C=d.clone();g.negative!==0?g=g.umod(d):g=g.clone();for(var m=new o(1),x=new o(0),$=new o(0),P=new o(1),S=0;g.isEven()&&C.isEven();)g.iushrn(1),C.iushrn(1),++S;for(var h=C.clone(),B=g.clone();!g.isZero();){for(var z=0,Q=1;!(g.words[0]&Q)&&z<26;++z,Q<<=1);if(z>0)for(g.iushrn(z);z-- >0;)(m.isOdd()||x.isOdd())&&(m.iadd(h),x.isub(B)),m.iushrn(1),x.iushrn(1);for(var J=0,te=1;!(C.words[0]&te)&&J<26;++J,te<<=1);if(J>0)for(C.iushrn(J);J-- >0;)($.isOdd()||P.isOdd())&&($.iadd(h),P.isub(B)),$.iushrn(1),P.iushrn(1);g.cmp(C)>=0?(g.isub(C),m.isub($),x.isub(P)):(C.isub(g),$.isub(m),P.isub(x))}return{a:$,b:P,gcd:C.iushln(S)}},o.prototype._invmp=function(d){r(d.negative===0),r(!d.isZero());var g=this,C=d.clone();g.negative!==0?g=g.umod(d):g=g.clone();for(var m=new o(1),x=new o(0),$=C.clone();g.cmpn(1)>0&&C.cmpn(1)>0;){for(var P=0,S=1;!(g.words[0]&S)&&P<26;++P,S<<=1);if(P>0)for(g.iushrn(P);P-- >0;)m.isOdd()&&m.iadd($),m.iushrn(1);for(var h=0,B=1;!(C.words[0]&B)&&h<26;++h,B<<=1);if(h>0)for(C.iushrn(h);h-- >0;)x.isOdd()&&x.iadd($),x.iushrn(1);g.cmp(C)>=0?(g.isub(C),m.isub(x)):(C.isub(g),x.isub(m))}var z;return g.cmpn(1)===0?z=m:z=x,z.cmpn(0)<0&&z.iadd(d),z},o.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var g=this.clone(),C=d.clone();g.negative=0,C.negative=0;for(var m=0;g.isEven()&&C.isEven();m++)g.iushrn(1),C.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;C.isEven();)C.iushrn(1);var x=g.cmp(C);if(x<0){var $=g;g=C,C=$}else if(x===0||C.cmpn(1)===0)break;g.isub(C)}while(!0);return C.iushln(m)},o.prototype.invm=function(d){return this.egcd(d).a.umod(d)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(d){return this.words[0]&d},o.prototype.bincn=function(d){r(typeof d=="number");var g=d%26,C=(d-g)/26,m=1<<g;if(this.length<=C)return this._expand(C+1),this.words[C]|=m,this;for(var x=m,$=C;x!==0&&$<this.length;$++){var P=this.words[$]|0;P+=x,x=P>>>26,P&=67108863,this.words[$]=P}return x!==0&&(this.words[$]=x,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(d){var g=d<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this.strip();var C;if(this.length>1)C=1;else{g&&(d=-d),r(d<=67108863,"Number is too big");var m=this.words[0]|0;C=m===d?0:m<d?-1:1}return this.negative!==0?-C|0:C},o.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var g=this.ucmp(d);return this.negative!==0?-g|0:g},o.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var g=0,C=this.length-1;C>=0;C--){var m=this.words[C]|0,x=d.words[C]|0;if(m!==x){m<x?g=-1:m>x&&(g=1);break}}return g},o.prototype.gtn=function(d){return this.cmpn(d)===1},o.prototype.gt=function(d){return this.cmp(d)===1},o.prototype.gten=function(d){return this.cmpn(d)>=0},o.prototype.gte=function(d){return this.cmp(d)>=0},o.prototype.ltn=function(d){return this.cmpn(d)===-1},o.prototype.lt=function(d){return this.cmp(d)===-1},o.prototype.lten=function(d){return this.cmpn(d)<=0},o.prototype.lte=function(d){return this.cmp(d)<=0},o.prototype.eqn=function(d){return this.cmpn(d)===0},o.prototype.eq=function(d){return this.cmp(d)===0},o.red=function(d){return new K(d)},o.prototype.toRed=function(d){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(d){return this.red=d,this},o.prototype.forceRed=function(d){return r(!this.red,"Already a number in reduction context"),this._forceRed(d)},o.prototype.redAdd=function(d){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},o.prototype.redIAdd=function(d){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},o.prototype.redSub=function(d){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},o.prototype.redISub=function(d){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},o.prototype.redShl=function(d){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},o.prototype.redMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},o.prototype.redIMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(d){return r(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var T={k256:null,p224:null,p192:null,p25519:null};function L(k,d){this.name=k,this.p=new o(d,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var d=new o(null);return d.words=new Array(Math.ceil(this.n/13)),d},L.prototype.ireduce=function(d){var g=d,C;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),C=g.bitLength();while(C>this.n);var m=C<this.n?-1:g.ucmp(this.p);return m===0?(g.words[0]=0,g.length=1):m>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},L.prototype.split=function(d,g){d.iushrn(this.n,0,g)},L.prototype.imulK=function(d){return d.imul(this.k)};function j(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(j,L),j.prototype.split=function(d,g){for(var C=4194303,m=Math.min(d.length,9),x=0;x<m;x++)g.words[x]=d.words[x];if(g.length=m,d.length<=9){d.words[0]=0,d.length=1;return}var $=d.words[9];for(g.words[g.length++]=$&C,x=10;x<d.length;x++){var P=d.words[x]|0;d.words[x-10]=(P&C)<<4|$>>>22,$=P}$>>>=22,d.words[x-10]=$,$===0&&d.length>10?d.length-=10:d.length-=9},j.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var g=0,C=0;C<d.length;C++){var m=d.words[C]|0;g+=m*977,d.words[C]=g&67108863,g=m*64+(g/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function M(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(M,L);function N(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(N,L);function D(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(D,L),D.prototype.imulK=function(d){for(var g=0,C=0;C<d.length;C++){var m=(d.words[C]|0)*19+g,x=m&67108863;m>>>=26,d.words[C]=x,g=m}return g!==0&&(d.words[d.length++]=g),d},o._prime=function(d){if(T[d])return T[d];var g;if(d==="k256")g=new j;else if(d==="p224")g=new M;else if(d==="p192")g=new N;else if(d==="p25519")g=new D;else throw new Error("Unknown prime "+d);return T[d]=g,g};function K(k){if(typeof k=="string"){var d=o._prime(k);this.m=d.p,this.prime=d}else r(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}K.prototype._verify1=function(d){r(d.negative===0,"red works only with positives"),r(d.red,"red works only with red numbers")},K.prototype._verify2=function(d,g){r((d.negative|g.negative)===0,"red works only with positives"),r(d.red&&d.red===g.red,"red works only with red numbers")},K.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},K.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},K.prototype.add=function(d,g){this._verify2(d,g);var C=d.add(g);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},K.prototype.iadd=function(d,g){this._verify2(d,g);var C=d.iadd(g);return C.cmp(this.m)>=0&&C.isub(this.m),C},K.prototype.sub=function(d,g){this._verify2(d,g);var C=d.sub(g);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},K.prototype.isub=function(d,g){this._verify2(d,g);var C=d.isub(g);return C.cmpn(0)<0&&C.iadd(this.m),C},K.prototype.shl=function(d,g){return this._verify1(d),this.imod(d.ushln(g))},K.prototype.imul=function(d,g){return this._verify2(d,g),this.imod(d.imul(g))},K.prototype.mul=function(d,g){return this._verify2(d,g),this.imod(d.mul(g))},K.prototype.isqr=function(d){return this.imul(d,d.clone())},K.prototype.sqr=function(d){return this.mul(d,d)},K.prototype.sqrt=function(d){if(d.isZero())return d.clone();var g=this.m.andln(3);if(r(g%2===1),g===3){var C=this.m.add(new o(1)).iushrn(2);return this.pow(d,C)}for(var m=this.m.subn(1),x=0;!m.isZero()&&m.andln(1)===0;)x++,m.iushrn(1);r(!m.isZero());var $=new o(1).toRed(this),P=$.redNeg(),S=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);this.pow(h,S).cmp(P)!==0;)h.redIAdd(P);for(var B=this.pow(h,m),z=this.pow(d,m.addn(1).iushrn(1)),Q=this.pow(d,m),J=x;Q.cmp($)!==0;){for(var te=Q,re=0;te.cmp($)!==0;re++)te=te.redSqr();r(re<J);var ie=this.pow(B,new o(1).iushln(J-re-1));z=z.redMul(ie),B=ie.redSqr(),Q=Q.redMul(B),J=re}return z},K.prototype.invm=function(d){var g=d._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},K.prototype.pow=function(d,g){if(g.isZero())return new o(1).toRed(this);if(g.cmpn(1)===0)return d.clone();var C=4,m=new Array(1<<C);m[0]=new o(1).toRed(this),m[1]=d;for(var x=2;x<m.length;x++)m[x]=this.mul(m[x-1],d);var $=m[0],P=0,S=0,h=g.bitLength()%26;for(h===0&&(h=26),x=g.length-1;x>=0;x--){for(var B=g.words[x],z=h-1;z>=0;z--){var Q=B>>z&1;if($!==m[0]&&($=this.sqr($)),Q===0&&P===0){S=0;continue}P<<=1,P|=Q,S++,!(S!==C&&(x!==0||z!==0))&&($=this.mul($,m[P]),S=0,P=0)}h=26}return $},K.prototype.convertTo=function(d){var g=d.umod(this.m);return g===d?g.clone():g},K.prototype.convertFrom=function(d){var g=d.clone();return g.red=null,g},o.mont=function(d){return new H(d)};function H(k){K.call(this,k),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(H,K),H.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},H.prototype.convertFrom=function(d){var g=this.imod(d.mul(this.rinv));return g.red=null,g},H.prototype.imul=function(d,g){if(d.isZero()||g.isZero())return d.words[0]=0,d.length=1,d;var C=d.imul(g),m=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=C.isub(m).iushrn(this.shift),$=x;return x.cmp(this.m)>=0?$=x.isub(this.m):x.cmpn(0)<0&&($=x.iadd(this.m)),$._forceRed(this)},H.prototype.mul=function(d,g){if(d.isZero()||g.isZero())return new o(0)._forceRed(this);var C=d.mul(g),m=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=C.isub(m).iushrn(this.shift),$=x;return x.cmp(this.m)>=0?$=x.isub(this.m):x.cmpn(0)<0&&($=x.iadd(this.m)),$._forceRed(this)},H.prototype.invm=function(d){var g=this.imod(d._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(e,Ya)})(Lg);var $s=Lg.exports;new $s.BN(1e3,10),new $s.BN(1e6,10),new $s.BN(1e9,10),new $s.BN(1e12,10);new $s.BN("2100000000000000000",10);new $s.BN(1e11,10);var Mv={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27};for(var zu=0,Ch=Object.keys(Mv);zu<Ch.length;zu++)Ch[zu],Mv[Ch[zu]].toString();const uM=e=>q.useMemo(()=>{if(e)try{return gp(e)}catch{return null}return null},[e]),cM=e=>{const t=q.useMemo(()=>{try{if(e)return e.token.map(i=>i.proofs).flat().reduce((i,o)=>i+o.amount,0)}catch{return 0}},[e]),n=q.useMemo(()=>t?Math.max(Math.round(t*.02),3):0,[t]);return{tokenAmount:t,lightningFees:n}};function fM({change:e}){const t=q.useMemo(()=>e.proofs.reduce((n,r)=>n+r.amount,0),[e]);return U.jsxs("div",{className:"flex flex-col gap-2 items-center text-white text-center",children:[U.jsxs("div",{children:[U.jsx("p",{className:"font-bold",children:"Payment Successfull"}),U.jsxs("p",{children:["There are ",t," SATS left from fee reserve"]})]}),U.jsx("div",{className:"max-h-64 p-2 text-sm max-w-xs lg:max-w-lg bg-zinc-700 break-words overflow-auto rounded overflow-x-hidden",children:U.jsx("p",{children:CB({memo:"",token:[{mint:e.mint,proofs:e.proofs}]})})})]})}function dM(){const[e,t]=q.useState(),[n,r]=q.useState(),[i,o]=q.useState(),[s,a]=q.useState(!1),[l,u]=q.useState(),[c,f]=q.useState(!0),[,p]=eg(),{sdk:E}=q.useContext(lr),_=q.useRef(null);f4();const y=uM(e),{tokenAmount:A,lightningFees:w}=cM(y);q.useEffect(()=>{E&&E.getToken().then(T=>t(T)).catch(T=>r(T.message)).finally(()=>f(!1))},[E]);async function R(){o(""),a(!0);try{if(!_.current||!_.current.value||!y)throw new Error("Please paste a valid Lightning invoice");if(VT(_.current.value)!==A-w)throw new Error(`Invalid amount! Please make sure that the amount is exactly ${A-w} SATS`);const L=new oM(new yp(y.token[0].mint)),j=y.token.map(N=>N.proofs).flat(),M=await L.payLnInvoice(_.current.value,j);u({proofs:M.change,mint:y.token[0].mint})}catch(T){T instanceof Error&&o(T.message)}finally{a(!1)}}if(c)return U.jsx(Wc,{children:U.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[U.jsx("p",{className:"text-white",children:"Loading Token..."}),U.jsx(zi,{text:"Close",onClick:()=>p(void 0)})]})});if(n)return U.jsx(Wc,{children:U.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[U.jsx("p",{className:"text-white",children:n}),U.jsx(zi,{text:"Close",onClick:()=>p(void 0)})]})});if(e&&A&&w)return U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"inset-0 bg-black opacity-80 absolute"}),U.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:U.jsxs("dialog",{open:!0,className:"flex flex-col justify-center items-center gap-4 max-w-xs sm:max-w-sm p-4 rounded bg-zinc-800",children:[U.jsxs("div",{className:"flex flex-col items-center text-white text-center",children:[U.jsxs("p",{children:["Please paste an Lightning Invoice for"," ",A-w," SATS"]}),U.jsxs("p",{className:"text-xs text-zinc-500",children:[w," SATS are reserved for Lightning Fees. Change can be claimed using a cashu wallet."]})]}),U.jsxs("div",{className:"flex flex-col items-center",children:[l?U.jsx(fM,{change:l}):U.jsx("input",{className:`bg-zinc-900 rounded p-2 text-zinc-500 ${i?"border-red-500 border-2":""}`,placeholder:"lnbc1...",ref:_}),i?U.jsx("p",{className:"text-red-500 text-sm",children:i}):void 0,s?U.jsx("p",{className:"text-sm",children:"Paying..."}):void 0]}),U.jsxs("div",{className:"flex gap-4",children:[U.jsx(zi,{text:"Pay Invoice",onClick:R}),U.jsx(zi,{text:"Close",onClick:()=>p(void 0)})]})]})})]})}function hM(){return ho.createPortal(U.jsx(dM,{}),document.getElementById("modal"))}function pM(){const[e,t]=q.useState(),n=yo(),{sdk:r}=q.useContext(lr);return q.useEffect(()=>{async function i(){const o=await r.getInfo();t(o)}r?i():n("/setup")},[r]),e}function gM(){const{setSdk:e}=q.useContext(lr);function t(){e(void 0),localStorage.clear()}return t}function yM(){const[e,t]=eg(),n=e.get("claim"),r=pM(),i=gM();return U.jsx("main",{className:"p-0.5 shadow-lg bg-gradient-to-tr from-purple-500 to-pink-500 rounded-xl items-center mt-6",children:U.jsxs("div",{className:"bg-zinc-800 p-8 flex flex-col gap-8 rounded-xl",children:[U.jsx(PT,{}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[U.jsx(xh,{title:"Claim on Lightning",icon:U.jsx($A,{style:{fill:"white"}}),onClick:()=>{t("claim=ln")}}),U.jsx(xh,{title:"Claim on Cashu",icon:U.jsx(PA,{style:{fill:"white"}}),onClick:()=>{t("claim=cashu")}})]}),U.jsx(MT,{info:r}),n==="cashu"?U.jsx(LT,{}):void 0,n==="ln"?U.jsx(hM,{}):void 0,U.jsx(xh,{title:"Logout",icon:U.jsx(LA,{style:{fill:"white"}}),onClick:()=>{i()}})]})})}var mM=Math.ceil,vM=Math.max;function wM(e,t,n,r){for(var i=-1,o=vM(mM((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=e,e+=n;return s}var xM=wM;function bM(e,t){return e===t||e!==e&&t!==t}var Ng=bM,EM=typeof Ya=="object"&&Ya&&Ya.Object===Object&&Ya,U4=EM,SM=U4,_M=typeof self=="object"&&self&&self.Object===Object&&self,AM=SM||_M||Function("return this")(),Nr=AM,kM=Nr,RM=kM.Symbol,qf=RM,Pv=qf,D4=Object.prototype,CM=D4.hasOwnProperty,TM=D4.toString,Va=Pv?Pv.toStringTag:void 0;function BM(e){var t=CM.call(e,Va),n=e[Va];try{e[Va]=void 0;var r=!0}catch{}var i=TM.call(e);return r&&(t?e[Va]=n:delete e[Va]),i}var $M=BM,MM=Object.prototype,PM=MM.toString;function IM(e){return PM.call(e)}var LM=IM,Iv=qf,NM=$M,OM=LM,jM="[object Null]",UM="[object Undefined]",Lv=Iv?Iv.toStringTag:void 0;function DM(e){return e==null?e===void 0?UM:jM:Lv&&Lv in Object(e)?NM(e):OM(e)}var su=DM;function FM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Wf=FM,zM=su,HM=Wf,KM="[object AsyncFunction]",VM="[object Function]",qM="[object GeneratorFunction]",WM="[object Proxy]";function GM(e){if(!HM(e))return!1;var t=zM(e);return t==VM||t==qM||t==KM||t==WM}var F4=GM,ZM=9007199254740991;function YM(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ZM}var z4=YM,QM=F4,JM=z4;function XM(e){return e!=null&&JM(e.length)&&!QM(e)}var H4=XM,eP=9007199254740991,tP=/^(?:0|[1-9]\d*)$/;function nP(e,t){var n=typeof e;return t=t??eP,!!t&&(n=="number"||n!="symbol"&&tP.test(e))&&e>-1&&e%1==0&&e<t}var K4=nP,rP=Ng,iP=H4,oP=K4,sP=Wf;function aP(e,t,n){if(!sP(n))return!1;var r=typeof t;return(r=="number"?iP(n)&&oP(t,n.length):r=="string"&&t in n)?rP(n[t],e):!1}var lP=aP,uP=/\s/;function cP(e){for(var t=e.length;t--&&uP.test(e.charAt(t)););return t}var fP=cP,dP=fP,hP=/^\s+/;function pP(e){return e&&e.slice(0,dP(e)+1).replace(hP,"")}var gP=pP;function yP(e){return e!=null&&typeof e=="object"}var au=yP,mP=su,vP=au,wP="[object Symbol]";function xP(e){return typeof e=="symbol"||vP(e)&&mP(e)==wP}var V4=xP,bP=gP,Nv=Wf,EP=V4,Ov=NaN,SP=/^[-+]0x[0-9a-f]+$/i,_P=/^0b[01]+$/i,AP=/^0o[0-7]+$/i,kP=parseInt;function RP(e){if(typeof e=="number")return e;if(EP(e))return Ov;if(Nv(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Nv(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=bP(e);var n=_P.test(e);return n||AP.test(e)?kP(e.slice(2),n?2:8):SP.test(e)?Ov:+e}var q4=RP,CP=q4,jv=1/0,TP=17976931348623157e292;function BP(e){if(!e)return e===0?e:0;if(e=CP(e),e===jv||e===-jv){var t=e<0?-1:1;return t*TP}return e===e?e:0}var W4=BP,$P=xM,MP=lP,Th=W4;function PP(e){return function(t,n,r){return r&&typeof r!="number"&&MP(t,n,r)&&(n=r=void 0),t=Th(t),n===void 0?(n=t,t=0):n=Th(n),r=r===void 0?t<n?1:-1:Th(r),$P(t,n,r,e)}}var IP=PP,LP=IP,NP=LP(),OP=NP;const jP=la(OP);function it(){return it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it.apply(this,arguments)}function G4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Z4={exports:{}},Ve={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var It=typeof Symbol=="function"&&Symbol.for,Og=It?Symbol.for("react.element"):60103,jg=It?Symbol.for("react.portal"):60106,Gf=It?Symbol.for("react.fragment"):60107,Zf=It?Symbol.for("react.strict_mode"):60108,Yf=It?Symbol.for("react.profiler"):60114,Qf=It?Symbol.for("react.provider"):60109,Jf=It?Symbol.for("react.context"):60110,Ug=It?Symbol.for("react.async_mode"):60111,Xf=It?Symbol.for("react.concurrent_mode"):60111,ed=It?Symbol.for("react.forward_ref"):60112,td=It?Symbol.for("react.suspense"):60113,UP=It?Symbol.for("react.suspense_list"):60120,nd=It?Symbol.for("react.memo"):60115,rd=It?Symbol.for("react.lazy"):60116,DP=It?Symbol.for("react.block"):60121,FP=It?Symbol.for("react.fundamental"):60117,zP=It?Symbol.for("react.responder"):60118,HP=It?Symbol.for("react.scope"):60119;function _n(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Og:switch(e=e.type,e){case Ug:case Xf:case Gf:case Yf:case Zf:case td:return e;default:switch(e=e&&e.$$typeof,e){case Jf:case ed:case rd:case nd:case Qf:return e;default:return t}}case jg:return t}}}function Y4(e){return _n(e)===Xf}Ve.AsyncMode=Ug;Ve.ConcurrentMode=Xf;Ve.ContextConsumer=Jf;Ve.ContextProvider=Qf;Ve.Element=Og;Ve.ForwardRef=ed;Ve.Fragment=Gf;Ve.Lazy=rd;Ve.Memo=nd;Ve.Portal=jg;Ve.Profiler=Yf;Ve.StrictMode=Zf;Ve.Suspense=td;Ve.isAsyncMode=function(e){return Y4(e)||_n(e)===Ug};Ve.isConcurrentMode=Y4;Ve.isContextConsumer=function(e){return _n(e)===Jf};Ve.isContextProvider=function(e){return _n(e)===Qf};Ve.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Og};Ve.isForwardRef=function(e){return _n(e)===ed};Ve.isFragment=function(e){return _n(e)===Gf};Ve.isLazy=function(e){return _n(e)===rd};Ve.isMemo=function(e){return _n(e)===nd};Ve.isPortal=function(e){return _n(e)===jg};Ve.isProfiler=function(e){return _n(e)===Yf};Ve.isStrictMode=function(e){return _n(e)===Zf};Ve.isSuspense=function(e){return _n(e)===td};Ve.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Gf||e===Xf||e===Yf||e===Zf||e===td||e===UP||typeof e=="object"&&e!==null&&(e.$$typeof===rd||e.$$typeof===nd||e.$$typeof===Qf||e.$$typeof===Jf||e.$$typeof===ed||e.$$typeof===FP||e.$$typeof===zP||e.$$typeof===HP||e.$$typeof===DP)};Ve.typeOf=_n;Z4.exports=Ve;var KP=Z4.exports,Dg=KP,VP={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},qP={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},WP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Q4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Fg={};Fg[Dg.ForwardRef]=WP;Fg[Dg.Memo]=Q4;function Uv(e){return Dg.isMemo(e)?Q4:Fg[e.$$typeof]||VP}var GP=Object.defineProperty,ZP=Object.getOwnPropertyNames,Dv=Object.getOwnPropertySymbols,YP=Object.getOwnPropertyDescriptor,QP=Object.getPrototypeOf,Fv=Object.prototype;function J4(e,t,n){if(typeof t!="string"){if(Fv){var r=QP(t);r&&r!==Fv&&J4(e,r,n)}var i=ZP(t);Dv&&(i=i.concat(Dv(t)));for(var o=Uv(e),s=Uv(t),a=0;a<i.length;++a){var l=i[a];if(!qP[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var u=YP(t,l);try{GP(e,l,u)}catch{}}}}return e}var JP=J4;const XP=la(JP);var X4={exports:{}},e9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",t9=e9,n9=t9;function eE(){}function tE(){}tE.resetWarningCache=eE;var r9=function(){function e(r,i,o,s,a,l){if(l!==n9){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:tE,resetWarningCache:eE};return n.PropTypes=n,n};X4.exports=r9();var nE=X4.exports,rE={};Object.defineProperty(rE,"__esModule",{value:!0});rE.default=i9;function i9(e){return e.displayName||e.name||(typeof e=="string"&&e.length>0?e:"Unknown")}function Hu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xc(){return Xc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xc.apply(this,arguments)}function o9(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ri(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s9(e){var t=function(n){o9(r,n);function r(){for(var o,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=n.call.apply(n,[this].concat(a))||this,Hu(Ri(Ri(o)),"cachedTheme",void 0),Hu(Ri(Ri(o)),"lastOuterTheme",void 0),Hu(Ri(Ri(o)),"lastTheme",void 0),Hu(Ri(Ri(o)),"renderProvider",function(u){var c=o.props.children;return Qt.createElement(e.Provider,{value:o.getTheme(u)},c)}),o}var i=r.prototype;return i.getTheme=function(s){if(this.props.theme!==this.lastTheme||s!==this.lastOuterTheme||!this.cachedTheme)if(this.lastOuterTheme=s,this.lastTheme=this.props.theme,typeof this.lastTheme=="function"){var a=this.props.theme;this.cachedTheme=a(s)}else{var l=this.props.theme;this.cachedTheme=s?Xc({},s,l):l}return this.cachedTheme},i.render=function(){var s=this.props.children;return s?Qt.createElement(e.Consumer,null,this.renderProvider):null},r}(Qt.Component);return t}function a9(e){return function(n){var r=Qt.forwardRef(function(i,o){return Qt.createElement(e.Consumer,null,function(s){return Qt.createElement(n,Xc({theme:s,ref:o},i))})});return XP(r,n),r}}function l9(e){var t=function(){var r=Qt.useContext(e);return r};return t}function u9(e){return{context:e,withTheme:a9(e),useTheme:l9(e),ThemeProvider:s9(e)}}var iE=q.createContext();u9(iE);var zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ya=(typeof window>"u"?"undefined":zv(window))==="object"&&(typeof document>"u"?"undefined":zv(document))==="object"&&document.nodeType===9;function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function c9(e,t){if(Vl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f9(e){var t=c9(e,"string");return Vl(t)=="symbol"?t:String(t)}function Hv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f9(r.key),r)}}function zg(e,t,n){return t&&Hv(e.prototype,t),n&&Hv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _p(e,t){return _p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_p(e,t)}function oE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_p(e,t)}function Kv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d9={}.constructor;function Ap(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(Ap);if(e.constructor!==d9)return e;var t={};for(var n in e)t[n]=Ap(e[n]);return t}function id(e,t,n){e===void 0&&(e="unnamed");var r=n.jss,i=Ap(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var Vv=function(t,n){for(var r="",i=0;i<t.length&&t[i]!=="!important";i++)r&&(r+=n),r+=t[i];return r},Xo=function(t){if(!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&t[r]!=="!important";r++)n&&(n+=", "),n+=Vv(t[r]," ");else n=Vv(t,", ");return t[t.length-1]==="!important"&&(n+=" !important"),n};function ma(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function qa(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function ql(e,t,n){n===void 0&&(n={});var r="";if(!t)return r;var i=n,o=i.indent,s=o===void 0?0:o,a=t.fallbacks;n.format===!1&&(s=-1/0);var l=ma(n),u=l.linebreak,c=l.space;if(e&&s++,a)if(Array.isArray(a))for(var f=0;f<a.length;f++){var p=a[f];for(var E in p){var _=p[E];_!=null&&(r&&(r+=u),r+=qa(E+":"+c+Xo(_)+";",s))}}else for(var y in a){var A=a[y];A!=null&&(r&&(r+=u),r+=qa(y+":"+c+Xo(A)+";",s))}for(var w in t){var R=t[w];R!=null&&w!=="fallbacks"&&(r&&(r+=u),r+=qa(w+":"+c+Xo(R)+";",s))}return!r&&!n.allowEmpty||!e?r:(s--,r&&(r=""+u+r+u),qa(""+e+c+"{"+r,s)+qa("}",s))}var h9=/([[\].#*$><+~=|^:(),"'`\s])/g,qv=typeof CSS<"u"&&CSS.escape,Hg=function(e){return qv?qv(e):e.replace(h9,"\\$1")},sE=function(){function e(n,r,i){this.type="style",this.isProcessed=!1;var o=i.sheet,s=i.Renderer;this.key=n,this.options=i,this.style=r,o?this.renderer=o.renderer:s&&(this.renderer=new s)}var t=e.prototype;return t.prop=function(r,i,o){if(i===void 0)return this.style[r];var s=o?o.force:!1;if(!s&&this.style[r]===i)return this;var a=i;(!o||o.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(i,r,this));var l=a==null||a===!1,u=r in this.style;if(l&&!u&&!s)return this;var c=l&&u;if(c?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return c?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var f=this.options.sheet;return f&&f.attached,this},e}(),kp=function(e){oE(t,e);function t(r,i,o){var s;s=e.call(this,r,i,o)||this;var a=o.selector,l=o.scoped,u=o.sheet,c=o.generateId;return a?s.selectorText=a:l!==!1&&(s.id=c(Kv(Kv(s)),u),s.selectorText="."+Hg(s.id)),s}var n=t.prototype;return n.applyTo=function(i){var o=this.renderer;if(o){var s=this.toJSON();for(var a in s)o.setProperty(i,a,s[a])}return this},n.toJSON=function(){var i={};for(var o in this.style){var s=this.style[o];typeof s!="object"?i[o]=s:Array.isArray(s)&&(i[o]=Xo(s))}return i},n.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?it({},i,{allowEmpty:!0}):i;return ql(this.selectorText,this.style,a)},zg(t,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,s=this.renderable;if(!(!s||!o)){var a=o.setSelector(s,i);a||o.replaceRule(s,this)}}},get:function(){return this.selectorText}}]),t}(sE),p9={onCreateRule:function(t,n,r){return t[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new kp(t,n,r)}},Bh={indent:1,children:!0},g9=/@([\w-]+)/,y9=function(){function e(n,r,i){this.type="conditional",this.isProcessed=!1,this.key=n;var o=n.match(g9);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new od(it({},i,{parent:this}));for(var s in r)this.rules.add(s,r[s]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.indexOf=function(r){return this.rules.indexOf(r)},t.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s?(this.options.jss.plugins.onProcessRule(s),s):null},t.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.toString=function(r){r===void 0&&(r=Bh);var i=ma(r),o=i.linebreak;if(r.indent==null&&(r.indent=Bh.indent),r.children==null&&(r.children=Bh.children),r.children===!1)return this.query+" {}";var s=this.rules.toString(r);return s?this.query+" {"+o+s+o+"}":""},e}(),m9=/@container|@media|@supports\s+/,v9={onCreateRule:function(t,n,r){return m9.test(t)?new y9(t,n,r):null}},$h={indent:1,children:!0},w9=/@keyframes\s+([\w-]+)/,Rp=function(){function e(n,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=n.match(w9);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var s=i.scoped,a=i.sheet,l=i.generateId;this.id=s===!1?this.name:Hg(l(this,a)),this.rules=new od(it({},i,{parent:this}));for(var u in r)this.rules.add(u,r[u],it({},i,{parent:this}));this.rules.process()}var t=e.prototype;return t.toString=function(r){r===void 0&&(r=$h);var i=ma(r),o=i.linebreak;if(r.indent==null&&(r.indent=$h.indent),r.children==null&&(r.children=$h.children),r.children===!1)return this.at+" "+this.id+" {}";var s=this.rules.toString(r);return s&&(s=""+o+s+o),this.at+" "+this.id+" {"+s+"}"},e}(),x9=/@keyframes\s+/,b9=/\$([\w-]+)/g,Cp=function(t,n){return typeof t=="string"?t.replace(b9,function(r,i){return i in n?n[i]:r}):t},Wv=function(t,n,r){var i=t[n],o=Cp(i,r);o!==i&&(t[n]=o)},E9={onCreateRule:function(t,n,r){return typeof t=="string"&&x9.test(t)?new Rp(t,n,r):null},onProcessStyle:function(t,n,r){return n.type!=="style"||!r||("animation-name"in t&&Wv(t,"animation-name",r.keyframes),"animation"in t&&Wv(t,"animation",r.keyframes)),t},onChangeValue:function(t,n,r){var i=r.options.sheet;if(!i)return t;switch(n){case"animation":return Cp(t,i.keyframes);case"animation-name":return Cp(t,i.keyframes);default:return t}}},S9=function(e){oE(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?it({},i,{allowEmpty:!0}):i;return ql(this.key,this.style,a)},t}(sE),_9={onCreateRule:function(t,n,r){return r.parent&&r.parent.type==="keyframes"?new S9(t,n,r):null}},A9=function(){function e(n,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){var i=ma(r),o=i.linebreak;if(Array.isArray(this.style)){for(var s="",a=0;a<this.style.length;a++)s+=ql(this.at,this.style[a]),this.style[a+1]&&(s+=o);return s}return ql(this.at,this.style,r)},e}(),k9=/@font-face/,R9={onCreateRule:function(t,n,r){return k9.test(t)?new A9(t,n,r):null}},C9=function(){function e(n,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){return ql(this.key,this.style,r)},e}(),T9={onCreateRule:function(t,n,r){return t==="@viewport"||t==="@-ms-viewport"?new C9(t,n,r):null}},B9=function(){function e(n,r,i){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=i}var t=e.prototype;return t.toString=function(r){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},e}(),$9={"@charset":!0,"@import":!0,"@namespace":!0},M9={onCreateRule:function(t,n,r){return t in $9?new B9(t,n,r):null}},Gv=[p9,v9,E9,_9,R9,T9,M9],P9={process:!0},Zv={force:!0,process:!0},od=function(){function e(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var t=e.prototype;return t.add=function(r,i,o){var s=this.options,a=s.parent,l=s.sheet,u=s.jss,c=s.Renderer,f=s.generateId,p=s.scoped,E=it({classes:this.classes,parent:a,sheet:l,jss:u,Renderer:c,generateId:f,scoped:p,name:r,keyframes:this.keyframes,selector:void 0},o),_=r;r in this.raw&&(_=r+"-d"+this.counter++),this.raw[_]=i,_ in this.classes&&(E.selector="."+Hg(this.classes[_]));var y=id(_,i,E);if(!y)return null;this.register(y);var A=E.index===void 0?this.index.length:E.index;return this.index.splice(A,0,y),y},t.replace=function(r,i,o){var s=this.get(r),a=this.index.indexOf(s);s&&this.remove(s);var l=o;return a!==-1&&(l=it({},o,{index:a})),this.add(r,i,l)},t.get=function(r){return this.map[r]},t.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},t.indexOf=function(r){return this.index.indexOf(r)},t.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},t.register=function(r){this.map[r.key]=r,r instanceof kp?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof Rp&&this.keyframes&&(this.keyframes[r.name]=r.id)},t.unregister=function(r){delete this.map[r.key],r instanceof kp?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof Rp&&delete this.keyframes[r.name]},t.update=function(){var r,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,o);else for(var s=0;s<this.index.length;s++)this.updateOne(this.index[s],i,o)},t.updateOne=function(r,i,o){o===void 0&&(o=P9);var s=this.options,a=s.jss.plugins,l=s.sheet;if(r.rules instanceof e){r.rules.update(i,o);return}var u=r.style;if(a.onUpdate(i,r,l,o),o.process&&u&&u!==r.style){a.onProcessStyle(r.style,r,l);for(var c in r.style){var f=r.style[c],p=u[c];f!==p&&r.prop(c,f,Zv)}for(var E in u){var _=r.style[E],y=u[E];_==null&&_!==y&&r.prop(E,null,Zv)}}},t.toString=function(r){for(var i="",o=this.options.sheet,s=o?o.options.link:!1,a=ma(r),l=a.linebreak,u=0;u<this.index.length;u++){var c=this.index[u],f=c.toString(r);!f&&!s||(i&&(i+=l),i+=f)}return i},e}(),aE=function(){function e(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=it({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new od(this.options);for(var i in n)this.rules.add(i,n[i]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(r,i,o){var s=this.queue;this.attached&&!s&&(this.queue=[]);var a=this.rules.add(r,i,o);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(s?s.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},t.replaceRule=function(r,i,o){var s=this.rules.get(r);if(!s)return this.addRule(r,i,o);var a=this.rules.replace(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?s.renderable&&this.renderer.replaceRule(s.renderable,a):this.renderer.deleteRule(s)),a):(this.deployed=!1,a)},t.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},t.addRules=function(r,i){var o=[];for(var s in r){var a=this.addRule(s,r[s],i);a&&o.push(a)}return o},t.getRule=function(r){return this.rules.get(r)},t.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},t.indexOf=function(r){return this.rules.indexOf(r)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},t.updateOne=function(r,i,o){return this.rules.updateOne(r,i,o),this},t.toString=function(r){return this.rules.toString(r)},e}(),I9=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(r,i,o){for(var s=0;s<this.registry.onCreateRule.length;s++){var a=this.registry.onCreateRule[s](r,i,o);if(a)return a}return null},t.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},t.onProcessStyle=function(r,i,o){for(var s=0;s<this.registry.onProcessStyle.length;s++)i.style=this.registry.onProcessStyle[s](i.style,i,o)},t.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},t.onUpdate=function(r,i,o,s){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,i,o,s)},t.onChangeValue=function(r,i,o){for(var s=r,a=0;a<this.registry.onChangeValue.length;a++)s=this.registry.onChangeValue[a](s,i,o);return s},t.use=function(r,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(r)===-1&&(o.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(s,a){for(var l in a)l in s&&s[l].push(a[l]);return s},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),L9=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(r){var i=this.registry,o=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||o>=this.index){i.push(r);return}for(var s=0;s<i.length;s++)if(i[s].options.index>o){i.splice(s,0,r);return}}},t.reset=function(){this.registry=[]},t.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},t.toString=function(r){for(var i=r===void 0?{}:r,o=i.attached,s=G4(i,["attached"]),a=ma(s),l=a.linebreak,u="",c=0;c<this.registry.length;c++){var f=this.registry[c];o!=null&&f.attached!==o||(u&&(u+=l),u+=f.toString(s))}return u},zg(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),vl=new L9,Tp=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),Bp="2f1acc6c3a606b082e5eef5e54414ffb";Tp[Bp]==null&&(Tp[Bp]=0);var Yv=Tp[Bp]++,Qv=function(t){t===void 0&&(t={});var n=0,r=function(o,s){n+=1;var a="",l="";return s&&(s.options.classNamePrefix&&(l=s.options.classNamePrefix),s.options.jss.id!=null&&(a=String(s.options.jss.id))),t.minify?""+(l||"c")+Yv+a+n:l+o.key+"-"+Yv+(a?"-"+a:"")+"-"+n};return r},lE=function(t){var n;return function(){return n||(n=t()),n}},N9=function(t,n){try{return t.attributeStyleMap?t.attributeStyleMap.get(n):t.style.getPropertyValue(n)}catch{return""}},O9=function(t,n,r){try{var i=r;if(Array.isArray(r)&&(i=Xo(r)),t.attributeStyleMap)t.attributeStyleMap.set(n,i);else{var o=i?i.indexOf("!important"):-1,s=o>-1?i.substr(0,o-1):i;t.style.setProperty(n,s,o>-1?"important":"")}}catch{return!1}return!0},j9=function(t,n){try{t.attributeStyleMap?t.attributeStyleMap.delete(n):t.style.removeProperty(n)}catch{}},U9=function(t,n){return t.selectorText=n,t.selectorText===n},uE=lE(function(){return document.querySelector("head")});function D9(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}function F9(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}function z9(e){for(var t=uE(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===e)return r}return null}function H9(e){var t=vl.registry;if(t.length>0){var n=D9(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=F9(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&typeof r=="string"){var i=z9(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function K9(e,t){var n=t.insertionPoint,r=H9(t);if(r!==!1&&r.parent){r.parent.insertBefore(e,r.node);return}if(n&&typeof n.nodeType=="number"){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling);return}uE().appendChild(e)}var V9=lE(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),Jv=function(t,n,r){try{"insertRule"in t?t.insertRule(n,r):"appendRule"in t&&t.appendRule(n)}catch{return!1}return t.cssRules[r]},Xv=function(t,n){var r=t.cssRules.length;return n===void 0||n>r?r:n},q9=function(){var t=document.createElement("style");return t.textContent=`
`,t},W9=function(){function e(n){this.getPropertyValue=N9,this.setProperty=O9,this.removeProperty=j9,this.setSelector=U9,this.hasInsertedRules=!1,this.cssRules=[],n&&vl.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},i=r.media,o=r.meta,s=r.element;this.element=s||q9(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var a=V9();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!(this.element.parentNode||!this.sheet)){K9(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},t.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},t.insertRules=function(r,i){for(var o=0;o<r.index.length;o++)this.insertRule(r.index[o],o,i)},t.insertRule=function(r,i,o){if(o===void 0&&(o=this.element.sheet),r.rules){var s=r,a=o;if(r.type==="conditional"||r.type==="keyframes"){var l=Xv(o,i);if(a=Jv(o,s.toString({children:!1}),l),a===!1)return!1;this.refCssRule(r,l,a)}return this.insertRules(s.rules,a),a}var u=r.toString();if(!u)return!1;var c=Xv(o,i),f=Jv(o,u,c);return f===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,c,f),f)},t.refCssRule=function(r,i,o){r.renderable=o,r.options.parent instanceof aE&&this.cssRules.splice(i,0,o)},t.deleteRule=function(r){var i=this.element.sheet,o=this.indexOf(r);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},t.indexOf=function(r){return this.cssRules.indexOf(r)},t.replaceRule=function(r,i){var o=this.indexOf(r);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},t.getRules=function(){return this.element.sheet.cssRules},e}(),G9=0,Z9=function(){function e(n){this.id=G9++,this.version="10.10.0",this.plugins=new I9,this.options={id:{minify:!1},createGenerateId:Qv,Renderer:ya?W9:null,plugins:[]},this.generateId=Qv({minify:!1});for(var r=0;r<Gv.length;r++)this.plugins.use(Gv[r],{queue:"internal"});this.setup(n)}var t=e.prototype;return t.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=it({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},t.createStyleSheet=function(r,i){i===void 0&&(i={});var o=i,s=o.index;typeof s!="number"&&(s=vl.index===0?0:vl.index+1);var a=new aE(r,it({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:s}));return this.plugins.onProcessSheet(a),a},t.removeStyleSheet=function(r){return r.detach(),vl.remove(r),this},t.createRule=function(r,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof r=="object")return this.createRule(void 0,r,i);var s=it({},o,{name:r,jss:this,Renderer:this.options.Renderer});s.generateId||(s.generateId=this.generateId),s.classes||(s.classes={}),s.keyframes||(s.keyframes={});var a=id(r,i,s);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var r=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.forEach(function(a){r.plugins.use(a)}),this},e}(),cE=function(t){return new Z9(t)},ew=function(){function e(){this.length=0,this.sheets=new WeakMap}var t=e.prototype;return t.get=function(r){var i=this.sheets.get(r);return i&&i.sheet},t.add=function(r,i){this.sheets.has(r)||(this.length++,this.sheets.set(r,{sheet:i,refs:0}))},t.manage=function(r){var i=this.sheets.get(r);if(i)return i.refs===0&&i.sheet.attach(),i.refs++,i.sheet},t.unmanage=function(r){var i=this.sheets.get(r);i&&i.refs>0&&(i.refs--,i.refs===0&&i.sheet.detach())},zg(e,[{key:"size",get:function(){return this.length}}]),e}(),Kg=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function fE(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if(i==="function")t||(t={}),t[n]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var o=fE(r);o&&(t||(t={}),t[n]=o)}}return t}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */cE();var dE=Date.now(),Mh="fnValues"+dE,Ph="fnStyle"+ ++dE,Y9=function(){return{onCreateRule:function(n,r,i){if(typeof r!="function")return null;var o=id(n,{},i);return o[Ph]=r,o},onProcessStyle:function(n,r){if(Mh in r||Ph in r)return n;var i={};for(var o in n){var s=n[o];typeof s=="function"&&(delete n[o],i[o]=s)}return r[Mh]=i,n},onUpdate:function(n,r,i,o){var s=r,a=s[Ph];a&&(s.style=a(n)||{});var l=s[Mh];if(l)for(var u in l)s.prop(u,l[u](n),o)}}};function Q9(e){var t,n=e.Symbol;return typeof n=="function"?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}var ps;typeof self<"u"?ps=self:typeof window<"u"?ps=window:typeof global<"u"?ps=global:typeof e1<"u"?ps=e1:ps=Function("return this")();var tw=Q9(ps),nw=function(t){return t&&t[tw]&&t===t[tw]()},J9=function(t){return{onCreateRule:function(r,i,o){if(!nw(i))return null;var s=i,a=id(r,{},o);return s.subscribe(function(l){for(var u in l)a.prop(u,l[u],t)}),a},onProcessRule:function(r){if(!(r&&r.type!=="style")){var i=r,o=i.style,s=function(c){var f=o[c];if(!nw(f))return"continue";delete o[c],f.subscribe({next:function(E){i.prop(c,E,t)}})};for(var a in o)var l=s(a)}}}};const X9=J9;var eI=/;\n/,tI=function(t){for(var n={},r=t.split(eI),i=0;i<r.length;i++){var o=(r[i]||"").trim();if(o){var s=o.indexOf(":");if(s!==-1){var a=o.substr(0,s).trim(),l=o.substr(s+1).trim();n[a]=l}}}return n},nI=function(t){typeof t.style=="string"&&(t.style=tI(t.style))};function rI(){return{onProcessRule:nI}}var Xi="@global",$p="@global ",iI=function(){function e(n,r,i){this.type="global",this.at=Xi,this.isProcessed=!1,this.key=n,this.options=i,this.rules=new od(it({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.indexOf=function(r){return this.rules.indexOf(r)},t.toString=function(r){return this.rules.toString(r)},e}(),oI=function(){function e(n,r,i){this.type="global",this.at=Xi,this.isProcessed=!1,this.key=n,this.options=i;var o=n.substr($p.length);this.rule=i.jss.createRule(o,r,it({},i,{parent:this}))}var t=e.prototype;return t.toString=function(r){return this.rule?this.rule.toString(r):""},e}(),sI=/\s*,\s*/g;function hE(e,t){for(var n=e.split(sI),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}function aI(e,t){var n=e.options,r=e.style,i=r?r[Xi]:null;if(i){for(var o in i)t.addRule(o,i[o],it({},n,{selector:hE(o,e.selector)}));delete r[Xi]}}function lI(e,t){var n=e.options,r=e.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,Xi.length)!==Xi)){var o=hE(i.substr(Xi.length),e.selector);t.addRule(o,r[i],it({},n,{selector:o})),delete r[i]}}function uI(){function e(n,r,i){if(!n)return null;if(n===Xi)return new iI(n,r,i);if(n[0]==="@"&&n.substr(0,$p.length)===$p)return new oI(n,r,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=n),null}function t(n,r){n.type!=="style"||!r||(aI(n,r),lI(n,r))}return{onCreateRule:e,onProcessRule:t}}var cc=function(t){return t&&typeof t=="object"&&!Array.isArray(t)},Ih="extendCurrValue"+Date.now();function cI(e,t,n,r){var i=typeof e.extend;if(i==="string"){if(!n)return;var o=n.getRule(e.extend);if(!o||o===t)return;var s=o.options.parent;if(s){var a=s.rules.raw[e.extend];qo(a,t,n,r)}return}if(Array.isArray(e.extend)){for(var l=0;l<e.extend.length;l++){var u=e.extend[l],c=typeof u=="string"?it({},e,{extend:u}):e.extend[l];qo(c,t,n,r)}return}for(var f in e.extend){if(f==="extend"){qo(e.extend.extend,t,n,r);continue}if(cc(e.extend[f])){f in r||(r[f]={}),qo(e.extend[f],t,n,r[f]);continue}r[f]=e.extend[f]}}function fI(e,t,n,r){for(var i in e)if(i!=="extend"){if(cc(r[i])&&cc(e[i])){qo(e[i],t,n,r[i]);continue}if(cc(e[i])){r[i]=qo(e[i],t,n);continue}r[i]=e[i]}}function qo(e,t,n,r){return r===void 0&&(r={}),cI(e,t,n,r),fI(e,t,n,r),r}function dI(){function e(n,r,i){return"extend"in n?qo(n,r,i):n}function t(n,r,i){if(r!=="extend")return n;if(n==null||n===!1){for(var o in i[Ih])i.prop(o,null);return i[Ih]=null,null}if(typeof n=="object"){for(var s in n)i.prop(s,n[s]);i[Ih]=n}return null}return{onProcessStyle:e,onChangeValue:t}}var rw=/\s*,\s*/g,hI=/&/g,pI=/\$([\w-]+)/g;function gI(){function e(i,o){return function(s,a){var l=i.getRule(a)||o&&o.getRule(a);return l?l.selector:a}}function t(i,o){for(var s=o.split(rw),a=i.split(rw),l="",u=0;u<s.length;u++)for(var c=s[u],f=0;f<a.length;f++){var p=a[f];l&&(l+=", "),l+=p.indexOf("&")!==-1?p.replace(hI,c):c+" "+p}return l}function n(i,o,s){if(s)return it({},s,{index:s.index+1});var a=i.options.nestingLevel;a=a===void 0?1:a+1;var l=it({},i.options,{nestingLevel:a,index:o.indexOf(i)+1});return delete l.name,l}function r(i,o,s){if(o.type!=="style")return i;var a=o,l=a.options.parent,u,c;for(var f in i){var p=f.indexOf("&")!==-1,E=f[0]==="@";if(!(!p&&!E)){if(u=n(a,l,u),p){var _=t(f,a.selector);c||(c=e(l,s)),_=_.replace(pI,c);var y=a.key+"-"+f;"replaceRule"in l?l.replaceRule(y,i[f],it({},u,{selector:_})):l.addRule(y,i[f],it({},u,{selector:_}))}else E&&l.addRule(f,{},u).addRule(a.key,i[f],{selector:a.selector});delete i[f]}}return i}return{onProcessStyle:r}}function Mp(e,t){if(!t)return!0;if(Array.isArray(t)){for(var n=0;n<t.length;n++){var r=Mp(e,t[n]);if(!r)return!1}return!0}if(t.indexOf(" ")>-1)return Mp(e,t.split(" "));var i=e.options.parent;if(t[0]==="$"){var o=i.getRule(t.substr(1));return!o||o===e?!1:(i.classes[e.key]+=" "+i.classes[o.key],!0)}return i.classes[e.key]+=" "+t,!0}function yI(){function e(t,n){return"composes"in t&&(Mp(n,t.composes),delete t.composes),t}return{onProcessStyle:e}}var mI=/[A-Z]/g,vI=/^ms-/,Lh={};function wI(e){return"-"+e.toLowerCase()}function pE(e){if(Lh.hasOwnProperty(e))return Lh[e];var t=e.replace(mI,wI);return Lh[e]=vI.test(t)?"-"+t:t}function ef(e){var t={};for(var n in e){var r=n.indexOf("--")===0?n:pE(n);t[r]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(ef):t.fallbacks=ef(e.fallbacks)),t}function xI(){function e(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=ef(n[r]);return n}return ef(n)}function t(n,r,i){if(r.indexOf("--")===0)return n;var o=pE(r);return r===o?n:(i.prop(o,n),null)}return{onProcessStyle:e,onChangeValue:t}}var X=Kg&&CSS?CSS.px:"px",Ku=Kg&&CSS?CSS.ms:"ms",ds=Kg&&CSS?CSS.percent:"%",bI={"animation-delay":Ku,"animation-duration":Ku,"background-position":X,"background-position-x":X,"background-position-y":X,"background-size":X,border:X,"border-bottom":X,"border-bottom-left-radius":X,"border-bottom-right-radius":X,"border-bottom-width":X,"border-left":X,"border-left-width":X,"border-radius":X,"border-right":X,"border-right-width":X,"border-top":X,"border-top-left-radius":X,"border-top-right-radius":X,"border-top-width":X,"border-width":X,"border-block":X,"border-block-end":X,"border-block-end-width":X,"border-block-start":X,"border-block-start-width":X,"border-block-width":X,"border-inline":X,"border-inline-end":X,"border-inline-end-width":X,"border-inline-start":X,"border-inline-start-width":X,"border-inline-width":X,"border-start-start-radius":X,"border-start-end-radius":X,"border-end-start-radius":X,"border-end-end-radius":X,margin:X,"margin-bottom":X,"margin-left":X,"margin-right":X,"margin-top":X,"margin-block":X,"margin-block-end":X,"margin-block-start":X,"margin-inline":X,"margin-inline-end":X,"margin-inline-start":X,padding:X,"padding-bottom":X,"padding-left":X,"padding-right":X,"padding-top":X,"padding-block":X,"padding-block-end":X,"padding-block-start":X,"padding-inline":X,"padding-inline-end":X,"padding-inline-start":X,"mask-position-x":X,"mask-position-y":X,"mask-size":X,height:X,width:X,"min-height":X,"max-height":X,"min-width":X,"max-width":X,bottom:X,left:X,top:X,right:X,inset:X,"inset-block":X,"inset-block-end":X,"inset-block-start":X,"inset-inline":X,"inset-inline-end":X,"inset-inline-start":X,"box-shadow":X,"text-shadow":X,"column-gap":X,"column-rule":X,"column-rule-width":X,"column-width":X,"font-size":X,"font-size-delta":X,"letter-spacing":X,"text-decoration-thickness":X,"text-indent":X,"text-stroke":X,"text-stroke-width":X,"word-spacing":X,motion:X,"motion-offset":X,outline:X,"outline-offset":X,"outline-width":X,perspective:X,"perspective-origin-x":ds,"perspective-origin-y":ds,"transform-origin":ds,"transform-origin-x":ds,"transform-origin-y":ds,"transform-origin-z":ds,"transition-delay":Ku,"transition-duration":Ku,"vertical-align":X,"flex-basis":X,"shape-margin":X,size:X,gap:X,grid:X,"grid-gap":X,"row-gap":X,"grid-row-gap":X,"grid-column-gap":X,"grid-template-rows":X,"grid-template-columns":X,"grid-auto-rows":X,"grid-auto-columns":X,"box-shadow-x":X,"box-shadow-y":X,"box-shadow-blur":X,"box-shadow-spread":X,"font-line-height":X,"text-shadow-x":X,"text-shadow-y":X,"text-shadow-blur":X};function gE(e){var t=/(-[a-z])/g,n=function(s){return s[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var EI=gE(bI);function wl(e,t,n){if(t==null)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=wl(e,t[r],n);else if(typeof t=="object")if(e==="fallbacks")for(var i in t)t[i]=wl(i,t[i],n);else for(var o in t)t[o]=wl(e+"-"+o,t[o],n);else if(typeof t=="number"&&isNaN(t)===!1){var s=n[e]||EI[e];return s&&!(t===0&&s===X)?typeof s=="function"?s(t).toString():""+t+s:t.toString()}return t}function SI(e){e===void 0&&(e={});var t=gE(e);function n(i,o){if(o.type!=="style")return i;for(var s in i)i[s]=wl(s,i[s],t);return i}function r(i,o){return wl(o,i,t)}return{onProcessStyle:n,onChangeValue:r}}var _I={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},AI={position:!0,size:!0},Vu={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},Nh={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function kI(e,t,n){return e.map(function(r){return mE(r,t,n,!1,!0)})}function yE(e,t,n,r){return n[t]==null?e:e.length===0?[]:Array.isArray(e[0])?yE(e[0],t,n,r):typeof e[0]=="object"?kI(e,t,r):[e]}function mE(e,t,n,r,i){if(!(Vu[t]||Nh[t]))return[];var o=[];if(Nh[t]&&(e=RI(e,n,Nh[t],r)),Object.keys(e).length)for(var s in Vu[t]){if(e[s]){Array.isArray(e[s])?o.push(AI[s]===null?e[s]:e[s].join(" ")):o.push(e[s]);continue}Vu[t][s]!=null&&o.push(Vu[t][s])}return!o.length||i?o:[o]}function RI(e,t,n,r){for(var i in n){var o=n[i];if(typeof e[i]<"u"&&(r||!t.prop(o))){var s,a=Wl((s={},s[o]=e[i],s),t)[o];r?t.style.fallbacks[o]=a:t.style[o]=a}delete e[i]}return e}function Wl(e,t,n){for(var r in e){var i=e[r];if(Array.isArray(i)){if(!Array.isArray(i[0])){if(r==="fallbacks"){for(var o=0;o<e.fallbacks.length;o++)e.fallbacks[o]=Wl(e.fallbacks[o],t,!0);continue}e[r]=yE(i,r,_I,t),e[r].length||delete e[r]}}else if(typeof i=="object"){if(r==="fallbacks"){e.fallbacks=Wl(e.fallbacks,t,!0);continue}e[r]=mE(i,r,t,n),e[r].length||delete e[r]}else e[r]===""&&delete e[r]}return e}function CI(){function e(t,n){if(!t||n.type!=="style")return t;if(Array.isArray(t)){for(var r=0;r<t.length;r++)t[r]=Wl(t[r],n);return t}return Wl(t,n)}return{onProcessStyle:e}}function Pp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TI(e){if(Array.isArray(e))return Pp(e)}function BI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $I(e,t){if(e){if(typeof e=="string")return Pp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pp(e,t)}}function MI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PI(e){return TI(e)||BI(e)||$I(e)||MI()}var rl="",Ip="",vE="",wE="",II=ya&&"ontouchstart"in document.documentElement;if(ya){var Oh={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},LI=document.createElement("p"),jh=LI.style,NI="Transform";for(var Uh in Oh)if(Uh+NI in jh){rl=Uh,Ip=Oh[Uh];break}rl==="Webkit"&&"msHyphens"in jh&&(rl="ms",Ip=Oh.ms,wE="edge"),rl==="Webkit"&&"-apple-trailing-word"in jh&&(vE="apple")}var Se={js:rl,css:Ip,vendor:vE,browser:wE,isTouch:II};function OI(e){return e[1]==="-"||Se.js==="ms"?e:"@"+Se.css+"keyframes"+e.substr(10)}var jI={noPrefill:["appearance"],supportedProperty:function(t){return t!=="appearance"?!1:Se.js==="ms"?"-webkit-"+t:Se.css+t}},UI={noPrefill:["color-adjust"],supportedProperty:function(t){return t!=="color-adjust"?!1:Se.js==="Webkit"?Se.css+"print-"+t:t}},DI=/[-\s]+(.)?/g;function FI(e,t){return t?t.toUpperCase():""}function Vg(e){return e.replace(DI,FI)}function so(e){return Vg("-"+e)}var zI={noPrefill:["mask"],supportedProperty:function(t,n){if(!/^mask/.test(t))return!1;if(Se.js==="Webkit"){var r="mask-image";if(Vg(r)in n)return t;if(Se.js+so(r)in n)return Se.css+t}return t}},HI={noPrefill:["text-orientation"],supportedProperty:function(t){return t!=="text-orientation"?!1:Se.vendor==="apple"&&!Se.isTouch?Se.css+t:t}},KI={noPrefill:["transform"],supportedProperty:function(t,n,r){return t!=="transform"?!1:r.transform?t:Se.css+t}},VI={noPrefill:["transition"],supportedProperty:function(t,n,r){return t!=="transition"?!1:r.transition?t:Se.css+t}},qI={noPrefill:["writing-mode"],supportedProperty:function(t){return t!=="writing-mode"?!1:Se.js==="Webkit"||Se.js==="ms"&&Se.browser!=="edge"?Se.css+t:t}},WI={noPrefill:["user-select"],supportedProperty:function(t){return t!=="user-select"?!1:Se.js==="Moz"||Se.js==="ms"||Se.vendor==="apple"?Se.css+t:t}},GI={supportedProperty:function(t,n){if(!/^break-/.test(t))return!1;if(Se.js==="Webkit"){var r="WebkitColumn"+so(t);return r in n?Se.css+"column-"+t:!1}if(Se.js==="Moz"){var i="page"+so(t);return i in n?"page-"+t:!1}return!1}},ZI={supportedProperty:function(t,n){if(!/^(border|margin|padding)-inline/.test(t))return!1;if(Se.js==="Moz")return t;var r=t.replace("-inline","");return Se.js+so(r)in n?Se.css+r:!1}},YI={supportedProperty:function(t,n){return Vg(t)in n?t:!1}},QI={supportedProperty:function(t,n){var r=so(t);return t[0]==="-"||t[0]==="-"&&t[1]==="-"?t:Se.js+r in n?Se.css+t:Se.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+t:!1}},JI={supportedProperty:function(t){return t.substring(0,11)!=="scroll-snap"?!1:Se.js==="ms"?""+Se.css+t:t}},XI={supportedProperty:function(t){return t!=="overscroll-behavior"?!1:Se.js==="ms"?Se.css+"scroll-chaining":t}},eL={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},tL={supportedProperty:function(t,n){var r=eL[t];return r&&Se.js+so(r)in n?Se.css+r:!1}},xE={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},nL=Object.keys(xE),rL=function(t){return Se.css+t},iL={supportedProperty:function(t,n,r){var i=r.multiple;if(nL.indexOf(t)>-1){var o=xE[t];if(!Array.isArray(o))return Se.js+so(o)in n?Se.css+o:!1;if(!i)return!1;for(var s=0;s<o.length;s++)if(!(Se.js+so(o[0])in n))return!1;return o.map(rL)}return!1}},bE=[jI,UI,zI,HI,KI,VI,qI,WI,GI,ZI,YI,QI,JI,XI,tL,iL],iw=bE.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),oL=bE.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,PI(t.noPrefill)),e},[]),il,Oo={};if(ya){il=document.createElement("p");var Dh=window.getComputedStyle(document.documentElement,"");for(var Fh in Dh)isNaN(Fh)||(Oo[Dh[Fh]]=Dh[Fh]);oL.forEach(function(e){return delete Oo[e]})}function Lp(e,t){if(t===void 0&&(t={}),!il)return e;if(Oo[e]!=null)return Oo[e];(e==="transition"||e==="transform")&&(t[e]=e in il.style);for(var n=0;n<iw.length&&(Oo[e]=iw[n](e,il.style,t),!Oo[e]);n++);try{il.style[e]=""}catch{return!1}return Oo[e]}var hs={},sL={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},aL=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Ii;function lL(e,t,n){if(t==="var")return"var";if(t==="all")return"all";if(n==="all")return", all";var r=t?Lp(t):", "+Lp(n);return r||t||n}ya&&(Ii=document.createElement("p"));function ow(e,t){var n=t;if(!Ii||e==="content")return t;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=e+n;if(hs[r]!=null)return hs[r];try{Ii.style[e]=n}catch{return hs[r]=!1,!1}if(sL[e])n=n.replace(aL,lL);else if(Ii.style[e]===""&&(n=Se.css+n,n==="-ms-flex"&&(Ii.style[e]="-ms-flexbox"),Ii.style[e]=n,Ii.style[e]===""))return hs[r]=!1,!1;return Ii.style[e]="",hs[r]=n,hs[r]}function uL(){function e(i){if(i.type==="keyframes"){var o=i;o.at=OI(o.at)}}function t(i){for(var o in i){var s=i[o];if(o==="fallbacks"&&Array.isArray(s)){i[o]=s.map(t);continue}var a=!1,l=Lp(o);l&&l!==o&&(a=!0);var u=!1,c=ow(l,Xo(s));c&&c!==s&&(u=!0),(a||u)&&(a&&delete i[o],i[l||o]=c||s)}return i}function n(i,o){return o.type!=="style"?i:t(i)}function r(i,o){return ow(o,Xo(i))||i}return{onProcessRule:e,onProcessStyle:n,onChangeValue:r}}function cL(){var e=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var i={},o=Object.keys(n).sort(e),s=0;s<o.length;s++)i[o[s]]=n[o[s]];return i}}}var fL=function(t){return t===void 0&&(t={}),{plugins:[Y9(),X9(t.observable),rI(),uI(),dI(),gI(),yI(),xI(),SI(t.defaultUnit),CI(),uL(),cL()]}},dL=Number.MIN_SAFE_INTEGER||-1e9,hL=function(){return dL++},pL=q.createContext({classNamePrefix:"",disableStylesGeneration:!1,isSSR:!ya}),sw=new Map,qg=function(t,n){var r=t.managers;if(r)return r[n]||(r[n]=new ew),r[n];var i=sw.get(n);return i||(i=new ew,sw.set(n,i)),i},aw=function(t){var n=t.sheet,r=t.context,i=t.index,o=t.theme;if(n){var s=qg(r,i);s.manage(o),r.registry&&r.registry.add(n)}},gL=function(t){if(t.sheet){var n=qg(t.context,t.index);n.unmanage(t.theme)}},yL=cE(fL()),EE=new WeakMap,SE=function(t){return EE.get(t)},mL=function(t,n){EE.set(t,n)},vL=function(t){var n=t.styles;return typeof n!="function"?n:n(t.theme)};function wL(e,t){var n;e.context.id&&e.context.id.minify!=null&&(n=e.context.id.minify);var r=e.context.classNamePrefix||"";e.name&&!n&&(r+=e.name.replace(/\s/g,"-")+"-");var i="";return e.name&&(i=e.name+", "),i+=typeof e.styles=="function"?"Themed":"Unthemed",it({},e.sheetOptions,{index:e.index,meta:i,classNamePrefix:r,link:t,generateId:e.sheetOptions&&e.sheetOptions.generateId?e.sheetOptions.generateId:e.context.generateId})}var xL=function(t){if(!t.context.disableStylesGeneration){var n=qg(t.context,t.index),r=n.get(t.theme);if(r)return r;var i=t.context.jss||yL,o=vL(t),s=fE(o),a=i.createStyleSheet(o,wL(t,s!==null));return mL(a,{dynamicStyles:s,styles:o}),n.add(t.theme,a),a}},bL=function(t,n){for(var r in n)t.deleteRule(n[r])},EL=function(t,n,r){for(var i in r)n.updateOne(r[i],t)},SL=function(t,n){var r=SE(t);if(r){var i={};for(var o in r.dynamicStyles)for(var s=t.rules.index.length,a=t.addRule(o,r.dynamicStyles[o]),l=s;l<t.rules.index.length;l++){var u=t.rules.index[l];t.updateOne(u,n),i[a===u?o:u.key]=u}return i}},_L=function(t,n){if(!n)return t.classes;var r=SE(t);if(!r)return t.classes;var i={};for(var o in r.styles)i[o]=t.classes[o],o in n&&(i[o]+=" "+t.classes[n[o].key]);return i};function lw(e){return e?q.useEffect:Qt.useInsertionEffect||q.useLayoutEffect}var zh={},AL=function(t,n){n===void 0&&(n={});var r=n,i=r.index,o=i===void 0?hL():i,s=r.theming,a=r.name,l=G4(r,["index","theming","name"]),u=s&&s.context||iE,c=function(E){return typeof t=="function"&&(E||q.useContext(u))||zh},f={};return function(E){var _=q.useRef(!0),y=q.useContext(pL),A=c(E&&E.theme),w=q.useMemo(function(){var j=xL({context:y,styles:t,name:a,theme:A,index:o,sheetOptions:l});return j&&y.isSSR&&aw({index:o,context:y,sheet:j,theme:A}),[j,j?SL(j,E):null]},[y,A]),R=w[0],T=w[1];lw(y.isSSR)(function(){R&&T&&!_.current&&EL(E,R,T)},[E]),lw(y.isSSR)(function(){return R&&aw({index:o,context:y,sheet:R,theme:A}),function(){R&&(gL({index:o,context:y,sheet:R,theme:A}),T&&bL(R,T))}},[R]);var L=q.useMemo(function(){return R&&T?_L(R,T):f},[R,T]);return q.useDebugValue(L),q.useDebugValue(A===zh?"No theme":A),q.useEffect(function(){_.current=!1}),L}},kL=W4;function RL(e){var t=kL(e),n=t%1;return t===t?n?t-n:t:0}var CL=RL;function TL(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var BL=TL,$L=Array.isArray,sd=$L,uw=qf,ML=BL,PL=sd,IL=V4,LL=1/0,cw=uw?uw.prototype:void 0,fw=cw?cw.toString:void 0;function _E(e){if(typeof e=="string")return e;if(PL(e))return ML(e,_E)+"";if(IL(e))return fw?fw.call(e):"";var t=e+"";return t=="0"&&1/e==-LL?"-0":t}var NL=_E,OL=NL;function jL(e){return e==null?"":OL(e)}var UL=jL,DL=Nr,FL=CL,zL=q4,dw=UL,HL=DL.isFinite,KL=Math.min;function VL(e){var t=Math[e];return function(n,r){if(n=zL(n),r=r==null?0:KL(FL(r),292),r&&HL(n)){var i=(dw(n)+"e").split("e"),o=t(i[0]+"e"+(+i[1]+r));return i=(dw(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return t(n)}}var qL=VL,WL=qL,GL=WL("round"),ZL=GL;const Wa=la(ZL);function YL(){this.__data__=[],this.size=0}var QL=YL,JL=Ng;function XL(e,t){for(var n=e.length;n--;)if(JL(e[n][0],t))return n;return-1}var ad=XL,eN=ad,tN=Array.prototype,nN=tN.splice;function rN(e){var t=this.__data__,n=eN(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():nN.call(t,n,1),--this.size,!0}var iN=rN,oN=ad;function sN(e){var t=this.__data__,n=oN(t,e);return n<0?void 0:t[n][1]}var aN=sN,lN=ad;function uN(e){return lN(this.__data__,e)>-1}var cN=uN,fN=ad;function dN(e,t){var n=this.__data__,r=fN(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var hN=dN,pN=QL,gN=iN,yN=aN,mN=cN,vN=hN;function va(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}va.prototype.clear=pN;va.prototype.delete=gN;va.prototype.get=yN;va.prototype.has=mN;va.prototype.set=vN;var ld=va,wN=ld;function xN(){this.__data__=new wN,this.size=0}var bN=xN;function EN(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var SN=EN;function _N(e){return this.__data__.get(e)}var AN=_N;function kN(e){return this.__data__.has(e)}var RN=kN,CN=Nr,TN=CN["__core-js_shared__"],BN=TN,Hh=BN,hw=function(){var e=/[^.]+$/.exec(Hh&&Hh.keys&&Hh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function $N(e){return!!hw&&hw in e}var MN=$N,PN=Function.prototype,IN=PN.toString;function LN(e){if(e!=null){try{return IN.call(e)}catch{}try{return e+""}catch{}}return""}var AE=LN,NN=F4,ON=MN,jN=Wf,UN=AE,DN=/[\\^$.*+?()[\]{}|]/g,FN=/^\[object .+?Constructor\]$/,zN=Function.prototype,HN=Object.prototype,KN=zN.toString,VN=HN.hasOwnProperty,qN=RegExp("^"+KN.call(VN).replace(DN,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function WN(e){if(!jN(e)||ON(e))return!1;var t=NN(e)?qN:FN;return t.test(UN(e))}var GN=WN;function ZN(e,t){return e==null?void 0:e[t]}var YN=ZN,QN=GN,JN=YN;function XN(e,t){var n=JN(e,t);return QN(n)?n:void 0}var wa=XN,eO=wa,tO=Nr,nO=eO(tO,"Map"),Wg=nO,rO=wa,iO=rO(Object,"create"),ud=iO,pw=ud;function oO(){this.__data__=pw?pw(null):{},this.size=0}var sO=oO;function aO(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var lO=aO,uO=ud,cO="__lodash_hash_undefined__",fO=Object.prototype,dO=fO.hasOwnProperty;function hO(e){var t=this.__data__;if(uO){var n=t[e];return n===cO?void 0:n}return dO.call(t,e)?t[e]:void 0}var pO=hO,gO=ud,yO=Object.prototype,mO=yO.hasOwnProperty;function vO(e){var t=this.__data__;return gO?t[e]!==void 0:mO.call(t,e)}var wO=vO,xO=ud,bO="__lodash_hash_undefined__";function EO(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=xO&&t===void 0?bO:t,this}var SO=EO,_O=sO,AO=lO,kO=pO,RO=wO,CO=SO;function xa(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xa.prototype.clear=_O;xa.prototype.delete=AO;xa.prototype.get=kO;xa.prototype.has=RO;xa.prototype.set=CO;var TO=xa,gw=TO,BO=ld,$O=Wg;function MO(){this.size=0,this.__data__={hash:new gw,map:new($O||BO),string:new gw}}var PO=MO;function IO(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var LO=IO,NO=LO;function OO(e,t){var n=e.__data__;return NO(t)?n[typeof t=="string"?"string":"hash"]:n.map}var cd=OO,jO=cd;function UO(e){var t=jO(this,e).delete(e);return this.size-=t?1:0,t}var DO=UO,FO=cd;function zO(e){return FO(this,e).get(e)}var HO=zO,KO=cd;function VO(e){return KO(this,e).has(e)}var qO=VO,WO=cd;function GO(e,t){var n=WO(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var ZO=GO,YO=PO,QO=DO,JO=HO,XO=qO,ej=ZO;function ba(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ba.prototype.clear=YO;ba.prototype.delete=QO;ba.prototype.get=JO;ba.prototype.has=XO;ba.prototype.set=ej;var kE=ba,tj=ld,nj=Wg,rj=kE,ij=200;function oj(e,t){var n=this.__data__;if(n instanceof tj){var r=n.__data__;if(!nj||r.length<ij-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new rj(r)}return n.set(e,t),this.size=n.size,this}var sj=oj,aj=ld,lj=bN,uj=SN,cj=AN,fj=RN,dj=sj;function Ea(e){var t=this.__data__=new aj(e);this.size=t.size}Ea.prototype.clear=lj;Ea.prototype.delete=uj;Ea.prototype.get=cj;Ea.prototype.has=fj;Ea.prototype.set=dj;var hj=Ea,pj="__lodash_hash_undefined__";function gj(e){return this.__data__.set(e,pj),this}var yj=gj;function mj(e){return this.__data__.has(e)}var vj=mj,wj=kE,xj=yj,bj=vj;function tf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new wj;++t<n;)this.add(e[t])}tf.prototype.add=tf.prototype.push=xj;tf.prototype.has=bj;var Ej=tf;function Sj(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var _j=Sj;function Aj(e,t){return e.has(t)}var kj=Aj,Rj=Ej,Cj=_j,Tj=kj,Bj=1,$j=2;function Mj(e,t,n,r,i,o){var s=n&Bj,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var f=-1,p=!0,E=n&$j?new Rj:void 0;for(o.set(e,t),o.set(t,e);++f<a;){var _=e[f],y=t[f];if(r)var A=s?r(y,_,f,t,e,o):r(_,y,f,e,t,o);if(A!==void 0){if(A)continue;p=!1;break}if(E){if(!Cj(t,function(w,R){if(!Tj(E,R)&&(_===w||i(_,w,n,r,o)))return E.push(R)})){p=!1;break}}else if(!(_===y||i(_,y,n,r,o))){p=!1;break}}return o.delete(e),o.delete(t),p}var RE=Mj,Pj=Nr,Ij=Pj.Uint8Array,Lj=Ij;function Nj(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var Oj=Nj;function jj(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Uj=jj,yw=qf,mw=Lj,Dj=Ng,Fj=RE,zj=Oj,Hj=Uj,Kj=1,Vj=2,qj="[object Boolean]",Wj="[object Date]",Gj="[object Error]",Zj="[object Map]",Yj="[object Number]",Qj="[object RegExp]",Jj="[object Set]",Xj="[object String]",eU="[object Symbol]",tU="[object ArrayBuffer]",nU="[object DataView]",vw=yw?yw.prototype:void 0,Kh=vw?vw.valueOf:void 0;function rU(e,t,n,r,i,o,s){switch(n){case nU:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case tU:return!(e.byteLength!=t.byteLength||!o(new mw(e),new mw(t)));case qj:case Wj:case Yj:return Dj(+e,+t);case Gj:return e.name==t.name&&e.message==t.message;case Qj:case Xj:return e==t+"";case Zj:var a=zj;case Jj:var l=r&Kj;if(a||(a=Hj),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;r|=Vj,s.set(e,t);var c=Fj(a(e),a(t),r,i,o,s);return s.delete(e),c;case eU:if(Kh)return Kh.call(e)==Kh.call(t)}return!1}var iU=rU;function oU(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var sU=oU,aU=sU,lU=sd;function uU(e,t,n){var r=t(e);return lU(e)?r:aU(r,n(e))}var cU=uU;function fU(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}var dU=fU;function hU(){return[]}var pU=hU,gU=dU,yU=pU,mU=Object.prototype,vU=mU.propertyIsEnumerable,ww=Object.getOwnPropertySymbols,wU=ww?function(e){return e==null?[]:(e=Object(e),gU(ww(e),function(t){return vU.call(e,t)}))}:yU,xU=wU;function bU(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var EU=bU,SU=su,_U=au,AU="[object Arguments]";function kU(e){return _U(e)&&SU(e)==AU}var RU=kU,xw=RU,CU=au,CE=Object.prototype,TU=CE.hasOwnProperty,BU=CE.propertyIsEnumerable,$U=xw(function(){return arguments}())?xw:function(e){return CU(e)&&TU.call(e,"callee")&&!BU.call(e,"callee")},MU=$U,nf={exports:{}};function PU(){return!1}var IU=PU;nf.exports;(function(e,t){var n=Nr,r=IU,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u})(nf,nf.exports);var TE=nf.exports,LU=su,NU=z4,OU=au,jU="[object Arguments]",UU="[object Array]",DU="[object Boolean]",FU="[object Date]",zU="[object Error]",HU="[object Function]",KU="[object Map]",VU="[object Number]",qU="[object Object]",WU="[object RegExp]",GU="[object Set]",ZU="[object String]",YU="[object WeakMap]",QU="[object ArrayBuffer]",JU="[object DataView]",XU="[object Float32Array]",eD="[object Float64Array]",tD="[object Int8Array]",nD="[object Int16Array]",rD="[object Int32Array]",iD="[object Uint8Array]",oD="[object Uint8ClampedArray]",sD="[object Uint16Array]",aD="[object Uint32Array]",Ye={};Ye[XU]=Ye[eD]=Ye[tD]=Ye[nD]=Ye[rD]=Ye[iD]=Ye[oD]=Ye[sD]=Ye[aD]=!0;Ye[jU]=Ye[UU]=Ye[QU]=Ye[DU]=Ye[JU]=Ye[FU]=Ye[zU]=Ye[HU]=Ye[KU]=Ye[VU]=Ye[qU]=Ye[WU]=Ye[GU]=Ye[ZU]=Ye[YU]=!1;function lD(e){return OU(e)&&NU(e.length)&&!!Ye[LU(e)]}var uD=lD;function cD(e){return function(t){return e(t)}}var fD=cD,rf={exports:{}};rf.exports;(function(e,t){var n=U4,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(rf,rf.exports);var dD=rf.exports,hD=uD,pD=fD,bw=dD,Ew=bw&&bw.isTypedArray,gD=Ew?pD(Ew):hD,BE=gD,yD=EU,mD=MU,vD=sd,wD=TE,xD=K4,bD=BE,ED=Object.prototype,SD=ED.hasOwnProperty;function _D(e,t){var n=vD(e),r=!n&&mD(e),i=!n&&!r&&wD(e),o=!n&&!r&&!i&&bD(e),s=n||r||i||o,a=s?yD(e.length,String):[],l=a.length;for(var u in e)(t||SD.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||xD(u,l)))&&a.push(u);return a}var AD=_D,kD=Object.prototype;function RD(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||kD;return e===n}var CD=RD;function TD(e,t){return function(n){return e(t(n))}}var BD=TD,$D=BD,MD=$D(Object.keys,Object),PD=MD,ID=CD,LD=PD,ND=Object.prototype,OD=ND.hasOwnProperty;function jD(e){if(!ID(e))return LD(e);var t=[];for(var n in Object(e))OD.call(e,n)&&n!="constructor"&&t.push(n);return t}var UD=jD,DD=AD,FD=UD,zD=H4;function HD(e){return zD(e)?DD(e):FD(e)}var KD=HD,VD=cU,qD=xU,WD=KD;function GD(e){return VD(e,WD,qD)}var ZD=GD,Sw=ZD,YD=1,QD=Object.prototype,JD=QD.hasOwnProperty;function XD(e,t,n,r,i,o){var s=n&YD,a=Sw(e),l=a.length,u=Sw(t),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var p=a[f];if(!(s?p in t:JD.call(t,p)))return!1}var E=o.get(e),_=o.get(t);if(E&&_)return E==t&&_==e;var y=!0;o.set(e,t),o.set(t,e);for(var A=s;++f<l;){p=a[f];var w=e[p],R=t[p];if(r)var T=s?r(R,w,p,t,e,o):r(w,R,p,e,t,o);if(!(T===void 0?w===R||i(w,R,n,r,o):T)){y=!1;break}A||(A=p=="constructor")}if(y&&!A){var L=e.constructor,j=t.constructor;L!=j&&"constructor"in e&&"constructor"in t&&!(typeof L=="function"&&L instanceof L&&typeof j=="function"&&j instanceof j)&&(y=!1)}return o.delete(e),o.delete(t),y}var eF=XD,tF=wa,nF=Nr,rF=tF(nF,"DataView"),iF=rF,oF=wa,sF=Nr,aF=oF(sF,"Promise"),lF=aF,uF=wa,cF=Nr,fF=uF(cF,"Set"),dF=fF,hF=wa,pF=Nr,gF=hF(pF,"WeakMap"),yF=gF,Np=iF,Op=Wg,jp=lF,Up=dF,Dp=yF,$E=su,Sa=AE,_w="[object Map]",mF="[object Object]",Aw="[object Promise]",kw="[object Set]",Rw="[object WeakMap]",Cw="[object DataView]",vF=Sa(Np),wF=Sa(Op),xF=Sa(jp),bF=Sa(Up),EF=Sa(Dp),$o=$E;(Np&&$o(new Np(new ArrayBuffer(1)))!=Cw||Op&&$o(new Op)!=_w||jp&&$o(jp.resolve())!=Aw||Up&&$o(new Up)!=kw||Dp&&$o(new Dp)!=Rw)&&($o=function(e){var t=$E(e),n=t==mF?e.constructor:void 0,r=n?Sa(n):"";if(r)switch(r){case vF:return Cw;case wF:return _w;case xF:return Aw;case bF:return kw;case EF:return Rw}return t});var SF=$o,Vh=hj,_F=RE,AF=iU,kF=eF,Tw=SF,Bw=sd,$w=TE,RF=BE,CF=1,Mw="[object Arguments]",Pw="[object Array]",qu="[object Object]",TF=Object.prototype,Iw=TF.hasOwnProperty;function BF(e,t,n,r,i,o){var s=Bw(e),a=Bw(t),l=s?Pw:Tw(e),u=a?Pw:Tw(t);l=l==Mw?qu:l,u=u==Mw?qu:u;var c=l==qu,f=u==qu,p=l==u;if(p&&$w(e)){if(!$w(t))return!1;s=!0,c=!1}if(p&&!c)return o||(o=new Vh),s||RF(e)?_F(e,t,n,r,i,o):AF(e,t,l,n,r,i,o);if(!(n&CF)){var E=c&&Iw.call(e,"__wrapped__"),_=f&&Iw.call(t,"__wrapped__");if(E||_){var y=E?e.value():e,A=_?t.value():t;return o||(o=new Vh),i(y,A,n,r,o)}}return p?(o||(o=new Vh),kF(e,t,n,r,i,o)):!1}var $F=BF,MF=$F,Lw=au;function ME(e,t,n,r,i){return e===t?!0:e==null||t==null||!Lw(e)&&!Lw(t)?e!==e&&t!==t:MF(e,t,n,r,ME,i)}var PF=ME,IF=PF;function LF(e,t){return IF(e,t)}var NF=LF;const OF=la(NF);var Rt=function(){return Rt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Rt.apply(this,arguments)};function jF(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var Fp=function(e,t,n,r,i){return(e-t)*(i-r)/(n-t)+r},PE=function(e,t){var n=e+t;return n>360?n-360:n},IE=function(){return Math.random()>.5},LE=[0,0,1],Gg=[[1,1,0],[1,0,1],[0,1,1],[1,0,0],[0,1,0],LE],UF=function(e){return!OF(Gg[e],LE)&&IE()},Nw=200,DF=800,FF=.1,zF=.25,Ow=.5,HF=Gg.reduce(function(e,t,n){var r;return Rt(Rt({},e),(r={},r["@keyframes rotation-".concat(n)]={"50%":{transform:"rotate3d(".concat(t.map(function(i){return i/2}).join(),", 180deg)")},"100%":{transform:"rotate3d(".concat(t.join(),", 360deg)")}},r))},{}),KF=function(e,t,n){var r=typeof t=="string"?t:"".concat(t,"px"),i=e.reduce(function(o,s,a){var l,u=Fp(Math.abs(PE(s,90)-180),0,180,-n/2,n/2);return Rt(Rt({},o),(l={},l["@keyframes x-axis-".concat(a)]={to:{transform:"translateX(".concat(u,"px)")}},l))},{});return Rt({"@keyframes y-axis":{to:{transform:"translateY(".concat(r,")")}}},i)},VF=function(e,t,n,r,i){var o,s=Math.round(Math.random()*(DF-Nw)+Nw),a=Math.round(Math.random()*(Gg.length-1)),l=t-Math.round(Math.random()*1e3),u=Math.random()<FF,c=UF(a),f=u?Wa(Math.random()*zF,2):0,p=f*-1,E=f,_=Wa(Math.abs(Fp(Math.abs(PE(e.degree,90)-180),0,180,-1,1)),4),y=Wa(Math.random()*Ow,4),A=Wa(Math.random()*n*(IE()?1:-1),4),w=Ow,R=Wa(Math.max(Fp(Math.abs(e.degree-180),0,180,n,-n),0),4);return o={},o["&#confetti-particle-".concat(i)]={animation:"$x-axis-".concat(i," ").concat(l,"ms forwards cubic-bezier(").concat(f,", ").concat(p,", ").concat(E,", ").concat(_,")"),"& > div":{width:c?r:Math.round(Math.random()*4)+r/2,height:c?r:Math.round(Math.random()*2)+r,animation:"$y-axis ".concat(l,"ms forwards cubic-bezier(").concat(y,", ").concat(A,", ").concat(w,", ").concat(R,")"),"&:after":Rt({backgroundColor:e.color,animation:"$rotation-".concat(a," ").concat(s,"ms infinite linear")},c?{borderRadius:"50%"}:{})}},o},qF=function(e){var t=e.particles,n=e.duration,r=e.height,i=e.width,o=e.force,s=e.particleSize,a=t.reduce(function(l,u,c){return Rt(Rt({},l),VF(u,n,o,s,c))},{});return AL(Rt(Rt(Rt({},HF),KF(t.map(function(l){return l.degree}),r,i)),{container:{width:0,height:0,position:"relative"},screen:{position:"fixed",top:0,left:0,right:0,bottom:0,overflow:"hidden",pointerEvents:"none"},particle:Rt(Rt({},a),{"& > div":{position:"absolute",left:0,top:0,"&:after":{content:"''",display:"block",width:"100%",height:"100%"}}})}),{name:"confetti-explosion"})},WF=.5,GF=12,ZF="120vh",YF=1e3,QF=100,JF=2200,XF=["#FFC700","#FF0000","#2E3191","#41BBC7"],ez=function(e,t){var n=360/e;return jP(e).map(function(r){return{color:t[r%t.length],degree:n*r}})};function tz(e){var t=e.particleCount,n=t===void 0?QF:t,r=e.duration,i=r===void 0?JF:r,o=e.colors,s=o===void 0?XF:o,a=e.particleSize,l=a===void 0?GF:a,u=e.force,c=u===void 0?WF:u,f=e.height,p=f===void 0?ZF:f,E=e.width,_=E===void 0?YF:E,y=e.zIndex,A=e.onComplete,w=jF(e,["particleCount","duration","colors","particleSize","force","height","width","zIndex","onComplete"]),R=q.useState(),T=R[0],L=R[1],j=ez(n,s),M=qF({particles:j,duration:i,particleSize:l,force:c,width:_,height:p})(),N=q.useCallback(function(D){if(D){var K=D.getBoundingClientRect(),H=K.top,k=K.left;L({top:H,left:k})}},[]);return q.useEffect(function(){if(typeof A=="function"){var D=setTimeout(A,i);return function(){return clearTimeout(D)}}},[i,A]),U.jsx("div",Rt({ref:N,className:M.container},w,{children:T&&ho.createPortal(U.jsx("div",Rt({className:M.screen},y?{style:{zIndex:y}}:null,{children:U.jsx("div",Rt({style:{position:"absolute",top:T.top,left:T.left}},{children:j.map(function(D,K){return U.jsx("div",Rt({id:"confetti-particle-".concat(K),className:M.particle},{children:U.jsx("div",{})}),D.degree)})}))})),document.body)}))}function nz(e){return Sn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}var fd={},NE={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},rz=NE;function OE(e){this.mode=rz.MODE_8BIT_BYTE,this.data=e}OE.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var iz=OE,jE={L:1,M:0,Q:3,H:2},Wu=jE;function Sr(e,t){this.totalCount=e,this.dataCount=t}Sr.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Sr.getRSBlocks=function(e,t){var n=Sr.getRsBlockTable(e,t);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,i=new Array,o=0;o<r;o++)for(var s=n[o*3+0],a=n[o*3+1],l=n[o*3+2],u=0;u<s;u++)i.push(new Sr(a,l));return i};Sr.getRsBlockTable=function(e,t){switch(t){case Wu.L:return Sr.RS_BLOCK_TABLE[(e-1)*4+0];case Wu.M:return Sr.RS_BLOCK_TABLE[(e-1)*4+1];case Wu.Q:return Sr.RS_BLOCK_TABLE[(e-1)*4+2];case Wu.H:return Sr.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var oz=Sr;function UE(){this.buffer=new Array,this.length=0}UE.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var sz=UE,ir={glog:function(e){if(e<1)throw new Error("glog("+e+")");return ir.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return ir.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var zt=0;zt<8;zt++)ir.EXP_TABLE[zt]=1<<zt;for(var zt=8;zt<256;zt++)ir.EXP_TABLE[zt]=ir.EXP_TABLE[zt-4]^ir.EXP_TABLE[zt-5]^ir.EXP_TABLE[zt-6]^ir.EXP_TABLE[zt-8];for(var zt=0;zt<255;zt++)ir.LOG_TABLE[ir.EXP_TABLE[zt]]=zt;var DE=ir,ko=DE;function fc(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}fc.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=ko.gexp(ko.glog(this.get(n))+ko.glog(e.get(r)));return new fc(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=ko.glog(this.get(0))-ko.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<e.getLength();r++)n[r]^=ko.gexp(ko.glog(e.get(r))+t);return new fc(n,0).mod(e)}};var FE=fc,Tn=NE,jw=FE,az=DE,Ci={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ot={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Ot.getBCHDigit(t)-Ot.getBCHDigit(Ot.G15)>=0;)t^=Ot.G15<<Ot.getBCHDigit(t)-Ot.getBCHDigit(Ot.G15);return(e<<10|t)^Ot.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ot.getBCHDigit(t)-Ot.getBCHDigit(Ot.G18)>=0;)t^=Ot.G18<<Ot.getBCHDigit(t)-Ot.getBCHDigit(Ot.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ot.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case Ci.PATTERN000:return(t+n)%2==0;case Ci.PATTERN001:return t%2==0;case Ci.PATTERN010:return n%3==0;case Ci.PATTERN011:return(t+n)%3==0;case Ci.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case Ci.PATTERN101:return t*n%2+t*n%3==0;case Ci.PATTERN110:return(t*n%2+t*n%3)%2==0;case Ci.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new jw([1],0),n=0;n<e;n++)t=t.multiply(new jw([1,az.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Tn.MODE_NUMBER:return 10;case Tn.MODE_ALPHA_NUM:return 9;case Tn.MODE_8BIT_BYTE:return 8;case Tn.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Tn.MODE_NUMBER:return 12;case Tn.MODE_ALPHA_NUM:return 11;case Tn.MODE_8BIT_BYTE:return 16;case Tn.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Tn.MODE_NUMBER:return 14;case Tn.MODE_ALPHA_NUM:return 13;case Tn.MODE_8BIT_BYTE:return 16;case Tn.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var o=0,s=e.isDark(r,i),a=-1;a<=1;a++)if(!(r+a<0||t<=r+a))for(var l=-1;l<=1;l++)i+l<0||t<=i+l||a==0&&l==0||s==e.isDark(r+a,i+l)&&o++;o>5&&(n+=3+o-5)}for(var r=0;r<t-1;r++)for(var i=0;i<t-1;i++){var u=0;e.isDark(r,i)&&u++,e.isDark(r+1,i)&&u++,e.isDark(r,i+1)&&u++,e.isDark(r+1,i+1)&&u++,(u==0||u==4)&&(n+=3)}for(var r=0;r<t;r++)for(var i=0;i<t-6;i++)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(var i=0;i<t;i++)for(var r=0;r<t-6;r++)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);for(var c=0,i=0;i<t;i++)for(var r=0;r<t;r++)e.isDark(r,i)&&c++;var f=Math.abs(100*c/t/t-50)/5;return n+=f*10,n}},lz=Ot,uz=iz,zE=oz,HE=sz,vo=lz,cz=FE;function Rr(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var An=Rr.prototype;An.addData=function(e){var t=new uz(e);this.dataList.push(t),this.dataCache=null};An.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};An.getModuleCount=function(){return this.moduleCount};An.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=zE.getRSBlocks(e,this.errorCorrectLevel),n=new HE,r=0,i=0;i<t.length;i++)r+=t[i].dataCount;for(var i=0;i<this.dataList.length;i++){var o=this.dataList[i];n.put(o.mode,4),n.put(o.getLength(),vo.getLengthInBits(o.mode,e)),o.write(n)}if(n.getLengthInBits()<=r*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};An.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Rr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};An.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[e+n][t+r]=!0:this.modules[e+n][t+r]=!1)};An.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=vo.getLostPoint(this);(n==0||e>r)&&(e=r,t=n)}return t};An.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n),i=1;this.make();for(var o=0;o<this.modules.length;o++)for(var s=o*i,a=0;a<this.modules[o].length;a++){var l=a*i,u=this.modules[o][a];u&&(r.beginFill(0,100),r.moveTo(l,s),r.lineTo(l+i,s),r.lineTo(l+i,s+i),r.lineTo(l,s+i),r.endFill())}return r};An.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};An.setupPositionAdjustPattern=function(){for(var e=vo.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],i=e[n];if(this.modules[r][i]==null)for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)o==-2||o==2||s==-2||s==2||o==0&&s==0?this.modules[r+o][i+s]=!0:this.modules[r+o][i+s]=!1}};An.setupTypeNumber=function(e){for(var t=vo.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}};An.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=vo.getBCHTypeInfo(n),i=0;i<15;i++){var o=!e&&(r>>i&1)==1;i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(var i=0;i<15;i++){var o=!e&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!e};An.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var a=0;a<2;a++)if(this.modules[r][s-a]==null){var l=!1;o<e.length&&(l=(e[o]>>>i&1)==1);var u=vo.getMask(t,r,s-a);u&&(l=!l),this.modules[r][s-a]=l,i--,i==-1&&(o++,i=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}};Rr.PAD0=236;Rr.PAD1=17;Rr.createData=function(e,t,n){for(var r=zE.getRSBlocks(e,t),i=new HE,o=0;o<n.length;o++){var s=n[o];i.put(s.mode,4),i.put(s.getLength(),vo.getLengthInBits(s.mode,e)),s.write(i)}for(var a=0,o=0;o<r.length;o++)a+=r[o].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Rr.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Rr.PAD1,8);return Rr.createBytes(i,r)};Rr.createBytes=function(e,t){for(var n=0,r=0,i=0,o=new Array(t.length),s=new Array(t.length),a=0;a<t.length;a++){var l=t[a].dataCount,u=t[a].totalCount-l;r=Math.max(r,l),i=Math.max(i,u),o[a]=new Array(l);for(var c=0;c<o[a].length;c++)o[a][c]=255&e.buffer[c+n];n+=l;var f=vo.getErrorCorrectPolynomial(u),p=new cz(o[a],f.getLength()-1),E=p.mod(f);s[a]=new Array(f.getLength()-1);for(var c=0;c<s[a].length;c++){var _=c+E.getLength()-s[a].length;s[a][c]=_>=0?E.get(_):0}}for(var y=0,c=0;c<t.length;c++)y+=t[c].totalCount;for(var A=new Array(y),w=0,c=0;c<r;c++)for(var a=0;a<t.length;a++)c<o[a].length&&(A[w++]=o[a][c]);for(var c=0;c<i;c++)for(var a=0;a<t.length;a++)c<s[a].length&&(A[w++]=s[a][c]);return A};var fz=Rr,Zg={};Object.defineProperty(Zg,"__esModule",{value:!0});var dz=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hz=nE,Bn=VE(hz),KE=q,Gu=VE(KE);function VE(e){return e&&e.__esModule?e:{default:e}}function pz(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var gz={bgColor:Bn.default.oneOfType([Bn.default.object,Bn.default.string]).isRequired,bgD:Bn.default.string.isRequired,fgColor:Bn.default.oneOfType([Bn.default.object,Bn.default.string]).isRequired,fgD:Bn.default.string.isRequired,size:Bn.default.number.isRequired,title:Bn.default.string,viewBoxSize:Bn.default.number.isRequired,xmlns:Bn.default.string},yz={title:void 0,xmlns:"http://www.w3.org/2000/svg"},dd=(0,KE.forwardRef)(function(e,t){var n=e.bgColor,r=e.bgD,i=e.fgD,o=e.fgColor,s=e.size,a=e.title,l=e.viewBoxSize,u=pz(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize"]);return Gu.default.createElement("svg",dz({},u,{height:s,ref:t,viewBox:"0 0 "+l+" "+l,width:s}),a?Gu.default.createElement("title",null,a):null,Gu.default.createElement("path",{d:r,fill:n}),Gu.default.createElement("path",{d:i,fill:o}))});dd.displayName="QRCodeSvg";dd.propTypes=gz;dd.defaultProps=yz;Zg.default=dd;Object.defineProperty(fd,"__esModule",{value:!0});fd.QRCode=void 0;var mz=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vz=fz,wz=lu(vz),xz=jE,bz=lu(xz),Ez=nE,Dr=lu(Ez),qE=q,Sz=lu(qE),_z=Zg,Az=lu(_z);function lu(e){return e&&e.__esModule?e:{default:e}}function kz(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var Rz={bgColor:Dr.default.oneOfType([Dr.default.object,Dr.default.string]),fgColor:Dr.default.oneOfType([Dr.default.object,Dr.default.string]),level:Dr.default.string,size:Dr.default.number,value:Dr.default.string.isRequired},Cz={bgColor:"#FFFFFF",fgColor:"#000000",level:"L",size:256},uu=(0,qE.forwardRef)(function(e,t){var n=e.bgColor,r=e.fgColor,i=e.level,o=e.size,s=e.value,a=kz(e,["bgColor","fgColor","level","size","value"]),l=new wz.default(-1,bz.default[i]);l.addData(s),l.make();var u=l.modules;return Sz.default.createElement(Az.default,mz({},a,{bgColor:n,bgD:u.map(function(c,f){return c.map(function(p,E){return p?"":"M "+E+" "+f+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:r,fgD:u.map(function(c,f){return c.map(function(p,E){return p?"M "+E+" "+f+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:o,viewBoxSize:u.length}))});fd.QRCode=uu;uu.displayName="QRCode";uu.propTypes=Rz;uu.defaultProps=Cz;var Tz=fd.default=uu;const Bz={force:.6,duration:3e3,particleCount:300,width:1e3,colors:["#9A0023","#FF003C","#AF739B","#FAC7F3","#F7DBF4"]};function $z({invoice:e,onCancel:t,paid:n}){const r=yo();return q.useEffect(()=>{n&&setTimeout(()=>{t(),r("/claim")},6e3)},[n,t,r]),U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"inset-0 bg-black opacity-80 absolute"}),U.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:U.jsxs("dialog",{open:!0,className:"flex flex-col justify-center items-center p-4 rounded bg-zinc-800 gap-2",children:[n?U.jsx(tz,{...Bz}):void 0,U.jsxs("div",{className:"p-4 bg-white rounded relative",children:[n?U.jsx("div",{className:"absolute inset-0 flex justify-center items-center z-2 bg-white/80",children:U.jsx(nz,{className:"text-pink-500 text-9xl bg-white rounded-full"})}):void 0,U.jsx(Tz,{value:e,onClick:()=>{navigator.clipboard.writeText(e)}}),U.jsx("p",{className:"text-xs text-black text-center",children:"Click QR Code to copy"})]}),U.jsx("p",{className:"text-sm",children:"Pay this invoice to claim your username"}),U.jsx("button",{className:"px-2 py-1 bg-gradient-to-tr from-purple-500 to-pink-500 rounded",onClick:t,children:"Cancel"})]})})]})}function Mz({invoice:e,paid:t,onCancel:n}){return e?ho.createPortal(U.jsx($z,{invoice:e,onCancel:n,paid:t}),document.getElementById("modal")):null}function Pz({username:e,setUsername:t}){return U.jsxs("div",{className:"flex items-center p-2 rounded bg-gradient-to-tr from-purple-500 to-pink-500",children:[U.jsx("input",{type:"text",className:"py-1 min-w-0 grow text-sm text-center bg-zinc-800/20 rounded",value:e,onChange:n=>{t(n.target.value)},id:"username"}),U.jsx("p",{className:"min-w-0 flex-shrink-0 ml-2 text-center text-xs",children:"@npub.cash"})]})}function Iz(){const[e,t]=q.useState(""),[n,r]=q.useState(),[i,o]=q.useState(!1),[s,a]=q.useState(""),{sdk:l}=q.useContext(lr),u=yo(),c=q.useRef();q.useEffect(()=>{l||u("/setup")},[l]);async function f(){var E;if(!l||!e)return;const p=localStorage.getItem(`purchase:${e}`);try{if(p){const{paymentToken:_,paymentRequest:y}=JSON.parse(p);r(y),c.current=setInterval(async()=>{(await l.setUsername(e,_)).error||(o(!0),clearInterval(c.current))},6e3)}else{const _=await l.setUsername(e,void 0);if(!((E=_.data)!=null&&E.paymentRequest)&&_.error)throw new Error(_.message);localStorage.setItem(`purchase:${e}`,JSON.stringify({paymentToken:_.data.paymentToken,paymentRequest:_.data.paymentRequest})),r(_.data.paymentRequest),c.current=setInterval(async()=>{(await l.setUsername(e,_.data.paymentToken)).error||(o(!0),clearInterval(c.current))},6e3)}}catch(_){_ instanceof Error&&a(_.message)}}return U.jsxs("main",{className:"flex flex-col justify-center items-center mt-16 gap-8 mx-4",children:[U.jsxs("div",{className:"flex flex-col gap-2 max-w-3xl",children:[U.jsx("h2",{className:"text-center font-bold text-4xl md:text-5xl bg-gradient-to-tr from-purple-500 to-pink-500 bg-clip-text text-transparent",children:"npub.cash Username"}),U.jsx("p",{className:"text-center",children:"npub.cash works with your nostr public key out of the box. But you can claim an additional, human-readable username and receive payments on both your public key and username."})]}),U.jsxs("div",{className:"flex flex-col items-center gap-8",children:[U.jsxs("div",{className:"flex flex-col items-center",children:[U.jsx("label",{htmlFor:"username",children:"Choose your username:"}),U.jsx(Pz,{username:e,setUsername:t})]}),s?U.jsx("p",{className:"font-bold text-red-500",children:s}):void 0,U.jsx("button",{className:"px-4 py-2 bg-gradient-to-tr from-purple-500 to-pink-500 rounded hover:from-purple-700 hover:to-pink-700 transition",onClick:f,children:"Claim Username (5000 SATS)"}),U.jsx("p",{className:"text-xs text-zinc-400",children:"Purchases are cached in your browser. If something goes wrong during payment simply try to claim the same username again"})]}),U.jsx(Mz,{invoice:n,onCancel:()=>{c.current&&clearInterval(c.current),r("")},paid:i})]})}function Uw(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function WE(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Lz(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Uw(e.outputLen),Uw(e.blockLen)}function of(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Nz(e,t){WE(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const qh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const GE=e=>e instanceof Uint8Array,Wh=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),yr=(e,t)=>e<<32-t|e>>>t,Oz=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Oz)throw new Error("Non little-endian hardware is not supported");function jz(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Yg(e){if(typeof e=="string"&&(e=jz(e)),!GE(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Uz(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!GE(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let ZE=class{clone(){return this._cloneInto()}};function Dz(e){const t=r=>e().update(Yg(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function YE(e=32){if(qh&&typeof qh.getRandomValues=="function")return qh.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Fz(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,u=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+u,a,r)}let zz=class extends ZE{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Wh(this.buffer)}update(t){of(this);const{view:n,buffer:r,blockLen:i}=this;t=Yg(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Wh(t);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){of(this),Nz(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let f=s;f<i;f++)n[f]=0;Fz(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Wh(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,c[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%n&&t.buffer.set(r),t}};const Hz=(e,t,n)=>e&t^~e&n,Kz=(e,t,n)=>e&t^e&n^t&n,Vz=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ti=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Bi=new Uint32Array(64);let qz=class extends zz{constructor(){super(64,32,8,!1),this.A=Ti[0]|0,this.B=Ti[1]|0,this.C=Ti[2]|0,this.D=Ti[3]|0,this.E=Ti[4]|0,this.F=Ti[5]|0,this.G=Ti[6]|0,this.H=Ti[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[t,n,r,i,o,s,a,l]}set(t,n,r,i,o,s,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)Bi[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const p=Bi[f-15],E=Bi[f-2],_=yr(p,7)^yr(p,18)^p>>>3,y=yr(E,17)^yr(E,19)^E>>>10;Bi[f]=y+Bi[f-7]+_+Bi[f-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:u,H:c}=this;for(let f=0;f<64;f++){const p=yr(a,6)^yr(a,11)^yr(a,25),E=c+p+Hz(a,l,u)+Vz[f]+Bi[f]|0,y=(yr(r,2)^yr(r,13)^yr(r,22))+Kz(r,i,o)|0;c=u,u=l,l=a,a=s+E|0,s=o,o=i,i=r,r=E+y|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,i,o,s,a,l,u,c)}roundClean(){Bi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const zp=Dz(()=>new qz);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const QE=BigInt(0),hd=BigInt(1),Wz=BigInt(2),pd=e=>e instanceof Uint8Array,Gz=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ra(e){if(!pd(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Gz[e[n]];return t}function JE(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Qg(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function ia(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,o=e.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function gn(e){return Qg(ra(e))}function Jg(e){if(!pd(e))throw new Error("Uint8Array expected");return Qg(ra(Uint8Array.from(e).reverse()))}function ao(e,t){return ia(e.toString(16).padStart(t*2,"0"))}function Xg(e,t){return ao(e,t).reverse()}function Zz(e){return ia(JE(e))}function Zt(e,t,n){let r;if(typeof t=="string")try{r=ia(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(pd(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function as(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!pd(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function Yz(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Qz(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Jz(e){let t;for(t=0;e>QE;e>>=hd,t+=1);return t}function Xz(e,t){return e>>BigInt(t)&hd}const eH=(e,t,n)=>e|(n?hd:QE)<<BigInt(t),ey=e=>(Wz<<BigInt(e-1))-hd,Gh=e=>new Uint8Array(e),Dw=e=>Uint8Array.from(e);function XE(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Gh(e),i=Gh(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...f)=>n(i,r,...f),l=(f=Gh())=>{i=a(Dw([0]),f),r=a(),f.length!==0&&(i=a(Dw([1]),f),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<t;){r=a();const E=r.slice();p.push(E),f+=r.length}return as(...p)};return(f,p)=>{s(),l(f);let E;for(;!(E=p(u()));)l();return s(),E}}const tH={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function cu(e,t,n={}){const r=(i,o,s)=>{const a=tH[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=e[i];if(!(s&&l===void 0)&&!a(l,e))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}const nH=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Xz,bitLen:Jz,bitMask:ey,bitSet:eH,bytesToHex:ra,bytesToNumberBE:gn,bytesToNumberLE:Jg,concatBytes:as,createHmacDrbg:XE,ensureBytes:Zt,equalBytes:Yz,hexToBytes:ia,hexToNumber:Qg,numberToBytesBE:ao,numberToBytesLE:Xg,numberToHexUnpadded:JE,numberToVarBytesBE:Zz,utf8ToBytes:Qz,validateObject:cu},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mt=BigInt(0),mt=BigInt(1),jo=BigInt(2),rH=BigInt(3),Hp=BigInt(4),Fw=BigInt(5),zw=BigInt(8);BigInt(9);BigInt(16);function Ht(e,t){const n=e%t;return n>=Mt?n:t+n}function iH(e,t,n){if(n<=Mt||t<Mt)throw new Error("Expected power/modulo > 0");if(n===mt)return Mt;let r=mt;for(;t>Mt;)t&mt&&(r=r*e%n),e=e*e%n,t>>=mt;return r}function $n(e,t,n){let r=e;for(;t-- >Mt;)r*=r,r%=n;return r}function Kp(e,t){if(e===Mt||t<=Mt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Ht(e,t),r=t,i=Mt,o=mt;for(;n!==Mt;){const a=r/n,l=r%n,u=i-o*a;r=n,n=l,i=o,o=u}if(r!==mt)throw new Error("invert: does not exist");return Ht(i,t)}function oH(e){const t=(e-mt)/jo;let n,r,i;for(n=e-mt,r=0;n%jo===Mt;n/=jo,r++);for(i=jo;i<e&&iH(i,t,e)!==e-mt;i++);if(r===1){const s=(e+mt)/Hp;return function(l,u){const c=l.pow(u,s);if(!l.eql(l.sqr(c),u))throw new Error("Cannot find square root");return c}}const o=(n+mt)/jo;return function(a,l){if(a.pow(l,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,c=a.pow(a.mul(a.ONE,i),n),f=a.pow(l,o),p=a.pow(l,n);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let E=1;for(let y=a.sqr(p);E<u&&!a.eql(y,a.ONE);E++)y=a.sqr(y);const _=a.pow(c,mt<<BigInt(u-E-1));c=a.sqr(_),f=a.mul(f,_),p=a.mul(p,c),u=E}return f}}function sH(e){if(e%Hp===rH){const t=(e+mt)/Hp;return function(r,i){const o=r.pow(i,t);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%zw===Fw){const t=(e-Fw)/zw;return function(r,i){const o=r.mul(i,jo),s=r.pow(o,t),a=r.mul(i,s),l=r.mul(r.mul(a,jo),s),u=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return oH(e)}const aH=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lH(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=aH.reduce((r,i)=>(r[i]="function",r),t);return cu(e,n)}function uH(e,t,n){if(n<Mt)throw new Error("Expected power > 0");if(n===Mt)return e.ONE;if(n===mt)return t;let r=e.ONE,i=t;for(;n>Mt;)n&mt&&(r=e.mul(r,i)),i=e.sqr(i),n>>=mt;return r}function cH(e,t){const n=new Array(t.length),r=t.reduce((o,s,a)=>e.is0(s)?o:(n[a]=o,e.mul(o,s)),e.ONE),i=e.inv(r);return t.reduceRight((o,s,a)=>e.is0(s)?o:(n[a]=e.mul(o,n[a]),e.mul(o,s)),i),n}function e8(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function fH(e,t,n=!1,r={}){if(e<=Mt)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=e8(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=sH(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:ey(i),ZERO:Mt,ONE:mt,create:l=>Ht(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Mt<=l&&l<e},is0:l=>l===Mt,isOdd:l=>(l&mt)===mt,neg:l=>Ht(-l,e),eql:(l,u)=>l===u,sqr:l=>Ht(l*l,e),add:(l,u)=>Ht(l+u,e),sub:(l,u)=>Ht(l-u,e),mul:(l,u)=>Ht(l*u,e),pow:(l,u)=>uH(a,l,u),div:(l,u)=>Ht(l*Kp(u,e),e),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>Kp(l,e),sqrt:r.sqrt||(l=>s(a,l)),invertBatch:l=>cH(a,l),cmov:(l,u,c)=>c?u:l,toBytes:l=>n?Xg(l,o):ao(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?Jg(l):gn(l)}});return Object.freeze(a)}function t8(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function n8(e){const t=t8(e);return t+Math.ceil(t/2)}function dH(e,t,n=!1){const r=e.length,i=t8(t),o=n8(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=n?gn(e):Jg(e),a=Ht(s,t-mt)+mt;return n?Xg(a,i):ao(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hH=BigInt(0),Zh=BigInt(1);function pH(e,t){const n=(i,o)=>{const s=o.negate();return i?s:o},r=i=>{const o=Math.ceil(t/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:n,unsafeLadder(i,o){let s=e.ZERO,a=i;for(;o>hH;)o&Zh&&(s=s.add(a)),a=a.double(),o>>=Zh;return s},precomputeWindow(i,o){const{windows:s,windowSize:a}=r(o),l=[];let u=i,c=u;for(let f=0;f<s;f++){c=u,l.push(c);for(let p=1;p<a;p++)c=c.add(u),l.push(c);u=c.double()}return l},wNAF(i,o,s){const{windows:a,windowSize:l}=r(i);let u=e.ZERO,c=e.BASE;const f=BigInt(2**i-1),p=2**i,E=BigInt(i);for(let _=0;_<a;_++){const y=_*l;let A=Number(s&f);s>>=E,A>l&&(A-=p,s+=Zh);const w=y,R=y+Math.abs(A)-1,T=_%2!==0,L=A<0;A===0?c=c.add(n(T,o[w])):u=u.add(n(L,o[R]))}return{p:u,f:c}},wNAFCached(i,o,s,a){const l=i._WINDOW_SIZE||1;let u=o.get(i);return u||(u=this.precomputeWindow(i,l),l!==1&&o.set(i,a(u))),this.wNAF(l,u,s)}}}function r8(e){return lH(e.Fp),cu(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...e8(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function gH(e){const t=r8(e);cu(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:yH,hexToBytes:mH}=nH,Wo={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Wo;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:yH(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Wo,n=typeof e=="string"?mH(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=Wo._parseInt(n.subarray(2)),{d:s,l:a}=Wo._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const c=u.toString(16);return c.length&1?`0${c}`:c},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,s=i.length/2,a=n(o),l=n(s);return`30${n(s+o+4)}02${l}${i}02${a}${r}`}},Gr=BigInt(0),On=BigInt(1);BigInt(2);const Hw=BigInt(3);BigInt(4);function vH(e){const t=gH(e),{Fp:n}=t,r=t.toBytes||((_,y,A)=>{const w=y.toAffine();return as(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),i=t.fromBytes||(_=>{const y=_.subarray(1),A=n.fromBytes(y.subarray(0,n.BYTES)),w=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:A,y:w}});function o(_){const{a:y,b:A}=t,w=n.sqr(_),R=n.mul(w,_);return n.add(n.add(R,n.mul(_,y)),A)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(_){return typeof _=="bigint"&&Gr<_&&_<t.n}function a(_){if(!s(_))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(_){const{allowedPrivateKeyLengths:y,nByteLength:A,wrapPrivateKey:w,n:R}=t;if(y&&typeof _!="bigint"){if(_ instanceof Uint8Array&&(_=ra(_)),typeof _!="string"||!y.includes(_.length))throw new Error("Invalid key");_=_.padStart(A*2,"0")}let T;try{T=typeof _=="bigint"?_:gn(Zt("private key",_,A))}catch{throw new Error(`private key must be ${A} bytes, hex or bigint, not ${typeof _}`)}return w&&(T=Ht(T,R)),a(T),T}const u=new Map;function c(_){if(!(_ instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(y,A,w){if(this.px=y,this.py=A,this.pz=w,y==null||!n.isValid(y))throw new Error("x required");if(A==null||!n.isValid(A))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required")}static fromAffine(y){const{x:A,y:w}=y||{};if(!y||!n.isValid(A)||!n.isValid(w))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const R=T=>n.eql(T,n.ZERO);return R(A)&&R(w)?f.ZERO:new f(A,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const A=n.invertBatch(y.map(w=>w.pz));return y.map((w,R)=>w.toAffine(A[R])).map(f.fromAffine)}static fromHex(y){const A=f.fromAffine(i(Zt("pointHex",y)));return A.assertValidity(),A}static fromPrivateKey(y){return f.BASE.multiply(l(y))}_setWindowSize(y){this._WINDOW_SIZE=y,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:A}=this.toAffine();if(!n.isValid(y)||!n.isValid(A))throw new Error("bad point: x or y not FE");const w=n.sqr(A),R=o(y);if(!n.eql(w,R))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){c(y);const{px:A,py:w,pz:R}=this,{px:T,py:L,pz:j}=y,M=n.eql(n.mul(A,j),n.mul(T,R)),N=n.eql(n.mul(w,j),n.mul(L,R));return M&&N}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:A}=t,w=n.mul(A,Hw),{px:R,py:T,pz:L}=this;let j=n.ZERO,M=n.ZERO,N=n.ZERO,D=n.mul(R,R),K=n.mul(T,T),H=n.mul(L,L),k=n.mul(R,T);return k=n.add(k,k),N=n.mul(R,L),N=n.add(N,N),j=n.mul(y,N),M=n.mul(w,H),M=n.add(j,M),j=n.sub(K,M),M=n.add(K,M),M=n.mul(j,M),j=n.mul(k,j),N=n.mul(w,N),H=n.mul(y,H),k=n.sub(D,H),k=n.mul(y,k),k=n.add(k,N),N=n.add(D,D),D=n.add(N,D),D=n.add(D,H),D=n.mul(D,k),M=n.add(M,D),H=n.mul(T,L),H=n.add(H,H),D=n.mul(H,k),j=n.sub(j,D),N=n.mul(H,K),N=n.add(N,N),N=n.add(N,N),new f(j,M,N)}add(y){c(y);const{px:A,py:w,pz:R}=this,{px:T,py:L,pz:j}=y;let M=n.ZERO,N=n.ZERO,D=n.ZERO;const K=t.a,H=n.mul(t.b,Hw);let k=n.mul(A,T),d=n.mul(w,L),g=n.mul(R,j),C=n.add(A,w),m=n.add(T,L);C=n.mul(C,m),m=n.add(k,d),C=n.sub(C,m),m=n.add(A,R);let x=n.add(T,j);return m=n.mul(m,x),x=n.add(k,g),m=n.sub(m,x),x=n.add(w,R),M=n.add(L,j),x=n.mul(x,M),M=n.add(d,g),x=n.sub(x,M),D=n.mul(K,m),M=n.mul(H,g),D=n.add(M,D),M=n.sub(d,D),D=n.add(d,D),N=n.mul(M,D),d=n.add(k,k),d=n.add(d,k),g=n.mul(K,g),m=n.mul(H,m),d=n.add(d,g),g=n.sub(k,g),g=n.mul(K,g),m=n.add(m,g),k=n.mul(d,m),N=n.add(N,k),k=n.mul(x,m),M=n.mul(C,M),M=n.sub(M,k),k=n.mul(C,d),D=n.mul(x,D),D=n.add(D,k),new f(M,N,D)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return E.wNAFCached(this,u,y,A=>{const w=n.invertBatch(A.map(R=>R.pz));return A.map((R,T)=>R.toAffine(w[T])).map(f.fromAffine)})}multiplyUnsafe(y){const A=f.ZERO;if(y===Gr)return A;if(a(y),y===On)return this;const{endo:w}=t;if(!w)return E.unsafeLadder(this,y);let{k1neg:R,k1:T,k2neg:L,k2:j}=w.splitScalar(y),M=A,N=A,D=this;for(;T>Gr||j>Gr;)T&On&&(M=M.add(D)),j&On&&(N=N.add(D)),D=D.double(),T>>=On,j>>=On;return R&&(M=M.negate()),L&&(N=N.negate()),N=new f(n.mul(N.px,w.beta),N.py,N.pz),M.add(N)}multiply(y){a(y);let A=y,w,R;const{endo:T}=t;if(T){const{k1neg:L,k1:j,k2neg:M,k2:N}=T.splitScalar(A);let{p:D,f:K}=this.wNAF(j),{p:H,f:k}=this.wNAF(N);D=E.constTimeNegate(L,D),H=E.constTimeNegate(M,H),H=new f(n.mul(H.px,T.beta),H.py,H.pz),w=D.add(H),R=K.add(k)}else{const{p:L,f:j}=this.wNAF(A);w=L,R=j}return f.normalizeZ([w,R])[0]}multiplyAndAddUnsafe(y,A,w){const R=f.BASE,T=(j,M)=>M===Gr||M===On||!j.equals(R)?j.multiplyUnsafe(M):j.multiply(M),L=T(this,A).add(T(y,w));return L.is0()?void 0:L}toAffine(y){const{px:A,py:w,pz:R}=this,T=this.is0();y==null&&(y=T?n.ONE:n.inv(R));const L=n.mul(A,y),j=n.mul(w,y),M=n.mul(R,y);if(T)return{x:n.ZERO,y:n.ZERO};if(!n.eql(M,n.ONE))throw new Error("invZ was invalid");return{x:L,y:j}}isTorsionFree(){const{h:y,isTorsionFree:A}=t;if(y===On)return!0;if(A)return A(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:A}=t;return y===On?this:A?A(f,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return this.assertValidity(),r(f,this,y)}toHex(y=!0){return ra(this.toRawBytes(y))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const p=t.nBitLength,E=pH(f,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function wH(e){const t=r8(e);return cu(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function xH(e){const t=wH(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(m){return Gr<m&&m<n.ORDER}function a(m){return Ht(m,r)}function l(m){return Kp(m,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:p}=vH({...t,toBytes(m,x,$){const P=x.toAffine(),S=n.toBytes(P.x),h=as;return $?h(Uint8Array.from([x.hasEvenY()?2:3]),S):h(Uint8Array.from([4]),S,n.toBytes(P.y))},fromBytes(m){const x=m.length,$=m[0],P=m.subarray(1);if(x===i&&($===2||$===3)){const S=gn(P);if(!s(S))throw new Error("Point is not on curve");const h=f(S);let B=n.sqrt(h);const z=(B&On)===On;return($&1)===1!==z&&(B=n.neg(B)),{x:S,y:B}}else if(x===o&&$===4){const S=n.fromBytes(P.subarray(0,n.BYTES)),h=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:S,y:h}}else throw new Error(`Point of length ${x} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),E=m=>ra(ao(m,t.nByteLength));function _(m){const x=r>>On;return m>x}function y(m){return _(m)?a(-m):m}const A=(m,x,$)=>gn(m.slice(x,$));class w{constructor(x,$,P){this.r=x,this.s=$,this.recovery=P,this.assertValidity()}static fromCompact(x){const $=t.nByteLength;return x=Zt("compactSignature",x,$*2),new w(A(x,0,$),A(x,$,2*$))}static fromDER(x){const{r:$,s:P}=Wo.toSig(Zt("DER",x));return new w($,P)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(x){return new w(this.r,this.s,x)}recoverPublicKey(x){const{r:$,s:P,recovery:S}=this,h=N(Zt("msgHash",x));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");const B=S===2||S===3?$+t.n:$;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const z=S&1?"03":"02",Q=u.fromHex(z+E(B)),J=l(B),te=a(-h*J),re=a(P*J),ie=u.BASE.multiplyAndAddUnsafe(Q,te,re);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ia(this.toDERHex())}toDERHex(){return Wo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ia(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}const R={isValidPrivateKey(m){try{return c(m),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const m=n8(t.n);return dH(t.randomBytes(m),t.n)},precompute(m=8,x=u.BASE){return x._setWindowSize(m),x.multiply(BigInt(3)),x}};function T(m,x=!0){return u.fromPrivateKey(m).toRawBytes(x)}function L(m){const x=m instanceof Uint8Array,$=typeof m=="string",P=(x||$)&&m.length;return x?P===i||P===o:$?P===2*i||P===2*o:m instanceof u}function j(m,x,$=!0){if(L(m))throw new Error("first arg must be private key");if(!L(x))throw new Error("second arg must be public key");return u.fromHex(x).multiply(c(m)).toRawBytes($)}const M=t.bits2int||function(m){const x=gn(m),$=m.length*8-t.nBitLength;return $>0?x>>BigInt($):x},N=t.bits2int_modN||function(m){return a(M(m))},D=ey(t.nBitLength);function K(m){if(typeof m!="bigint")throw new Error("bigint expected");if(!(Gr<=m&&m<D))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ao(m,t.nByteLength)}function H(m,x,$=k){if(["recovered","canonical"].some(se=>se in $))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:S}=t;let{lowS:h,prehash:B,extraEntropy:z}=$;h==null&&(h=!0),m=Zt("msgHash",m),B&&(m=Zt("prehashed msgHash",P(m)));const Q=N(m),J=c(x),te=[K(J),K(Q)];if(z!=null){const se=z===!0?S(n.BYTES):z;te.push(Zt("extraEntropy",se))}const re=as(...te),ie=Q;function xe(se){const me=M(se);if(!p(me))return;const ze=l(me),ge=u.BASE.multiply(me).toAffine(),fe=a(ge.x);if(fe===Gr)return;const He=a(ze*a(ie+fe*J));if(He===Gr)return;let ke=(ge.x===fe?0:2)|Number(ge.y&On),Me=He;return h&&_(He)&&(Me=y(He),ke^=1),new w(fe,Me,ke)}return{seed:re,k2sig:xe}}const k={lowS:t.lowS,prehash:!1},d={lowS:t.lowS,prehash:!1};function g(m,x,$=k){const{seed:P,k2sig:S}=H(m,x,$),h=t;return XE(h.hash.outputLen,h.nByteLength,h.hmac)(P,S)}u.BASE._setWindowSize(8);function C(m,x,$,P=d){var ge;const S=m;if(x=Zt("msgHash",x),$=Zt("publicKey",$),"strict"in P)throw new Error("options.strict was renamed to lowS");const{lowS:h,prehash:B}=P;let z,Q;try{if(typeof S=="string"||S instanceof Uint8Array)try{z=w.fromDER(S)}catch(fe){if(!(fe instanceof Wo.Err))throw fe;z=w.fromCompact(S)}else if(typeof S=="object"&&typeof S.r=="bigint"&&typeof S.s=="bigint"){const{r:fe,s:He}=S;z=new w(fe,He)}else throw new Error("PARSE");Q=u.fromHex($)}catch(fe){if(fe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(h&&z.hasHighS())return!1;B&&(x=t.hash(x));const{r:J,s:te}=z,re=N(x),ie=l(te),xe=a(re*ie),se=a(J*ie),me=(ge=u.BASE.multiplyAndAddUnsafe(Q,xe,se))==null?void 0:ge.toAffine();return me?a(me.x)===J:!1}return{CURVE:t,getPublicKey:T,getSharedSecret:j,sign:g,verify:C,ProjectivePoint:u,Signature:w,utils:R}}let i8=class extends ZE{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Lz(t);const r=Yg(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return of(this),this.iHash.update(t),this}digestInto(t){of(this),WE(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const o8=(e,t,n)=>new i8(e,t).update(n).digest();o8.create=(e,t)=>new i8(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function bH(e){return{hash:e,hmac:(t,...n)=>o8(e,t,Uz(...n)),randomBytes:YE}}function EH(e,t){const n=r=>xH({...e,...bH(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gd=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),sf=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),s8=BigInt(1),af=BigInt(2),Kw=(e,t)=>(e+t/af)/t;function a8(e){const t=gd,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),u=e*e*e%t,c=u*u*e%t,f=$n(c,n,t)*c%t,p=$n(f,n,t)*c%t,E=$n(p,af,t)*u%t,_=$n(E,i,t)*E%t,y=$n(_,o,t)*_%t,A=$n(y,a,t)*y%t,w=$n(A,l,t)*A%t,R=$n(w,a,t)*y%t,T=$n(R,n,t)*c%t,L=$n(T,s,t)*_%t,j=$n(L,r,t)*u%t,M=$n(j,af,t);if(!Vp.eql(Vp.sqr(M),e))throw new Error("Cannot find square root");return M}const Vp=fH(gd,void 0,void 0,{sqrt:a8}),_a=EH({a:BigInt(0),b:BigInt(7),Fp:Vp,n:sf,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=sf,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-s8*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=Kw(o*e,t),l=Kw(-r*e,t);let u=Ht(e-a*n-l*i,t),c=Ht(-a*r-l*o,t);const f=u>s,p=c>s;if(f&&(u=t-u),p&&(c=t-c),u>s||c>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:p,k2:c}}}},zp),yd=BigInt(0),l8=e=>typeof e=="bigint"&&yd<e&&e<gd,SH=e=>typeof e=="bigint"&&yd<e&&e<sf,Vw={};function lf(e,...t){let n=Vw[e];if(n===void 0){const r=zp(Uint8Array.from(e,i=>i.charCodeAt(0)));n=as(r,r),Vw[e]=n}return zp(as(n,...t))}const ty=e=>e.toRawBytes(!0).slice(1),qp=e=>ao(e,32),Yh=e=>Ht(e,gd),Gl=e=>Ht(e,sf),ny=_a.ProjectivePoint,_H=(e,t,n)=>ny.BASE.multiplyAndAddUnsafe(e,t,n);function Wp(e){let t=_a.utils.normPrivateKeyToScalar(e),n=ny.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Gl(-t),bytes:ty(n)}}function u8(e){if(!l8(e))throw new Error("bad x: need 0 < x < p");const t=Yh(e*e),n=Yh(t*e+BigInt(7));let r=a8(n);r%af!==yd&&(r=Yh(-r));const i=new ny(e,r,s8);return i.assertValidity(),i}function c8(...e){return Gl(gn(lf("BIP0340/challenge",...e)))}function AH(e){return Wp(e).bytes}function kH(e,t,n=YE(32)){const r=Zt("message",e),{bytes:i,scalar:o}=Wp(t),s=Zt("auxRand",n,32),a=qp(o^gn(lf("BIP0340/aux",s))),l=lf("BIP0340/nonce",a,i,r),u=Gl(gn(l));if(u===yd)throw new Error("sign failed: k is zero");const{bytes:c,scalar:f}=Wp(u),p=c8(c,i,r),E=new Uint8Array(64);if(E.set(c,0),E.set(qp(Gl(f+p*o)),32),!f8(E,r,i))throw new Error("sign: Invalid signature produced");return E}function f8(e,t,n){const r=Zt("signature",e,64),i=Zt("message",t),o=Zt("publicKey",n,32);try{const s=u8(gn(o)),a=gn(r.subarray(0,32));if(!l8(a))return!1;const l=gn(r.subarray(32,64));if(!SH(l))return!1;const u=c8(qp(a),ty(s),i),c=_H(s,l,Gl(-u));return!(!c||!c.hasEvenY()||c.toAffine().x!==a)}catch{return!1}}const Ga={getPublicKey:AH,sign:kH,verify:f8,utils:{randomPrivateKey:_a.utils.randomPrivateKey,lift_x:u8,pointToBytes:ty,numberToBytesBE:ao,bytesToNumberBE:gn,taggedHash:lf,mod:Ht}},Qh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ry=e=>e instanceof Uint8Array,Jh=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),mr=(e,t)=>e<<32-t|e>>>t,RH=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!RH)throw new Error("Non little-endian hardware is not supported");const CH=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ln(e){if(!ry(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=CH[e[n]];return t}function oa(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,o=e.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function d8(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Zl(e){if(typeof e=="string"&&(e=d8(e)),!ry(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function uf(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!ry(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class h8{clone(){return this._cloneInto()}}function p8(e){const t=r=>e().update(Zl(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function g8(e=32){if(Qh&&typeof Qh.getRandomValues=="function")return Qh.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Gp(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function TH(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function y8(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function BH(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Gp(e.outputLen),Gp(e.blockLen)}function $H(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function MH(e,t){y8(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Cr={number:Gp,bool:TH,bytes:y8,hash:BH,exists:$H,output:MH};function PH(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,u=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+u,a,r)}class IH extends h8{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Jh(this.buffer)}update(t){Cr.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=Zl(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Jh(t);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Cr.exists(this),Cr.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let f=s;f<i;f++)n[f]=0;PH(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Jh(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,c[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%n&&t.buffer.set(r),t}}const LH=(e,t,n)=>e&t^~e&n,NH=(e,t,n)=>e&t^e&n^t&n,OH=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Mi=new Uint32Array(64);class m8 extends IH{constructor(){super(64,32,8,!1),this.A=$i[0]|0,this.B=$i[1]|0,this.C=$i[2]|0,this.D=$i[3]|0,this.E=$i[4]|0,this.F=$i[5]|0,this.G=$i[6]|0,this.H=$i[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[t,n,r,i,o,s,a,l]}set(t,n,r,i,o,s,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)Mi[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const p=Mi[f-15],E=Mi[f-2],_=mr(p,7)^mr(p,18)^p>>>3,y=mr(E,17)^mr(E,19)^E>>>10;Mi[f]=y+Mi[f-7]+_+Mi[f-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:u,H:c}=this;for(let f=0;f<64;f++){const p=mr(a,6)^mr(a,11)^mr(a,25),E=c+p+LH(a,l,u)+OH[f]+Mi[f]|0,y=(mr(r,2)^mr(r,13)^mr(r,22))+NH(r,i,o)|0;c=u,u=l,l=a,a=s+E|0,s=o,o=i,i=r,r=E+y|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,i,o,s,a,l,u,c)}roundClean(){Mi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class jH extends m8{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const xl=p8(()=>new m8);p8(()=>new jH);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Aa(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function di(...e){const t=(i,o)=>s=>i(o(s)),n=Array.from(e).reverse().reduce((i,o)=>i?t(i,o.encode):o.encode,void 0),r=e.reduce((i,o)=>i?t(i,o.decode):o.decode,void 0);return{encode:n,decode:r}}function hi(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(Aa(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function pi(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function md(e,t="="){if(Aa(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of n)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function v8(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function qw(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],o=Array.from(e);for(o.forEach(s=>{if(Aa(s),s<0||s>=t)throw new Error(`Wrong integer: ${s}`)});;){let s=0,a=!0;for(let l=r;l<o.length;l++){const u=o[l],c=t*s+u;if(!Number.isSafeInteger(c)||t*s/t!==s||c-u!==t*s)throw new Error("convertRadix: carry overflow");if(s=c%n,o[l]=Math.floor(c/n),!Number.isSafeInteger(o[l])||o[l]*n+s!==c)throw new Error("convertRadix: carry overflow");if(a)o[l]?a=!1:r=l;else continue}if(i.push(s),a)break}for(let s=0;s<e.length-1&&e[s]===0;s++)i.push(0);return i.reverse()}const w8=(e,t)=>t?w8(t,e%t):e,cf=(e,t)=>e+(t-w8(e,t));function Zp(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(cf(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${cf(t,n)}`);let i=0,o=0;const s=2**n-1,a=[];for(const l of e){if(Aa(l),l>=2**t)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(i=i<<t|l,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)a.push((i>>o-n&s)>>>0);i&=2**o-1}if(i=i<<n-o&s,!r&&o>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&o>0&&a.push(i>>>0),a}function UH(e){return Aa(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return qw(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(qw(t,e,2**8))}}}function wo(e,t=!1){if(Aa(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(cf(8,e)>32||cf(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Zp(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Zp(n,e,8,t))}}}function Ww(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const DH=di(wo(4),hi("0123456789ABCDEF"),pi("")),FH=di(wo(5),hi("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),md(5),pi(""));di(wo(5),hi("0123456789ABCDEFGHIJKLMNOPQRSTUV"),md(5),pi(""));di(wo(5),hi("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),pi(""),v8(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const si=di(wo(6),hi("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),md(6),pi("")),zH=di(wo(6),hi("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),md(6),pi("")),iy=e=>di(UH(58),hi(e),pi("")),Yp=iy("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");iy("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");iy("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Gw=[0,2,3,5,6,7,9,10,11],HH={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=Yp.encode(r).padStart(Gw[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=Gw.indexOf(r.length),o=Yp.decode(r);for(let s=0;s<o.length-i;s++)if(o[s]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-i)))}return Uint8Array.from(t)}},Qp=di(hi("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),pi("")),Zw=[996825010,642813549,513874426,1027748829,705979059];function Za(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<Zw.length;r++)(t>>r&1)===1&&(n^=Zw[r]);return n}function Yw(e,t,n=1){const r=e.length;let i=1;for(let o=0;o<r;o++){const s=e.charCodeAt(o);if(s<33||s>126)throw new Error(`Invalid prefix (${e})`);i=Za(i)^s>>5}i=Za(i);for(let o=0;o<r;o++)i=Za(i)^e.charCodeAt(o)&31;for(let o of t)i=Za(i)^o;for(let o=0;o<6;o++)i=Za(i);return i^=n,Qp.encode(Zp([i%2**30],30,5,!1))}function x8(e){const t=e==="bech32"?1:734539939,n=wo(5),r=n.decode,i=n.encode,o=Ww(r);function s(c,f,p=90){if(typeof c!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof c}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);const E=c.length+7+f.length;if(p!==!1&&E>p)throw new TypeError(`Length ${E} exceeds limit ${p}`);return c=c.toLowerCase(),`${c}1${Qp.encode(f)}${Yw(c,f,t)}`}function a(c,f=90){if(typeof c!="string")throw new Error(`bech32.decode input should be string, not ${typeof c}`);if(c.length<8||f!==!1&&c.length>f)throw new TypeError(`Wrong string length: ${c.length} (${c}). Expected (8..${f})`);const p=c.toLowerCase();if(c!==p&&c!==c.toUpperCase())throw new Error("String must be lowercase or uppercase");c=p;const E=c.lastIndexOf("1");if(E===0||E===-1)throw new Error('Letter "1" must be present between prefix and data only');const _=c.slice(0,E),y=c.slice(E+1);if(y.length<6)throw new Error("Data must be at least 6 characters long");const A=Qp.decode(y).slice(0,-6),w=Yw(_,A,t);if(!y.endsWith(w))throw new Error(`Invalid checksum in ${c}: expected "${w}"`);return{prefix:_,words:A}}const l=Ww(a);function u(c){const{prefix:f,words:p}=a(c,!1);return{prefix:f,words:p,bytes:r(p)}}return{encode:s,decode:a,decodeToBytes:u,decodeUnsafe:l,fromWords:r,fromWordsUnsafe:o,toWords:i}}const sa=x8("bech32");x8("bech32m");const KH={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},VH=di(wo(4),hi("0123456789abcdef"),pi(""),v8(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),qH={utf8:KH,hex:VH,base16:DH,base32:FH,base64:si,base64url:zH,base58:Yp,base58xmr:HH};`${Object.keys(qH).join(", ")}`;function Xh(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Qw(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function b8(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Hn(e,...t){if(!b8(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function aa(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function oy(e,t){Hn(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const wt=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),WH=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),GH=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!GH)throw new Error("Non little-endian hardware is not supported");function sy(e){if(typeof e!="string")throw new Error(`string expected, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function lo(e){if(typeof e=="string")e=sy(e);else if(b8(e))e=e.slice();else throw new Error(`Uint8Array expected, got ${typeof e}`);return e}function ZH(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function YH(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const QH=(e,t)=>(Object.assign(t,e),t),Kr=16,ay=new Uint8Array(16),_r=wt(ay),JH=225,XH=(e,t,n,r)=>{const i=r&1;return{s3:n<<31|r>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^JH<<24&-(i&1)}},jn=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function eK(e){e.reverse();const t=e[15]&1;let n=0;for(let r=0;r<e.length;r++){const i=e[r];e[r]=i>>>1|n,n=(i&1)<<7}return e[0]^=-t&225,e}const tK=e=>e>64*1024?8:e>1024?4:2;class E8{constructor(t,n){this.blockLen=Kr,this.outputLen=Kr,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=lo(t),Hn(t,16);const r=WH(t);let i=r.getUint32(0,!1),o=r.getUint32(4,!1),s=r.getUint32(8,!1),a=r.getUint32(12,!1);const l=[];for(let _=0;_<128;_++)l.push({s0:jn(i),s1:jn(o),s2:jn(s),s3:jn(a)}),{s0:i,s1:o,s2:s,s3:a}=XH(i,o,s,a);const u=tK(n||1024);if(![1,2,4,8].includes(u))throw new Error(`ghash: wrong window size=${u}, should be 2, 4 or 8`);this.W=u;const f=128/u,p=this.windowSize=2**u,E=[];for(let _=0;_<f;_++)for(let y=0;y<p;y++){let A=0,w=0,R=0,T=0;for(let L=0;L<u;L++){if(!(y>>>u-L-1&1))continue;const{s0:M,s1:N,s2:D,s3:K}=l[u*_+L];A^=M,w^=N,R^=D,T^=K}E.push({s0:A,s1:w,s2:R,s3:T})}this.t=E}_updateBlock(t,n,r,i){t^=this.s0,n^=this.s1,r^=this.s2,i^=this.s3;const{W:o,t:s,windowSize:a}=this;let l=0,u=0,c=0,f=0;const p=(1<<o)-1;let E=0;for(const _ of[t,n,r,i])for(let y=0;y<4;y++){const A=_>>>8*y&255;for(let w=8/o-1;w>=0;w--){const R=A>>>o*w&p,{s0:T,s1:L,s2:j,s3:M}=s[E*a+R];l^=T,u^=L,c^=j,f^=M,E+=1}}this.s0=l,this.s1=u,this.s2=c,this.s3=f}update(t){t=lo(t),aa(this);const n=wt(t),r=Math.floor(t.length/Kr),i=t.length%Kr;for(let o=0;o<r;o++)this._updateBlock(n[o*4+0],n[o*4+1],n[o*4+2],n[o*4+3]);return i&&(ay.set(t.subarray(r*Kr)),this._updateBlock(_r[0],_r[1],_r[2],_r[3]),_r.fill(0)),this}destroy(){const{t}=this;for(const n of t)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(t){aa(this),oy(t,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:o}=this,s=wt(t);return s[0]=n,s[1]=r,s[2]=i,s[3]=o,t}digest(){const t=new Uint8Array(Kr);return this.digestInto(t),this.destroy(),t}}class nK extends E8{constructor(t,n){t=lo(t);const r=eK(t.slice());super(r,n),r.fill(0)}update(t){t=lo(t),aa(this);const n=wt(t),r=t.length%Kr,i=Math.floor(t.length/Kr);for(let o=0;o<i;o++)this._updateBlock(jn(n[o*4+3]),jn(n[o*4+2]),jn(n[o*4+1]),jn(n[o*4+0]));return r&&(ay.set(t.subarray(i*Kr)),this._updateBlock(jn(_r[3]),jn(_r[2]),jn(_r[1]),jn(_r[0])),_r.fill(0)),this}digestInto(t){aa(this),oy(t,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:o}=this,s=wt(t);return s[0]=n,s[1]=r,s[2]=i,s[3]=o,t.reverse()}}function S8(e){const t=(r,i)=>e(i,r.length).update(lo(r)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(r,i)=>e(r,i),t}S8((e,t)=>new E8(e,t));S8((e,t)=>new nK(e,t));const eo=16,rK=283;function ly(e){return e<<1^rK&-(e>>7)}function Ms(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=ly(e);return n}const Jp=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=ly(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),iK=Jp.map((e,t)=>Jp.indexOf(t)),oK=e=>e<<24|e>>>8,e0=e=>e<<8|e>>>24;function _8(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((u,c)=>t(e[c])),r=n.map(e0),i=r.map(e0),o=i.map(e0),s=new Uint32Array(256*256),a=new Uint32Array(256*256),l=new Uint16Array(256*256);for(let u=0;u<256;u++)for(let c=0;c<256;c++){const f=u*256+c;s[f]=n[u]^r[c],a[f]=i[u]^o[c],l[f]=e[u]<<8|e[c]}return{sbox:e,sbox2:l,T0:n,T1:r,T2:i,T3:o,T01:s,T23:a}}const uy=_8(Jp,e=>Ms(e,3)<<24|e<<16|e<<8|Ms(e,2)),A8=_8(iK,e=>Ms(e,11)<<24|Ms(e,13)<<16|Ms(e,9)<<8|Ms(e,14)),sK=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=ly(n))e[t]=n;return e})();function k8(e){Hn(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=uy,r=wt(e),i=r.length,o=a=>Tr(n,a,a,a,a),s=new Uint32Array(t+28);s.set(r);for(let a=i;a<s.length;a++){let l=s[a-1];a%i===0?l=o(oK(l))^sK[a/i-1]:i>6&&a%i===4&&(l=o(l)),s[a]=s[a-i]^l}return s}function aK(e){const t=k8(e),n=t.slice(),r=t.length,{sbox2:i}=uy,{T0:o,T1:s,T2:a,T3:l}=A8;for(let u=0;u<r;u+=4)for(let c=0;c<4;c++)n[u+c]=t[r-u-4+c];t.fill(0);for(let u=4;u<r-4;u++){const c=n[u],f=Tr(i,c,c,c,c);n[u]=o[f&255]^s[f>>>8&255]^a[f>>>16&255]^l[f>>>24]}return n}function Hi(e,t,n,r,i,o){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|o>>>24&255]}function Tr(e,t,n,r,i){return e[t&255|n&65280]|e[r>>>16&255|i>>>16&65280]<<16}function Jw(e,t,n,r,i){const{sbox2:o,T01:s,T23:a}=uy;let l=0;t^=e[l++],n^=e[l++],r^=e[l++],i^=e[l++];const u=e.length/4-2;for(let _=0;_<u;_++){const y=e[l++]^Hi(s,a,t,n,r,i),A=e[l++]^Hi(s,a,n,r,i,t),w=e[l++]^Hi(s,a,r,i,t,n),R=e[l++]^Hi(s,a,i,t,n,r);t=y,n=A,r=w,i=R}const c=e[l++]^Tr(o,t,n,r,i),f=e[l++]^Tr(o,n,r,i,t),p=e[l++]^Tr(o,r,i,t,n),E=e[l++]^Tr(o,i,t,n,r);return{s0:c,s1:f,s2:p,s3:E}}function lK(e,t,n,r,i){const{sbox2:o,T01:s,T23:a}=A8;let l=0;t^=e[l++],n^=e[l++],r^=e[l++],i^=e[l++];const u=e.length/4-2;for(let _=0;_<u;_++){const y=e[l++]^Hi(s,a,t,i,r,n),A=e[l++]^Hi(s,a,n,t,i,r),w=e[l++]^Hi(s,a,r,n,t,i),R=e[l++]^Hi(s,a,i,r,n,t);t=y,n=A,r=w,i=R}const c=e[l++]^Tr(o,t,i,r,n),f=e[l++]^Tr(o,n,t,i,r),p=e[l++]^Tr(o,r,n,t,i),E=e[l++]^Tr(o,i,r,n,t);return{s0:c,s1:f,s2:p,s3:E}}function R8(e,t){if(!t)return new Uint8Array(e);if(Hn(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function uK(e){if(Hn(e),e.length%eo!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${eo}`)}function cK(e,t,n){let r=e.length;const i=r%eo;if(!t&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const o=wt(e);if(t){let l=eo-i;l||(l=eo),r=r+l}const s=R8(r,n),a=wt(s);return{b:o,o:a,out:s}}function fK(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const i=e.subarray(0,-r);for(let o=0;o<r;o++)if(e[n-o-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function dK(e){const t=new Uint8Array(16),n=wt(t);t.set(e);const r=eo-e.length;for(let i=eo-r;i<eo;i++)t[i]=r;return n}const C8=QH({blockSize:16,nonceLength:16},function(t,n,r={}){Hn(t),Hn(n,16);const i=!r.disablePadding;return{encrypt:(o,s)=>{const a=k8(t),{b:l,o:u,out:c}=cK(o,i,s),f=wt(n);let p=f[0],E=f[1],_=f[2],y=f[3],A=0;for(;A+4<=l.length;)p^=l[A+0],E^=l[A+1],_^=l[A+2],y^=l[A+3],{s0:p,s1:E,s2:_,s3:y}=Jw(a,p,E,_,y),u[A++]=p,u[A++]=E,u[A++]=_,u[A++]=y;if(i){const w=dK(o.subarray(A*4));p^=w[0],E^=w[1],_^=w[2],y^=w[3],{s0:p,s1:E,s2:_,s3:y}=Jw(a,p,E,_,y),u[A++]=p,u[A++]=E,u[A++]=_,u[A++]=y}return a.fill(0),c},decrypt:(o,s)=>{uK(o);const a=aK(t),l=wt(n),u=R8(o.length,s),c=wt(o),f=wt(u);let p=l[0],E=l[1],_=l[2],y=l[3];for(let A=0;A+4<=c.length;){const w=p,R=E,T=_,L=y;p=c[A+0],E=c[A+1],_=c[A+2],y=c[A+3];const{s0:j,s1:M,s2:N,s3:D}=lK(a,p,E,_,y);f[A++]=j^w,f[A++]=M^R,f[A++]=N^T,f[A++]=D^L}return a.fill(0),fK(u,i)}}}),Nt=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class hK{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=lo(t),Hn(t,32);const n=Nt(t,0),r=Nt(t,2),i=Nt(t,4),o=Nt(t,6),s=Nt(t,8),a=Nt(t,10),l=Nt(t,12),u=Nt(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|o<<9)&8191,this.r[4]=(o>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let c=0;c<8;c++)this.pad[c]=Nt(t,16+2*c)}process(t,n,r=!1){const i=r?0:2048,{h:o,r:s}=this,a=s[0],l=s[1],u=s[2],c=s[3],f=s[4],p=s[5],E=s[6],_=s[7],y=s[8],A=s[9],w=Nt(t,n+0),R=Nt(t,n+2),T=Nt(t,n+4),L=Nt(t,n+6),j=Nt(t,n+8),M=Nt(t,n+10),N=Nt(t,n+12),D=Nt(t,n+14);let K=o[0]+(w&8191),H=o[1]+((w>>>13|R<<3)&8191),k=o[2]+((R>>>10|T<<6)&8191),d=o[3]+((T>>>7|L<<9)&8191),g=o[4]+((L>>>4|j<<12)&8191),C=o[5]+(j>>>1&8191),m=o[6]+((j>>>14|M<<2)&8191),x=o[7]+((M>>>11|N<<5)&8191),$=o[8]+((N>>>8|D<<8)&8191),P=o[9]+(D>>>5|i),S=0,h=S+K*a+H*(5*A)+k*(5*y)+d*(5*_)+g*(5*E);S=h>>>13,h&=8191,h+=C*(5*p)+m*(5*f)+x*(5*c)+$*(5*u)+P*(5*l),S+=h>>>13,h&=8191;let B=S+K*l+H*a+k*(5*A)+d*(5*y)+g*(5*_);S=B>>>13,B&=8191,B+=C*(5*E)+m*(5*p)+x*(5*f)+$*(5*c)+P*(5*u),S+=B>>>13,B&=8191;let z=S+K*u+H*l+k*a+d*(5*A)+g*(5*y);S=z>>>13,z&=8191,z+=C*(5*_)+m*(5*E)+x*(5*p)+$*(5*f)+P*(5*c),S+=z>>>13,z&=8191;let Q=S+K*c+H*u+k*l+d*a+g*(5*A);S=Q>>>13,Q&=8191,Q+=C*(5*y)+m*(5*_)+x*(5*E)+$*(5*p)+P*(5*f),S+=Q>>>13,Q&=8191;let J=S+K*f+H*c+k*u+d*l+g*a;S=J>>>13,J&=8191,J+=C*(5*A)+m*(5*y)+x*(5*_)+$*(5*E)+P*(5*p),S+=J>>>13,J&=8191;let te=S+K*p+H*f+k*c+d*u+g*l;S=te>>>13,te&=8191,te+=C*a+m*(5*A)+x*(5*y)+$*(5*_)+P*(5*E),S+=te>>>13,te&=8191;let re=S+K*E+H*p+k*f+d*c+g*u;S=re>>>13,re&=8191,re+=C*l+m*a+x*(5*A)+$*(5*y)+P*(5*_),S+=re>>>13,re&=8191;let ie=S+K*_+H*E+k*p+d*f+g*c;S=ie>>>13,ie&=8191,ie+=C*u+m*l+x*a+$*(5*A)+P*(5*y),S+=ie>>>13,ie&=8191;let xe=S+K*y+H*_+k*E+d*p+g*f;S=xe>>>13,xe&=8191,xe+=C*c+m*u+x*l+$*a+P*(5*A),S+=xe>>>13,xe&=8191;let se=S+K*A+H*y+k*_+d*E+g*p;S=se>>>13,se&=8191,se+=C*f+m*c+x*u+$*l+P*a,S+=se>>>13,se&=8191,S=(S<<2)+S|0,S=S+h|0,h=S&8191,S=S>>>13,B+=S,o[0]=h,o[1]=B,o[2]=z,o[3]=Q,o[4]=J,o[5]=te,o[6]=re,o[7]=ie,o[8]=xe,o[9]=se}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let i=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=i,i=t[a]>>>13,t[a]&=8191;t[0]+=i*5,i=t[0]>>>13,t[0]&=8191,t[1]+=i,i=t[1]>>>13,t[1]&=8191,t[2]+=i,r[0]=t[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let o=(i^1)-1;for(let a=0;a<10;a++)r[a]&=o;o=~o;for(let a=0;a<10;a++)t[a]=t[a]&o|r[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let s=t[0]+n[0];t[0]=s&65535;for(let a=1;a<8;a++)s=(t[a]+n[a]|0)+(s>>>16)|0,t[a]=s&65535}update(t){aa(this);const{buffer:n,blockLen:r}=this;t=lo(t);const i=t.length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s===r){for(;r<=i-o;o+=r)this.process(t,o);continue}n.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){aa(this),oy(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)t[o++]=r[s]>>>0,t[o++]=r[s]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}}function pK(e){const t=(r,i)=>e(i).update(lo(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}pK(e=>new hK(e));const gK=sy("expand 16-byte k"),yK=sy("expand 32-byte k"),mK=wt(gK),vK=wt(yK);function Oe(e,t){return e<<t|e>>>32-t}function Xp(e){return e.byteOffset%4===0}const Zu=64,wK=16,T8=2**32-1,Xw=new Uint32Array;function xK(e,t,n,r,i,o,s,a){const l=i.length,u=new Uint8Array(Zu),c=wt(u),f=Xp(i)&&Xp(o),p=f?wt(i):Xw,E=f?wt(o):Xw;for(let _=0;_<l;s++){if(e(t,n,r,c,s,a),s>=T8)throw new Error("arx: counter overflow");const y=Math.min(Zu,l-_);if(f&&y===Zu){const A=_/4;if(_%4!==0)throw new Error("arx: invalid block position");for(let w=0,R;w<wK;w++)R=A+w,E[R]=p[R]^c[w];_+=Zu;continue}for(let A=0,w;A<y;A++)w=_+A,o[w]=i[w]^u[A];_+=y}}function bK(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:s}=ZH({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return Xh(i),Xh(s),Qw(o),Qw(n),(a,l,u,c,f=0)=>{Hn(a),Hn(l),Hn(u);const p=u.length;if(c||(c=new Uint8Array(p)),Hn(c),Xh(f),f<0||f>=T8)throw new Error("arx: counter overflow");if(c.length<p)throw new Error(`arx: output (${c.length}) is shorter than data (${p})`);const E=[];let _=a.length,y,A;if(_===32)y=a.slice(),E.push(y),A=vK;else if(_===16&&n)y=new Uint8Array(32),y.set(a),y.set(a,16),A=mK,E.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${_}`);Xp(l)||(l=l.slice(),E.push(l));const w=wt(y);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(A,w,wt(l.subarray(0,16)),w),l=l.subarray(16)}const R=16-i;if(R!==l.length)throw new Error(`arx: nonce must be ${R} or 16 bytes`);if(R!==12){const L=new Uint8Array(12);L.set(l,o?0:12-l.length),l=L,E.push(l)}const T=wt(l);for(xK(e,A,w,T,u,c,f,s);E.length>0;)E.pop().fill(0);return c}}function EK(e,t,n,r,i,o=20){let s=e[0],a=e[1],l=e[2],u=e[3],c=t[0],f=t[1],p=t[2],E=t[3],_=t[4],y=t[5],A=t[6],w=t[7],R=i,T=n[0],L=n[1],j=n[2],M=s,N=a,D=l,K=u,H=c,k=f,d=p,g=E,C=_,m=y,x=A,$=w,P=R,S=T,h=L,B=j;for(let Q=0;Q<o;Q+=2)M=M+H|0,P=Oe(P^M,16),C=C+P|0,H=Oe(H^C,12),M=M+H|0,P=Oe(P^M,8),C=C+P|0,H=Oe(H^C,7),N=N+k|0,S=Oe(S^N,16),m=m+S|0,k=Oe(k^m,12),N=N+k|0,S=Oe(S^N,8),m=m+S|0,k=Oe(k^m,7),D=D+d|0,h=Oe(h^D,16),x=x+h|0,d=Oe(d^x,12),D=D+d|0,h=Oe(h^D,8),x=x+h|0,d=Oe(d^x,7),K=K+g|0,B=Oe(B^K,16),$=$+B|0,g=Oe(g^$,12),K=K+g|0,B=Oe(B^K,8),$=$+B|0,g=Oe(g^$,7),M=M+k|0,B=Oe(B^M,16),x=x+B|0,k=Oe(k^x,12),M=M+k|0,B=Oe(B^M,8),x=x+B|0,k=Oe(k^x,7),N=N+d|0,P=Oe(P^N,16),$=$+P|0,d=Oe(d^$,12),N=N+d|0,P=Oe(P^N,8),$=$+P|0,d=Oe(d^$,7),D=D+g|0,S=Oe(S^D,16),C=C+S|0,g=Oe(g^C,12),D=D+g|0,S=Oe(S^D,8),C=C+S|0,g=Oe(g^C,7),K=K+H|0,h=Oe(h^K,16),m=m+h|0,H=Oe(H^m,12),K=K+H|0,h=Oe(h^K,8),m=m+h|0,H=Oe(H^m,7);let z=0;r[z++]=s+M|0,r[z++]=a+N|0,r[z++]=l+D|0,r[z++]=u+K|0,r[z++]=c+H|0,r[z++]=f+k|0,r[z++]=p+d|0,r[z++]=E+g|0,r[z++]=_+C|0,r[z++]=y+m|0,r[z++]=A+x|0,r[z++]=w+$|0,r[z++]=R+P|0,r[z++]=T+S|0,r[z++]=L+h|0,r[z++]=j+B|0}const B8=bK(EK,{counterRight:!1,counterLength:4,allowShortKeys:!1});class $8 extends h8{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Cr.hash(t);const r=Zl(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return Cr.exists(this),this.iHash.update(t),this}digestInto(t){Cr.exists(this),Cr.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const vd=(e,t,n)=>new $8(e,t).update(n).digest();vd.create=(e,t)=>new $8(e,t);function SK(e,t,n){return Cr.hash(e),n===void 0&&(n=new Uint8Array(e.outputLen)),vd(e,Zl(n),Zl(t))}const t0=new Uint8Array([0]),e2=new Uint8Array;function _K(e,t,n,r=32){if(Cr.hash(e),Cr.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);n===void 0&&(n=e2);const o=new Uint8Array(i*e.outputLen),s=vd.create(e,t),a=s._cloneInto(),l=new Uint8Array(s.outputLen);for(let u=0;u<i;u++)t0[0]=u+1,a.update(u===0?e2:l).update(n).update(t0).digestInto(l),o.set(l,e.outputLen*u),s._cloneInto(a);return s.destroy(),a.destroy(),l.fill(0),t0.fill(0),o.slice(0,r)}var AK=Object.defineProperty,bt=(e,t)=>{for(var n in t)AK(e,n,{get:t[n],enumerable:!0})},Mo=Symbol("verified"),kK=e=>e instanceof Object;function M8(e){if(!kK(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}var RK={};bt(RK,{Queue:()=>I8,QueueNode:()=>P8,binarySearch:()=>cy,insertEventIntoAscendingList:()=>TK,insertEventIntoDescendingList:()=>CK,normalizeURL:()=>Ps,utf8Decoder:()=>Zr,utf8Encoder:()=>Lr});var Zr=new TextDecoder("utf-8"),Lr=new TextEncoder;function Ps(e){e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function CK(e,t){const[n,r]=cy(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:i.created_at-t.created_at);return r||e.splice(n,0,t),e}function TK(e,t){const[n,r]=cy(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:t.created_at-i.created_at);return r||e.splice(n,0,t),e}function cy(e,t){let n=0,r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),o=t(e[i]);if(o===0)return[i,!0];o<0?r=i-1:n=i+1}return[n,!1]}var P8=class{constructor(e){_e(this,"value");_e(this,"next",null);_e(this,"prev",null);this.value=e}},I8=class{constructor(){_e(this,"first");_e(this,"last");this.first=null,this.last=null}enqueue(e){const t=new P8(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,e.value}},BK=class{generateSecretKey(){return Ga.utils.randomPrivateKey()}getPublicKey(e){return ln(Ga.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=ln(Ga.getPublicKey(t)),n.id=dc(n),n.sig=ln(Ga.sign(dc(n),t)),n[Mo]=!0,n}verifyEvent(e){if(typeof e[Mo]=="boolean")return e[Mo];const t=dc(e);if(t!==e.id)return e[Mo]=!1,!1;try{const n=Ga.verify(e.sig,t,e.pubkey);return e[Mo]=n,n}catch{return e[Mo]=!1,!1}}};function $K(e){if(!M8(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function dc(e){let t=xl(Lr.encode($K(e)));return ln(t)}var wd=new BK;wd.generateSecretKey;wd.getPublicKey;var xo=wd.finalizeEvent,xd=wd.verifyEvent,MK={};bt(MK,{Application:()=>MV,BadgeAward:()=>FK,BadgeDefinition:()=>AV,BlockedRelaysList:()=>cV,BookmarkList:()=>aV,Bookmarksets:()=>EV,Calendar:()=>UV,CalendarEventRSVP:()=>DV,ChannelCreation:()=>U8,ChannelHideMessage:()=>z8,ChannelMessage:()=>F8,ChannelMetadata:()=>D8,ChannelMuteUser:()=>H8,ClassifiedListing:()=>LV,ClientAuth:()=>K8,CommunitiesList:()=>lV,CommunityDefinition:()=>HV,CommunityPostApproval:()=>YK,Contacts:()=>OK,CreateOrUpdateProduct:()=>CV,CreateOrUpdateStall:()=>RV,Curationsets:()=>SV,Date:()=>OV,DraftClassifiedListing:()=>NV,DraftLong:()=>BV,Emojisets:()=>$V,EncryptedDirectMessage:()=>jK,EncryptedDirectMessages:()=>UK,EventDeletion:()=>DK,FileMetadata:()=>KK,FileServerPreference:()=>pV,Followsets:()=>wV,GenericRepost:()=>zK,Genericlists:()=>xV,HTTPAuth:()=>hy,Handlerinformation:()=>zV,Handlerrecommendation:()=>FV,Highlights:()=>rV,InterestsList:()=>dV,Interestsets:()=>kV,JobFeedback:()=>XK,JobRequest:()=>QK,JobResult:()=>JK,Label:()=>ZK,LightningPubRPC:()=>yV,LiveChatMessage:()=>VK,LiveEvent:()=>PV,LongFormArticle:()=>TV,Metadata:()=>IK,Mutelist:()=>iV,NWCWalletInfo:()=>gV,NWCWalletRequest:()=>V8,NWCWalletResponse:()=>mV,NostrConnect:()=>vV,OpenTimestamps:()=>HK,Pinlist:()=>oV,ProblemTracker:()=>qK,ProfileBadges:()=>_V,PublicChatsList:()=>uV,Reaction:()=>dy,RecommendRelay:()=>NK,RelayList:()=>sV,Relaysets:()=>bV,Report:()=>WK,Reporting:()=>GK,Repost:()=>fy,SearchRelaysList:()=>fV,ShortTextNote:()=>LK,Time:()=>jV,UserEmojiList:()=>hV,UserStatuses:()=>IV,Zap:()=>nV,ZapGoal:()=>eV,ZapRequest:()=>tV,classifyKind:()=>PK,isEphemeralKind:()=>O8,isParameterizedReplaceableKind:()=>j8,isRegularKind:()=>L8,isReplaceableKind:()=>N8});function L8(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function N8(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function O8(e){return 2e4<=e&&e<3e4}function j8(e){return 3e4<=e&&e<4e4}function PK(e){return L8(e)?"regular":N8(e)?"replaceable":O8(e)?"ephemeral":j8(e)?"parameterized":"unknown"}var IK=0,LK=1,NK=2,OK=3,jK=4,UK=4,DK=5,fy=6,dy=7,FK=8,zK=16,U8=40,D8=41,F8=42,z8=43,H8=44,HK=1040,KK=1063,VK=1311,qK=1971,WK=1984,GK=1984,ZK=1985,YK=4550,QK=5999,JK=6999,XK=7e3,eV=9041,tV=9734,nV=9735,rV=9802,iV=1e4,oV=10001,sV=10002,aV=10003,lV=10004,uV=10005,cV=10006,fV=10007,dV=10015,hV=10030,pV=10096,gV=13194,yV=21e3,K8=22242,V8=23194,mV=23195,vV=24133,hy=27235,wV=3e4,xV=30001,bV=30002,EV=30003,SV=30004,_V=30008,AV=30009,kV=30015,RV=30017,CV=30018,TV=30023,BV=30024,$V=30030,MV=30078,PV=30311,IV=30315,LV=30402,NV=30403,OV=31922,jV=31923,UV=31924,DV=31925,FV=31989,zV=31990,HV=34550;function KV(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1&&!e.ids.some(n=>t.id.startsWith(n))||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1&&!e.authors.some(n=>t.pubkey.startsWith(n)))return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),i=e[`#${r}`];if(i&&!t.tags.find(([o,s])=>o===n.slice(1)&&i.indexOf(s)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function VV(e,t){for(let n=0;n<e.length;n++)if(KV(e[n],t))return!0;return!1}var qV={};bt(qV,{getHex64:()=>bd,getInt:()=>q8,getSubscriptionId:()=>W8,matchEventId:()=>WV,matchEventKind:()=>ZV,matchEventPubkey:()=>GV});function bd(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}function q8(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,i=e.slice(r),o=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,o),10)}function W8(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(i===-1)return null;let o=r+1+i;return e.slice(r+1,o)}function WV(e,t){return t===bd(e,"id")}function GV(e,t){return t===bd(e,"pubkey")}function ZV(e,t){return t===q8(e,"kind")}var YV={};bt(YV,{makeAuthEvent:()=>G8});function G8(e,t){return{kind:K8,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function QV(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var JV=e=>(e[Mo]=!0,!0),Z8;try{Z8=WebSocket}catch{}var Y8=class{constructor(e,t){_e(this,"url");_e(this,"_connected",!1);_e(this,"onclose",null);_e(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));_e(this,"baseEoseTimeout",4400);_e(this,"connectionTimeout",4400);_e(this,"openSubs",new Map);_e(this,"connectionTimeoutHandle");_e(this,"connectionPromise");_e(this,"openCountRequests",new Map);_e(this,"openEventPublishes",new Map);_e(this,"ws");_e(this,"incomingMessageQueue",new I8);_e(this,"queueRunning",!1);_e(this,"challenge");_e(this,"serial",0);_e(this,"verifyEvent");this.url=Ps(e),this.verifyEvent=t.verifyEvent}static async connect(e,t){const n=new Y8(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new Z8(this.url)}catch(n){t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var r;t(n.message),this._connected&&((r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"),this._connected=!1)},this.ws.onclose=async()=>{var n;this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection closed"),this._connected=!1},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await QV();this.queueRunning=!1}handleNext(){var n,r;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=W8(e);if(t){const i=this.openSubs.get(t);if(!i)return;const o=bd(e,"id"),s=(n=i.alreadyHaveEvent)==null?void 0:n.call(i,o);if((r=i.receivedEvent)==null||r.call(i,this,o),s)return}try{let i=JSON.parse(e);switch(i[0]){case"EVENT":{const o=this.openSubs.get(i[1]),s=i[2];this.verifyEvent(s)&&VV(o.filters,s)&&o.onevent(s);return}case"COUNT":{const o=i[1],s=i[2],a=this.openCountRequests.get(o);a&&(a.resolve(s.count),this.openCountRequests.delete(o));return}case"EOSE":{const o=this.openSubs.get(i[1]);if(!o)return;o.receivedEose();return}case"OK":{const o=i[1],s=i[2],a=i[3],l=this.openEventPublishes.get(o);s?l.resolve(a):l.reject(new Error(a)),this.openEventPublishes.delete(o);return}case"CLOSED":{const o=i[1],s=this.openSubs.get(o);if(!s)return;s.closed=!0,s.close(i[2]);return}case"NOTICE":this.onnotice(i[1]);return;case"AUTH":{this.challenge=i[1];return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new Error("sending on closed connection");this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){if(!this.challenge)throw new Error("can't perform auth, no challenge was received");const t=await e(G8(this.url,this.challenge)),n=new Promise((r,i)=>{this.openEventPublishes.set(t.id,{resolve:r,reject:i})});return this.send('["AUTH",'+JSON.stringify(t)+"]"),n}async publish(e){const t=new Promise((n,r)=>{this.openEventPublishes.set(e.id,{resolve:n,reject:r})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,r=new Promise((i,o)=>{this.openCountRequests.set(n,{resolve:i,reject:o})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e)+"]"),r}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||"sub:"+this.serial,r=new XV(this,n,e,t);return this.openSubs.set(n,r),r}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},XV=class{constructor(e,t,n,r){_e(this,"relay");_e(this,"id");_e(this,"closed",!1);_e(this,"eosed",!1);_e(this,"filters");_e(this,"alreadyHaveEvent");_e(this,"receivedEvent");_e(this,"onevent");_e(this,"oneose");_e(this,"onclose");_e(this,"eoseTimeout");_e(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||e.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(i=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,i)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;this.closed||(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},eq=class{constructor(e){_e(this,"relays",new Map);_e(this,"seenOn",new Map);_e(this,"trackRelays",!1);_e(this,"verifyEvent");_e(this,"trustedRelayURLs",new Set);this.verifyEvent=e.verifyEvent}async ensureRelay(e,t){e=Ps(e);let n=this.relays.get(e);return n||(n=new Y8(e,{verifyEvent:this.trustedRelayURLs.has(e)?JV:this.verifyEvent}),t!=null&&t.connectionTimeout&&(n.connectionTimeout=t.connectionTimeout),this.relays.set(e,n)),await n.connect(),n}close(e){e.map(Ps).forEach(t=>{var n;(n=this.relays.get(t))==null||n.close()})}subscribeMany(e,t,n){this.trackRelays&&(n.receivedEvent=(f,p)=>{let E=this.seenOn.get(p);E||(E=new Set,this.seenOn.set(p,E)),E.add(f)});const r=new Set,i=[],o=[];let s=f=>{var p;o[f]=!0,o.filter(E=>E).length===e.length&&((p=n.oneose)==null||p.call(n),s=()=>{})};const a=[];let l=(f,p)=>{var E;s(f),a[f]=p,a.filter(_=>_).length===e.length&&((E=n.onclose)==null||E.call(n,a),l=()=>{})};const u=f=>{var E;if((E=n.alreadyHaveEvent)!=null&&E.call(n,f))return!0;const p=r.has(f);return r.add(f),p},c=Promise.all(e.map(Ps).map(async(f,p,E)=>{if(E.indexOf(f)!==p){l(p,"duplicate url");return}let _;try{_=await this.ensureRelay(f,{connectionTimeout:n.maxWait?Math.max(n.maxWait*.8,n.maxWait-1e3):void 0})}catch(A){l(p,(A==null?void 0:A.message)||String(A));return}let y=_.subscribe(t,{...n,oneose:()=>s(p),onclose:A=>l(p,A),alreadyHaveEvent:u,eoseTimeout:n.maxWait});i.push(y)}));return{async close(){await c,i.forEach(f=>{f.close()})}}}subscribeManyEose(e,t,n){const r=this.subscribeMany(e,t,{...n,oneose(){r.close()}});return r}async querySync(e,t,n){return new Promise(async r=>{const i=[];this.subscribeManyEose(e,[t],{...n,onevent(o){i.push(o)},onclose(o){r(i)}})})}async get(e,t,n){t.limit=1;const r=await this.querySync(e,t,n);return r.sort((i,o)=>o.created_at-i.created_at),r[0]||null}publish(e,t){return e.map(Ps).map(async(n,r,i)=>i.indexOf(n)!==r?Promise.reject("duplicate url"):(await this.ensureRelay(n)).publish(t))}},tq=class extends eq{constructor(){super({verifyEvent:xd})}},nq={};bt(nq,{BECH32_REGEX:()=>Q8,Bech32MaxSize:()=>py,decode:()=>Ed,encodeBytes:()=>Sd,naddrEncode:()=>uq,neventEncode:()=>lq,noteEncode:()=>sq,nprofileEncode:()=>aq,npubEncode:()=>oq,nrelayEncode:()=>cq,nsecEncode:()=>iq});var py=5e3,Q8=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function rq(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function Ed(e){var i,o,s,a,l,u,c,f;let{prefix:t,words:n}=sa.decode(e,py),r=new Uint8Array(sa.fromWords(n));switch(t){case"nprofile":{let p=Yu(r);if(!((i=p[0])!=null&&i[0]))throw new Error("missing TLV 0 for nprofile");if(p[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:ln(p[0][0]),relays:p[1]?p[1].map(E=>Zr.decode(E)):[]}}}case"nevent":{let p=Yu(r);if(!((o=p[0])!=null&&o[0]))throw new Error("missing TLV 0 for nevent");if(p[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(p[2]&&p[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(p[3]&&p[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:ln(p[0][0]),relays:p[1]?p[1].map(E=>Zr.decode(E)):[],author:(s=p[2])!=null&&s[0]?ln(p[2][0]):void 0,kind:(a=p[3])!=null&&a[0]?parseInt(ln(p[3][0]),16):void 0}}}case"naddr":{let p=Yu(r);if(!((l=p[0])!=null&&l[0]))throw new Error("missing TLV 0 for naddr");if(!((u=p[2])!=null&&u[0]))throw new Error("missing TLV 2 for naddr");if(p[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((c=p[3])!=null&&c[0]))throw new Error("missing TLV 3 for naddr");if(p[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Zr.decode(p[0][0]),pubkey:ln(p[2][0]),kind:parseInt(ln(p[3][0]),16),relays:p[1]?p[1].map(E=>Zr.decode(E)):[]}}}case"nrelay":{let p=Yu(r);if(!((f=p[0])!=null&&f[0]))throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:Zr.decode(p[0][0])}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:ln(r)};default:throw new Error(`unknown prefix ${t}`)}}function Yu(e){let t={},n=e;for(;n.length>0;){let r=n[0],i=n[1],o=n.slice(2,2+i);if(n=n.slice(2+i),o.length<i)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(o)}return t}function iq(e){return Sd("nsec",e)}function oq(e){return Sd("npub",oa(e))}function sq(e){return Sd("note",oa(e))}function fu(e,t){let n=sa.toWords(t);return sa.encode(e,n,py)}function Sd(e,t){return fu(e,t)}function aq(e){let t=_d({0:[oa(e.pubkey)],1:(e.relays||[]).map(n=>Lr.encode(n))});return fu("nprofile",t)}function lq(e){let t;e.kind!==void 0&&(t=rq(e.kind));let n=_d({0:[oa(e.id)],1:(e.relays||[]).map(r=>Lr.encode(r)),2:e.author?[oa(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return fu("nevent",n)}function uq(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=_d({0:[Lr.encode(e.identifier)],1:(e.relays||[]).map(r=>Lr.encode(r)),2:[oa(e.pubkey)],3:[new Uint8Array(t)]});return fu("naddr",n)}function cq(e){let t=_d({0:[Lr.encode(e)]});return fu("nrelay",t)}function _d(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(i=>{let o=new Uint8Array(i.length+2);o.set([parseInt(n)],0),o.set([i.length],1),o.set(i,2),t.push(o)})}),uf(...t)}var fq={};bt(fq,{decrypt:()=>dq,encrypt:()=>J8});async function J8(e,t,n){const r=e instanceof Uint8Array?ln(e):e,i=_a.getSharedSecret(r,"02"+t),o=X8(i);let s=Uint8Array.from(g8(16)),a=Lr.encode(n),l=C8(o,s).encrypt(a),u=si.encode(new Uint8Array(l)),c=si.encode(new Uint8Array(s.buffer));return`${u}?iv=${c}`}async function dq(e,t,n){const r=e instanceof Uint8Array?ln(e):e;let[i,o]=n.split("?iv="),s=_a.getSharedSecret(r,"02"+t),a=X8(s),l=si.decode(o),u=si.decode(i),c=C8(a,l).decrypt(u);return Zr.decode(c)}function X8(e){return e.slice(1,33)}var hq={};bt(hq,{NIP05_REGEX:()=>e6,isValid:()=>yq,queryProfile:()=>t6,searchDomain:()=>gq,useFetchImplementation:()=>pq});var e6=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,Ad;try{Ad=fetch}catch{}function pq(e){Ad=e}async function gq(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`;return(await(await Ad(n,{redirect:"error"})).json()).names}catch{return{}}}async function t6(e){var o;const t=e.match(e6);if(!t)return null;const[n,r="_",i]=t;try{const s=`https://${i}/.well-known/nostr.json?name=${r}`,a=await(await Ad(s,{redirect:"error"})).json();let l=a.names[r];return l?{pubkey:l,relays:(o=a.relays)==null?void 0:o[l]}:null}catch{return null}}async function yq(e,t){let n=await t6(t);return n?n.pubkey===e:!1}var mq={};bt(mq,{parse:()=>vq});function vq(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const r of e.tags)r[0]==="e"&&r[1]&&n.push(r),r[0]==="p"&&r[1]&&t.profiles.push({pubkey:r[1],relays:r[2]?[r[2]]:[]});for(let r=0;r<n.length;r++){const i=n[r],[o,s,a,l]=i,u={id:s,relays:a?[a]:[]},c=r===0,f=r===n.length-1;if(l==="root"){t.root=u;continue}if(l==="reply"){t.reply=u;continue}if(l==="mention"){t.mentions.push(u);continue}if(c){t.root=u;continue}if(f){t.reply=u;continue}t.mentions.push(u)}return t}var wq={};bt(wq,{fetchRelayInformation:()=>bq,useFetchImplementation:()=>xq});var n6;try{n6=fetch}catch{}function xq(e){n6=e}async function bq(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var Eq={};bt(Eq,{getPow:()=>r6,minePow:()=>Sq});function r6(e){let t=0;for(let n=0;n<e.length;n++){const r=parseInt(e[n],16);if(r===0)t+=4;else{t+=Math.clz32(r)-28;break}}return t}function Sq(e,t){let n=0;const r=e,i=["nonce",n.toString(),t.toString()];for(r.tags.push(i);;){const o=Math.floor(new Date().getTime()/1e3);if(o!==r.created_at&&(n=0,r.created_at=o),i[1]=(++n).toString(),r.id=dc(r),r6(r.id)>=t)break}return r}var _q={};bt(_q,{finishRepostEvent:()=>Aq,getRepostedEvent:()=>kq,getRepostedEventPointer:()=>i6});function Aq(e,t,n,r){return xo({kind:fy,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:e.content===""?"":JSON.stringify(t),created_at:e.created_at},r)}function i6(e){if(e.kind!==fy)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function kq(e,{skipVerification:t}={}){const n=i6(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!xd(r)))return r}var Rq={};bt(Rq,{NOSTR_URI_REGEX:()=>kd,parse:()=>Tq,test:()=>Cq});var kd=new RegExp(`nostr:(${Q8.source})`);function Cq(e){return typeof e=="string"&&new RegExp(`^${kd.source}$`).test(e)}function Tq(e){const t=e.match(new RegExp(`^${kd.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Ed(t[1])}}var Bq={};bt(Bq,{finishReactionEvent:()=>$q,getReactedEventPointer:()=>Mq});function $q(e,t,n){const r=t.tags.filter(i=>i.length>=2&&(i[0]==="e"||i[0]==="p"));return xo({...e,kind:dy,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function Mq(e){if(e.kind!==dy)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var Pq={};bt(Pq,{matchAll:()=>Iq,regex:()=>gy,replaceAll:()=>Lq});var gy=()=>new RegExp(`\\b${kd.source}\\b`,"g");function*Iq(e){const t=e.matchAll(gy());for(const n of t)try{const[r,i]=n;yield{uri:r,value:i,decoded:Ed(i),start:n.index,end:n.index+r.length}}catch{}}function Lq(e,t){return e.replaceAll(gy(),(n,r)=>t({uri:n,value:r,decoded:Ed(r)}))}var Nq={};bt(Nq,{channelCreateEvent:()=>Oq,channelHideMessageEvent:()=>Dq,channelMessageEvent:()=>Uq,channelMetadataEvent:()=>jq,channelMuteUserEvent:()=>Fq});var Oq=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return xo({kind:U8,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},jq=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return xo({kind:D8,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},Uq=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),xo({kind:F8,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},Dq=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return xo({kind:z8,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},Fq=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return xo({kind:H8,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},zq={};bt(zq,{EMOJI_SHORTCODE_REGEX:()=>o6,matchAll:()=>Hq,regex:()=>yy,replaceAll:()=>Kq});var o6=/:(\w+):/,yy=()=>new RegExp(`\\B${o6.source}\\B`,"g");function*Hq(e){const t=e.matchAll(yy());for(const n of t)try{const[r,i]=n;yield{shortcode:r,name:i,start:n.index,end:n.index+r.length}}catch{}}function Kq(e,t){return e.replaceAll(yy(),(n,r)=>t({shortcode:n,name:r}))}var Vq={};bt(Vq,{useFetchImplementation:()=>qq,validateGithub:()=>Wq});var my;try{my=fetch}catch{}function qq(e){my=e}async function Wq(e,t,n){try{return await(await my(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var Gq={};bt(Gq,{default:()=>Jq,v2:()=>s6});var Zq=new TextDecoder,Dt={minPlaintextSize:1,maxPlaintextSize:65535,utf8Encode:d8,utf8Decode(e){return Zq.decode(e)},getConversationKey(e,t){const n=_a.getSharedSecret(e,"02"+t).subarray(1,33);return SK(xl,n,"nip44-v2")},getMessageKeys(e,t){const n=_K(xl,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}},calcPaddedLen(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)},writeU16BE(e){if(!Number.isSafeInteger(e)||e<Dt.minPlaintextSize||e>Dt.maxPlaintextSize)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t},pad(e){const t=Dt.utf8Encode(e),n=t.length,r=Dt.writeU16BE(n),i=new Uint8Array(Dt.calcPaddedLen(n)-n);return uf(r,t,i)},unpad(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<Dt.minPlaintextSize||t>Dt.maxPlaintextSize||n.length!==t||e.length!==2+Dt.calcPaddedLen(t))throw new Error("invalid padding");return Dt.utf8Decode(n)},hmacAad(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=uf(n,t);return vd(xl,e,r)},decodePayload(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=si.decode(e)}catch(o){throw new Error("invalid base64: "+o.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const i=n[0];if(i!==2)throw new Error("unknown encryption version "+i);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}};function Yq(e,t,n=g8(32)){const{chacha_key:r,chacha_nonce:i,hmac_key:o}=Dt.getMessageKeys(t,n),s=Dt.pad(e),a=B8(r,i,s),l=Dt.hmacAad(o,a,n);return si.encode(uf(new Uint8Array([2]),n,a,l))}function Qq(e,t){const{nonce:n,ciphertext:r,mac:i}=Dt.decodePayload(e),{chacha_key:o,chacha_nonce:s,hmac_key:a}=Dt.getMessageKeys(t,n),l=Dt.hmacAad(a,r,n);if(!YH(l,i))throw new Error("invalid MAC");const u=B8(o,s,r);return Dt.unpad(u)}var s6={utils:Dt,encrypt:Yq,decrypt:Qq},Jq={v2:s6},Xq={};bt(Xq,{makeNwcRequestEvent:()=>tW,parseConnectionString:()=>eW});function eW(e){const{pathname:t,searchParams:n}=new URL(e),r=t,i=n.get("relay"),o=n.get("secret");if(!r||!i||!o)throw new Error("invalid connection string");return{pubkey:r,relay:i,secret:o}}async function tW(e,t,n){const i=await J8(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),o={kind:V8,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]};return xo(o,t)}var nW={};bt(nW,{getZapEndpoint:()=>iW,makeZapReceipt:()=>aW,makeZapRequest:()=>oW,useFetchImplementation:()=>rW,validateZapRequest:()=>sW});var vy;try{vy=fetch}catch{}function rW(e){vy=e}async function iW(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:s}=sa.decode(n,1e3),a=sa.fromWords(s);t=Zr.decode(a)}else if(r){let[s,a]=r.split("@");t=new URL(`/.well-known/lnurlp/${s}`,`https://${a}`).toString()}else return null;let o=await(await vy(t)).json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch{}return null}function oW({profile:e,event:t,amount:n,relays:r,comment:i=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",n.toString()],["relays",...r]]};return t&&o.tags.push(["e",t]),o}function sW(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!M8(t))return"Zap request is not a valid Nostr event.";if(!xd(t))return"Invalid signature on zap request.";let n=t.tags.find(([o,s])=>o==="p"&&s);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([o,s])=>o==="e"&&s);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([o,s])=>o==="relays"&&s)?null:"Zap request doesn't have a 'relays' tag."}function aW({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let i=JSON.parse(e),o=i.tags.filter(([a])=>a==="e"||a==="p"||a==="a"),s={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...o,["P",i.pubkey],["bolt11",n],["description",e]]};return t&&s.tags.push(["preimage",t]),s}var lW={};bt(lW,{getToken:()=>uW,hashPayload:()=>wy,unpackEventFromToken:()=>l6,validateEvent:()=>p6,validateEventKind:()=>c6,validateEventMethodTag:()=>d6,validateEventPayloadTag:()=>h6,validateEventTimestamp:()=>u6,validateEventUrlTag:()=>f6,validateToken:()=>cW});var a6="Nostr ";async function uW(e,t,n,r=!1,i){const o={kind:hy,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};i&&o.tags.push(["payload",wy(i)]);const s=await n(o);return(r?a6:"")+si.encode(Lr.encode(JSON.stringify(s)))}async function cW(e,t,n){const r=await l6(e).catch(o=>{throw o});return await p6(r,t,n).catch(o=>{throw o})}async function l6(e){if(!e)throw new Error("Missing token");e=e.replace(a6,"");const t=Zr.decode(si.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function u6(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function c6(e){return e.kind===hy}function f6(e,t){const n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function d6(e,t){const n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function wy(e){const t=xl(Lr.encode(JSON.stringify(e)));return ln(t)}function h6(e,t){const n=e.tags.find(i=>i[0]==="payload");if(!n)return!1;const r=wy(t);return n.length>0&&n[1]===r}async function p6(e,t,n,r){if(!xd(e))throw new Error("Invalid nostr event, signature invalid");if(!c6(e))throw new Error("Invalid nostr event, kind invalid");if(!u6(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!f6(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!d6(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!h6(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}function fW(){return U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"inset-0 bg-black opacity-80 absolute"}),U.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:U.jsxs("dialog",{open:!0,className:"flex flex-col justify-center items-center p-4 rounded bg-zinc-800 text-white",children:[U.jsxs("p",{className:"text-center p-16",children:["Looks like you do not have a"," ",U.jsx("a",{className:"bg-gradient-to-tr from-purple-500 to-pink-500 text-transparent bg-clip-text",children:"NIP-07"})," ","provider installed. Get one at"," ",U.jsx("a",{className:"bg-gradient-to-tr from-purple-500 to-pink-500 text-transparent bg-clip-text",href:"https://getalby.com",children:"getalby.com"})]}),U.jsx($3,{className:"px-4 py-2 bg-gradient-to-tr from-purple-500 to-pink-500 rounded",to:"/",children:"Back Home"})]})})]})}function dW({isOpen:e}){return e?ho.createPortal(U.jsx(fW,{}),document.getElementById("modal")):null}function hW({setMethod:e}){const[t,n]=q.useState(!1),{setSdk:r}=q.useContext(lr),i=yo();return U.jsxs("div",{className:"flex flex-col justify-center items-center gap-4 p-4 bg-zinc-800 rounded shadow-lg",children:[U.jsx("h1",{children:"Choose a Login Method"}),U.jsxs("div",{className:"flex w-full flex-col justify-center gap-2",children:[U.jsxs("button",{className:"flex items-center justify-center gap-2 bg-pink-600 font-bold px-2 py-1 rounded hover:bg-pink-700 active:bg-pink-700",onClick:()=>{var s;if(!((s=window.nostr)!=null&&s.signEvent)){n(!0);return}const o=new Dc("https://npub.cash",new l4);localStorage.setItem("sdk-method","nip07"),r(o),i("/claim")},children:[U.jsx(I3,{}),"NIP-07"]}),U.jsxs("button",{className:"flex items-center justify-center gap-2 font-bold bg-fuchsia-600 px-2 py-1 rounded hover:bg-fuchsia-700 active:bg-fuchsia-700",onClick:()=>{e("nip46")},children:[U.jsx(OA,{}),"NIP-46"]})]}),U.jsx(dW,{isOpen:t})]})}function pW({setMethod:e}){const[t,n]=q.useState(!1),[r,i]=q.useState(),o=q.useRef(null),{setSdk:s}=q.useContext(lr),a=yo();async function l(){var u;i(null);try{if(!((u=o.current)!=null&&u.value)||!o.current.value.startsWith("bunker"))throw new Error("Invalid Connection String...");const c=new Uint8Array(32),f=window.crypto.getRandomValues(c),p=L3(f);localStorage.setItem("sdk-method","nip46"),localStorage.setItem("nip46-config",JSON.stringify({connectionString:o.current.value,clientSecret:p}));const E=new u4(o.current.value,f);n(!0),await E.connect(),n(!1);const _=new Dc("https://npub.cash",E);s(_),a("/claim")}catch(c){c instanceof Error&&i(c)}finally{n(!1)}}return U.jsxs("div",{className:"flex flex-col justify-center items-center gap-4 p-4 bg-zinc-800 rounded",children:[U.jsx("h1",{children:"Enter your connection string"}),U.jsx("div",{className:"flex w-full flex-col justify-center gap-2",children:U.jsx("input",{ref:o,className:"p-1 bg-zinc-900 rounded"})}),t?U.jsx("p",{className:"text-sm text-white",children:"Connecting..."}):void 0,r?U.jsx("p",{className:"text-sm text-red-500",children:r.message}):void 0,U.jsxs("div",{className:"flex flex-col gap-4",children:[U.jsx("button",{onClick:l,className:"px-2 py-1 bg-purple-600 from-purple-500 to-pink-500 rounded",children:"Connect Signer"}),U.jsx("button",{onClick:()=>{e(void 0)},className:"border-2 border-zinc-400 px-2 py-1 rounded",children:"Back"})]})]})}function gW(){const[e,t]=q.useState();let n;return e==="nip46"?n=U.jsx(pW,{setMethod:t}):e==="nsec"?n=U.jsx("p",{children:"Nsec"}):n=U.jsx(hW,{setMethod:t}),U.jsx("main",{className:"flex justify-center items-center mt-16",children:n})}new tq;const yW=sA([{path:"/",element:U.jsx(BT,{}),children:[{path:"",element:U.jsx(DA,{})},{path:"claim",element:U.jsx(yM,{})},{path:"username",element:U.jsx(Iz,{})},{path:"setup",element:U.jsx(gW,{})}]}]);n0.createRoot(document.getElementById("root")).render(U.jsx(zA,{children:U.jsx(pA,{router:yW})}))});export default mW();
